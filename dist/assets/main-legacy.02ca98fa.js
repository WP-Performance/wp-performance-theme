System.register([],(function(e,t){"use strict";return{execute:function(){"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var e={exports:{}};/*! algoliasearch-lite.umd.js | 4.14.3 | Â© Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */!function(e,t){e.exports=function(){function e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach((function(t){e(r,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))}))}return r}function n(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){var t,r="algoliasearch-client-js-".concat(e.key),n=function(){return void 0===t&&(t=e.localStorage||window.localStorage),t},o=function(){return JSON.parse(n().getItem(r)||"{}")};return{get:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then((function(){var r=JSON.stringify(e),n=o()[r];return Promise.all([n||t(),void 0!==n])})).then((function(e){var t=i(e,2),n=t[0],o=t[1];return Promise.all([n,o||r.miss(n)])})).then((function(e){return i(e,1)[0]}))},set:function(e,t){return Promise.resolve().then((function(){var i=o();return i[JSON.stringify(e)]=t,n().setItem(r,JSON.stringify(i)),t}))},delete:function(e){return Promise.resolve().then((function(){var t=o();delete t[JSON.stringify(e)],n().setItem(r,JSON.stringify(t))}))},clear:function(){return Promise.resolve().then((function(){n().removeItem(r)}))}}}function s(e){var t=o(e.caches),r=t.shift();return void 0===r?{get:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return t().then((function(e){return Promise.all([e,r.miss(e)])})).then((function(e){return i(e,1)[0]}))},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return r.get(e,n,i).catch((function(){return s({caches:t}).get(e,n,i)}))},set:function(e,n){return r.set(e,n).catch((function(){return s({caches:t}).set(e,n)}))},delete:function(e){return r.delete(e).catch((function(){return s({caches:t}).delete(e)}))},clear:function(){return r.clear().catch((function(){return s({caches:t}).clear()}))}}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},t={};return{get:function(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},o=JSON.stringify(r);if(o in t)return Promise.resolve(e.serializable?JSON.parse(t[o]):t[o]);var a=n(),s=i&&i.miss||function(){return Promise.resolve()};return a.then((function(e){return s(e)})).then((function(){return a}))},set:function(r,n){return t[JSON.stringify(r)]=e.serializable?JSON.stringify(n):n,Promise.resolve(n)},delete:function(e){return delete t[JSON.stringify(e)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function u(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}function l(e,t){return t?(Object.keys(t).forEach((function(r){e[r]=t[r](e)})),e):e}function f(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=0;return e.replace(/%s/g,(function(){return encodeURIComponent(r[i++])}))}var h={WithinQueryParameters:0,WithinHeaders:1};function p(e,t){var r=e||{},n=r.data||{};return Object.keys(r).forEach((function(e){-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(e)&&(n[e]=r[e])})),{data:Object.entries(n).length>0?n:void 0,timeout:r.timeout||t,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var d={Read:1,Write:2,Any:3},m=1,g=2,y=3;function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;return r(r({},e),{},{status:t,lastUpdate:Date.now()})}function b(e){return"string"==typeof e?{protocol:"https",url:e,accept:d.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||d.Any}}var O="GET",w="POST";function j(e,t){return Promise.all(t.map((function(t){return e.get(t,(function(){return Promise.resolve(v(t))}))}))).then((function(e){var r=e.filter((function(e){return function(e){return e.status===m||Date.now()-e.lastUpdate>12e4}(e)})),n=e.filter((function(e){return function(e){return e.status===y&&Date.now()-e.lastUpdate<=12e4}(e)})),i=[].concat(o(r),o(n));return{getTimeout:function(e,t){return(0===n.length&&0===e?1:n.length+3+e)*t},statelessHosts:i.length>0?i.map((function(e){return b(e)})):t}}))}function S(e,t,n,i){var a=[],s=function(e,t){if(e.method!==O&&(void 0!==e.data||void 0!==t.data)){var n=Array.isArray(e.data)?e.data:r(r({},e.data),t.data);return JSON.stringify(n)}}(n,i),c=function(e,t){var n=r(r({},e.headers),t.headers),i={};return Object.keys(n).forEach((function(e){var t=n[e];i[e.toLowerCase()]=t})),i}(e,i),u=n.method,l=n.method!==O?{}:r(r({},n.data),i.data),f=r(r(r({"x-algolia-agent":e.userAgent.value},e.queryParameters),l),i.queryParameters),h=0,p=function t(r,o){var l=r.pop();if(void 0===l)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:E(a)};var p={data:s,headers:c,method:u,url:P(l,n.path,f),connectTimeout:o(h,e.timeouts.connect),responseTimeout:o(h,i.timeout)},d=function(e){var t={request:p,response:e,host:l,triesLeft:r.length};return a.push(t),t},m={onSuccess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw function(e,t){return{name:"DeserializationError",message:e,response:t}}(t.message,e)}}(e)},onRetry:function(n){var i=d(n);return n.isTimedOut&&h++,Promise.all([e.logger.info("Retryable failure",F(i)),e.hostsCache.set(l,v(l,n.isTimedOut?y:g))]).then((function(){return t(r,o)}))},onFail:function(e){throw d(e),function(e,t){var r=e.content,n=e.status,i=r;try{i=JSON.parse(r).message}catch(e){}return function(e,t,r){return{name:"ApiError",message:e,status:t,transporterStackTrace:r}}(i,n,t)}(e,E(a))}};return e.requester.send(p).then((function(e){return function(e,t){return function(e){var t=e.status;return e.isTimedOut||function(e){var t=e.isTimedOut,r=e.status;return!t&&0==~~r}(e)||2!=~~(t/100)&&4!=~~(t/100)}(e)?t.onRetry(e):2==~~(e.status/100)?t.onSuccess(e):t.onFail(e)}(e,m)}))};return j(e.hostsCache,t).then((function(e){return p(o(e.statelessHosts).reverse(),e.getTimeout)}))}function _(e){var t={value:"Algolia for JavaScript (".concat(e,")"),add:function(e){var r="; ".concat(e.segment).concat(void 0!==e.version?" (".concat(e.version,")"):"");return-1===t.value.indexOf(r)&&(t.value="".concat(t.value).concat(r)),t}};return t}function P(e,t,r){var n=R(r),i="".concat(e.protocol,"://").concat(e.url,"/").concat("/"===t.charAt(0)?t.substr(1):t);return n.length&&(i+="?".concat(n)),i}function R(e){return Object.keys(e).map((function(t){return f("%s=%s",t,(r=e[t],"[object Object]"===Object.prototype.toString.call(r)||"[object Array]"===Object.prototype.toString.call(r)?JSON.stringify(e[t]):e[t]));var r})).join("&")}function E(e){return e.map((function(e){return F(e)}))}function F(e){var t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return r(r({},e),{},{request:r(r({},e.request),{},{headers:r(r({},e.request.headers),t)})})}var x=function(e){var t=e.appId,n=function(e,t,r){var n={"x-algolia-api-key":r,"x-algolia-application-id":t};return{headers:function(){return e===h.WithinHeaders?n:{}},queryParameters:function(){return e===h.WithinQueryParameters?n:{}}}}(void 0!==e.authMode?e.authMode:h.WithinHeaders,t,e.apiKey),o=function(e){var t=e.hostsCache,r=e.logger,n=e.requester,o=e.requestsCache,a=e.responsesCache,s=e.timeouts,c=e.userAgent,u=e.hosts,l=e.queryParameters,f={hostsCache:t,logger:r,requester:n,requestsCache:o,responsesCache:a,timeouts:s,userAgent:c,headers:e.headers,queryParameters:l,hosts:u.map((function(e){return b(e)})),read:function(e,t){var r=p(t,f.timeouts.read),n=function(){return S(f,f.hosts.filter((function(e){return 0!=(e.accept&d.Read)})),e,r)};if(!0!==(void 0!==r.cacheable?r.cacheable:e.cacheable))return n();var o={request:e,mappedRequestOptions:r,transporter:{queryParameters:f.queryParameters,headers:f.headers}};return f.responsesCache.get(o,(function(){return f.requestsCache.get(o,(function(){return f.requestsCache.set(o,n()).then((function(e){return Promise.all([f.requestsCache.delete(o),e])}),(function(e){return Promise.all([f.requestsCache.delete(o),Promise.reject(e)])})).then((function(e){var t=i(e,2);return t[0],t[1]}))}))}),{miss:function(e){return f.responsesCache.set(o,e)}})},write:function(e,t){return S(f,f.hosts.filter((function(e){return 0!=(e.accept&d.Write)})),e,p(t,f.timeouts.write))}};return f}(r(r({hosts:[{url:"".concat(t,"-dsn.algolia.net"),accept:d.Read},{url:"".concat(t,".algolia.net"),accept:d.Write}].concat(u([{url:"".concat(t,"-1.algolianet.com")},{url:"".concat(t,"-2.algolianet.com")},{url:"".concat(t,"-3.algolianet.com")}]))},e),{},{headers:r(r(r({},n.headers()),{"content-type":"application/x-www-form-urlencoded"}),e.headers),queryParameters:r(r({},n.queryParameters()),e.queryParameters)}));return l({transporter:o,appId:t,addAlgoliaAgent:function(e,t){o.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([o.requestsCache.clear(),o.responsesCache.clear()]).then((function(){}))}},e.methods)},T=function(e){return function(t,r){return t.method===O?e.transporter.read(t,r):e.transporter.write(t,r)}},N=function(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l({transporter:e.transporter,appId:e.appId,indexName:t},r.methods)}},k=function(e){return function(t,n){var i=t.map((function(e){return r(r({},e),{},{params:R(e.params||{})})}));return e.transporter.read({method:w,path:"1/indexes/*/queries",data:{requests:i},cacheable:!0},n)}},I=function(e){return function(t,i){return Promise.all(t.map((function(t){var o=t.params,a=o.facetName,s=o.facetQuery,c=n(o,["facetName","facetQuery"]);return N(e)(t.indexName,{methods:{searchForFacetValues:D}}).searchForFacetValues(a,s,r(r({},i),c))})))}},A=function(e){return function(t,r,n){return e.transporter.read({method:w,path:f("1/answers/%s/prediction",e.indexName),data:{query:t,queryLanguages:r},cacheable:!0},n)}},C=function(e){return function(t,r){return e.transporter.read({method:w,path:f("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},r)}},D=function(e){return function(t,r,n){return e.transporter.read({method:w,path:f("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:r},cacheable:!0},n)}},H=1,L=2,Q=3;function q(e,t,n){var i,o={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise((function(t){var r=new XMLHttpRequest;r.open(e.method,e.url,!0),Object.keys(e.headers).forEach((function(t){return r.setRequestHeader(t,e.headers[t])}));var n,i=function(e,n){return setTimeout((function(){r.abort(),t({status:0,content:n,isTimedOut:!0})}),1e3*e)},o=i(e.connectTimeout,"Connection timeout");r.onreadystatechange=function(){r.readyState>r.OPENED&&void 0===n&&(clearTimeout(o),n=i(e.responseTimeout,"Socket timeout"))},r.onerror=function(){0===r.status&&(clearTimeout(o),clearTimeout(n),t({content:r.responseText||"Network request failed",status:r.status,isTimedOut:!1}))},r.onload=function(){clearTimeout(o),clearTimeout(n),t({content:r.responseText,status:r.status,isTimedOut:!1})},r.send(e.data)}))}},logger:(i=Q,{debug:function(e,t){return H>=i&&console.debug(e,t),Promise.resolve()},info:function(e,t){return L>=i&&console.info(e,t),Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}}),responsesCache:c(),requestsCache:c({serializable:!1}),hostsCache:s({caches:[a({key:"".concat("4.14.3","-").concat(e)}),c()]}),userAgent:_("4.14.3").add({segment:"Browser",version:"lite"}),authMode:h.WithinQueryParameters};return x(r(r(r({},o),n),{},{methods:{search:k,searchForFacetValues:I,multipleQueries:k,multipleSearchForFacetValues:I,customRequest:T,initIndex:function(e){return function(t){return N(e)(t,{methods:{search:C,searchForFacetValues:D,findAnswers:A}})}}}}))}return q.version="4.14.3",q}()}(e);const t=e.exports;function r(e){return"function"==typeof e||Array.isArray(e)||"[object Object]"===Object.prototype.toString.call(e)}function n(e,t){if(e===t)return e;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&"__proto__"!==i&&"constructor"!==i){var o=t[i],a=e[i];void 0!==a&&void 0===o||(r(a)&&r(o)?e[i]=n(a,o):e[i]="object"==typeof(s=o)&&null!==s?n(Array.isArray(s)?[]:{},s):s)}var s;return e}var i=function(e){r(e)||(e={});for(var t=1,i=arguments.length;t<i;t++){var o=arguments[t];r(o)&&n(e,o)}return e},o=function(){return Array.prototype.slice.call(arguments).reduceRight((function(e,t){return Object.keys(Object(t)).forEach((function(r){void 0!==t[r]&&(void 0!==e[r]&&delete e[r],e[r]=t[r])})),e}),{})},a=function(e,t){return e.filter((function(r,n){return t.indexOf(r)>-1&&e.indexOf(r)===n}))},s=function(e,t){if(Array.isArray(e))for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]},c=function e(t){if("number"==typeof t)return t;if("string"==typeof t)return parseFloat(t);if(Array.isArray(t))return t.map(e);throw new Error("The value should be a number, a parsable string or an array of those.")},u=function(e,t){if(null===e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i},l=function(e){return e&&Object.keys(e).length>0},f=o,h=u,p=l,d={addRefinement:function(e,t,r){if(d.isRefined(e,t,r))return e;var n=""+r,i=e[t]?e[t].concat(n):[n],o={};return o[t]=i,f({},o,e)},removeRefinement:function(e,t,r){if(void 0===r)return d.clearRefinement(e,(function(e,r){return t===r}));var n=""+r;return d.clearRefinement(e,(function(e,r){return t===r&&n===e}))},toggleRefinement:function(e,t,r){if(void 0===r)throw new Error("toggleRefinement should be used with a value");return d.isRefined(e,t,r)?d.removeRefinement(e,t,r):d.addRefinement(e,t,r)},clearRefinement:function(e,t,r){if(void 0===t)return p(e)?{}:e;if("string"==typeof t)return h(e,[t]);if("function"==typeof t){var n=!1,i=Object.keys(e).reduce((function(i,o){var a=e[o]||[],s=a.filter((function(e){return!t(e,o,r)}));return s.length!==a.length&&(n=!0),i[o]=s,i}),{});return n?i:e}},isRefined:function(e,t,r){var n=!!e[t]&&e[t].length>0;if(void 0===r||!n)return n;var i=""+r;return-1!==e[t].indexOf(i)}},m=i,g=o,y=a,v=s,b=c,O=u,w=l,j=function(e){return null!==e&&/^[a-zA-Z0-9_-]{1,64}$/.test(e)},S=d;function _(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((function(e,r){return _(t[r],e)})):e===t}function P(e){var t=e?P._parseNumbers(e):{};void 0===t.userToken||j(t.userToken)||console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{};var r=this;Object.keys(t).forEach((function(e){var n=-1!==P.PARAMETERS.indexOf(e),i=void 0!==t[e];!n&&i&&(r[e]=t[e])}))}P.PARAMETERS=Object.keys(new P),P._parseNumbers=function(e){if(e instanceof P)return e;var t={};if(["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"].forEach((function(r){var n=e[r];if("string"==typeof n){var i=parseFloat(n);t[r]=isNaN(i)?n:i}})),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map((function(e){return Array.isArray(e)?e.map((function(e){return parseFloat(e)})):e}))),e.numericRefinements){var r={};Object.keys(e.numericRefinements).forEach((function(t){var n=e.numericRefinements[t]||{};r[t]={},Object.keys(n).forEach((function(e){var i=n[e].map((function(e){return Array.isArray(e)?e.map((function(e){return"string"==typeof e?parseFloat(e):e})):"string"==typeof e?parseFloat(e):e}));r[t][e]=i}))})),t.numericRefinements=r}return m({},e,t)},P.make=function(e){var t=new P(e);return(e.hierarchicalFacets||[]).forEach((function(e){if(e.rootPath){var r=t.getHierarchicalRefinement(e.name);r.length>0&&0!==r[0].indexOf(e.rootPath)&&(t=t.clearRefinements(e.name)),0===(r=t.getHierarchicalRefinement(e.name)).length&&(t=t.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}})),t},P.validate=function(e,t){var r=t||{};return e.tagFilters&&r.tagRefinements&&r.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&r.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&r.numericRefinements&&w(r.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):w(e.numericRefinements)&&r.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},P.prototype={constructor:P,clearRefinements:function(e){var t={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:S.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:S.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:S.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:S.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return t.numericRefinements===this.numericRefinements&&t.facetsRefinements===this.facetsRefinements&&t.facetsExcludes===this.facetsExcludes&&t.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&t.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(t)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,r){var n=b(r);if(this.isNumericRefined(e,t,n))return this;var i=m({},this.numericRefinements);return i[e]=m({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(n)):i[e][t]=[n],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)&&this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsExcludes[e]||[]},removeNumericRefinement:function(e,t,r){return void 0!==r?this.isNumericRefined(e,t,r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(n,i){return i===e&&n.op===t&&_(n.val,b(r))}))}):this:void 0!==t?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(r,n){return n===e&&r.op===t}))}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(t,r){return r===e}))}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(e){if(void 0===e)return w(this.numericRefinements)?{}:this.numericRefinements;if("string"==typeof e)return O(this.numericRefinements,[e]);if("function"==typeof e){var t=!1,r=this.numericRefinements,n=Object.keys(r).reduce((function(n,i){var o=r[i],a={};return o=o||{},Object.keys(o).forEach((function(r){var n=o[r]||[],s=[];n.forEach((function(t){e({val:t,op:r},i,"numeric")||s.push(t)})),s.length!==n.length&&(t=!0),a[r]=s})),n[i]=a,n}),{});return t?n:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return S.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:S.addRefinement(this.facetsRefinements,e,t)})},addExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return S.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:S.addRefinement(this.facetsExcludes,e,t)})},addDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return S.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:S.addRefinement(this.disjunctiveFacetsRefinements,e,t)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(t)},removeFacet:function(e){return this.isConjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({facets:this.facets.filter((function(t){return t!==e}))}):this},removeDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter((function(t){return t!==e}))}):this},removeHierarchicalFacet:function(e){return this.isHierarchicalFacet(e)?this.clearRefinements(e).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter((function(t){return t.name!==e}))}):this},removeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return S.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:S.removeRefinement(this.facetsRefinements,e,t)}):this},removeExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return S.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:S.removeRefinement(this.facetsExcludes,e,t)}):this},removeDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return S.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:S.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this},removeTagRefinement:function(e){if(!this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.filter((function(t){return t!==e}))};return this.setQueryParameters(t)},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:S.toggleRefinement(this.facetsRefinements,e,t)})},toggleExcludeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:S.toggleRefinement(this.facetsExcludes,e,t)})},toggleDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:S.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)})},toggleHierarchicalFacetRefinement:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),n={};return void 0!==this.hierarchicalFacetsRefinements[e]&&this.hierarchicalFacetsRefinements[e].length>0&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+r))?-1===t.indexOf(r)?n[e]=[]:n[e]=[t.slice(0,t.lastIndexOf(r))]:n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:g({},n,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var r={};return r[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:g({},r,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:g({},t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&S.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&S.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){return!!this.isDisjunctiveFacet(e)&&S.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){if(!this.isHierarchicalFacet(e))return!1;var r=this.getHierarchicalRefinement(e);return t?-1!==r.indexOf(t):r.length>0},isNumericRefined:function(e,t,r){if(void 0===r&&void 0===t)return!!this.numericRefinements[e];var n=this.numericRefinements[e]&&void 0!==this.numericRefinements[e][t];if(void 0===r||!n)return n;var i,o,a=b(r),s=void 0!==(i=this.numericRefinements[e][t],o=a,v(i,(function(e){return _(e,o)})));return n&&s},isTagRefined:function(e){return-1!==this.tagRefinements.indexOf(e)},getRefinedDisjunctiveFacets:function(){var e=this,t=y(Object.keys(this.numericRefinements).filter((function(t){return Object.keys(e.numericRefinements[t]).length>0})),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter((function(t){return e.disjunctiveFacetsRefinements[t].length>0})).concat(t).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){var e=this;return y(this.hierarchicalFacets.map((function(e){return e.name})),Object.keys(this.hierarchicalFacetsRefinements).filter((function(t){return e.hierarchicalFacetsRefinements[t].length>0})))},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter((function(t){return-1===e.indexOf(t)}))},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var e=this.managedParameters,t={},r=this;return Object.keys(this).forEach((function(n){var i=r[n];-1===e.indexOf(n)&&void 0!==i&&(t[n]=i)})),t},setQueryParameter:function(e,t){if(this[e]===t)return this;var r={};return r[e]=t,this.setQueryParameters(r)},setQueryParameters:function(e){if(!e)return this;var t=P.validate(this,e);if(t)throw t;var r=this,n=P._parseNumbers(e),i=Object.keys(this).reduce((function(e,t){return e[t]=r[t],e}),{}),o=Object.keys(n).reduce((function(e,t){var r=void 0!==e[t],i=void 0!==n[t];return r&&!i?O(e,[t]):(i&&(e[t]=n[t]),e)}),i);return new this.constructor(o)},resetPage:function(){return void 0===this.page?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!=typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(e){return v(this.hierarchicalFacets,(function(t){return t.name===e}))},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e));return t.split(r).map((function(e){return e.trim()}))},toString:function(){return JSON.stringify(this,null,2)}};var R=P;function E(e,t){if(e!==t){var r=void 0!==e,n=null===e,i=void 0!==t,o=null===t;if(!o&&e>t||n&&i||!r)return 1;if(!n&&e<t||o&&r||!i)return-1}return 0}var F=function(e,t,r){if(!Array.isArray(e))return[];Array.isArray(r)||(r=[]);var n=e.map((function(e,r){return{criteria:t.map((function(t){return e[t]})),index:r,value:e}}));return n.sort((function(e,t){for(var n=-1;++n<e.criteria.length;){var i=E(e.criteria[n],t.criteria[n]);if(i)return n>=r.length?i:"desc"===r[n]?-i:i}return e.index-t.index})),n.map((function(e){return e.value}))},x=s,T=function(e,t){var r=(t||[]).map((function(e){return e.split(":")}));return e.reduce((function(e,t){var n=t.split(":"),i=x(r,(function(e){return e[0]===n[0]}));return n.length>1||!i?(e[0].push(n[0]),e[1].push(n[1]),e):(e[0].push(i[0]),e[1].push(i[1]),e)}),[[],[]])},N={escapeFacetValue:function(e){return"string"!=typeof e?e:String(e).replace(/^-/,"\\-")},unescapeFacetValue:function(e){return"string"!=typeof e?e:e.replace(/^\\-/,"-")}},k=function(e){return function(t,r){var n=e.hierarchicalFacets[r],i=e.hierarchicalFacetsRefinements[n.name]&&e.hierarchicalFacetsRefinements[n.name][0]||"",o=e._getHierarchicalFacetSeparator(n),a=e._getHierarchicalRootPath(n),s=e._getHierarchicalShowParentLevel(n),c=C(e._getHierarchicalFacetSortBy(n)),u=t.every((function(e){return e.exhaustive})),l=function(e,t,r,n,i){return function(o,a,s){var c=o;if(s>0){var u=0;for(c=o;u<s;){var l=c&&Array.isArray(c.data)?c.data:[];c=A(l,(function(e){return e.isRefined})),u++}}if(c){var f=Object.keys(a.data).map((function(e){return[e,a.data[e]]})).filter((function(e){return function(e,t,r,n,i,o){return(!i||0===e.indexOf(i)&&i!==e)&&(!i&&-1===e.indexOf(n)||i&&e.split(n).length-i.split(n).length==1||-1===e.indexOf(n)&&-1===r.indexOf(n)||0===r.indexOf(e)||0===e.indexOf(t+n)&&(o||0===e.indexOf(r)))}(e[0],c.path||r,i,t,r,n)}));c.data=I(f.map((function(e){var r=e[0];return function(e,t,r,n,i){var o=t.split(r);return{name:o[o.length-1].trim(),path:t,escapedValue:D(t),count:e,isRefined:n===t||0===n.indexOf(t+r),exhaustive:i,data:null}}(e[1],r,t,H(i),a.exhaustive)})),e[0],e[1])}return o}}(c,o,a,s,i),f=t;return a&&(f=t.slice(a.split(o).length)),f.reduce(l,{name:e.hierarchicalFacets[r].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:u,data:null})}},I=F,A=s,C=T,D=N.escapeFacetValue,H=N.unescapeFacetValue,L=i,Q=o,q=F,M=function(e){return Array.isArray(e)?e.filter(Boolean):[]},U=s,W=function(e,t){if(!Array.isArray(e))return-1;for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1},B=T,V=N.escapeFacetValue,$=N.unescapeFacetValue,J=k;function z(e){var t={};return e.forEach((function(e,r){t[e]=r})),t}function K(e,t,r){t&&t[r]&&(e.stats=t[r])}function G(e,t,r){var n=t[0];this._rawResults=t;var i=this;Object.keys(n).forEach((function(e){i[e]=n[e]})),Object.keys(r||{}).forEach((function(e){i[e]=r[e]})),this.processingTimeMS=t.reduce((function(e,t){return void 0===t.processingTimeMS?e:e+t.processingTimeMS}),0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map((function(){return[]})),this.facets=[];var o=e.getRefinedDisjunctiveFacets(),a=z(e.facets),s=z(e.disjunctiveFacets),c=1,u=n.facets||{};Object.keys(u).forEach((function(t){var r,o,c=u[t],l=(r=e.hierarchicalFacets,o=t,U(r,(function(e){return(e.attributes||[]).indexOf(o)>-1})));if(l){var f=l.attributes.indexOf(t),h=W(e.hierarchicalFacets,(function(e){return e.name===l.name}));i.hierarchicalFacets[h][f]={attribute:t,data:c,exhaustive:n.exhaustiveFacetsCount}}else{var p,d=-1!==e.disjunctiveFacets.indexOf(t),m=-1!==e.facets.indexOf(t);d&&(p=s[t],i.disjunctiveFacets[p]={name:t,data:c,exhaustive:n.exhaustiveFacetsCount},K(i.disjunctiveFacets[p],n.facets_stats,t)),m&&(p=a[t],i.facets[p]={name:t,data:c,exhaustive:n.exhaustiveFacetsCount},K(i.facets[p],n.facets_stats,t))}})),this.hierarchicalFacets=M(this.hierarchicalFacets),o.forEach((function(r){var o=t[c],a=o&&o.facets?o.facets:{},u=e.getHierarchicalFacetByName(r);Object.keys(a).forEach((function(t){var r,c=a[t];if(u){r=W(e.hierarchicalFacets,(function(e){return e.name===u.name}));var l=W(i.hierarchicalFacets[r],(function(e){return e.attribute===t}));if(-1===l)return;i.hierarchicalFacets[r][l].data=L({},i.hierarchicalFacets[r][l].data,c)}else{r=s[t];var f=n.facets&&n.facets[t]||{};i.disjunctiveFacets[r]={name:t,data:Q({},c,f),exhaustive:o.exhaustiveFacetsCount},K(i.disjunctiveFacets[r],o.facets_stats,t),e.disjunctiveFacetsRefinements[t]&&e.disjunctiveFacetsRefinements[t].forEach((function(n){!i.disjunctiveFacets[r].data[n]&&e.disjunctiveFacetsRefinements[t].indexOf($(n))>-1&&(i.disjunctiveFacets[r].data[n]=0)}))}})),c++})),e.getRefinedHierarchicalFacets().forEach((function(r){var n=e.getHierarchicalFacetByName(r),o=e._getHierarchicalFacetSeparator(n),a=e.getHierarchicalRefinement(r);0===a.length||a[0].split(o).length<2||t.slice(c).forEach((function(t){var r=t&&t.facets?t.facets:{};Object.keys(r).forEach((function(t){var s=r[t],c=W(e.hierarchicalFacets,(function(e){return e.name===n.name})),u=W(i.hierarchicalFacets[c],(function(e){return e.attribute===t}));if(-1!==u){var l={};if(a.length>0){var f=a[0].split(o)[0];l[f]=i.hierarchicalFacets[c][u].data[f]}i.hierarchicalFacets[c][u].data=Q(l,s,i.hierarchicalFacets[c][u].data)}})),c++}))})),Object.keys(e.facetsExcludes).forEach((function(t){var r=e.facetsExcludes[t],o=a[t];i.facets[o]={name:t,data:n.facets[t],exhaustive:n.exhaustiveFacetsCount},r.forEach((function(e){i.facets[o]=i.facets[o]||{name:t},i.facets[o].data=i.facets[o].data||{},i.facets[o].data[e]=0}))})),this.hierarchicalFacets=this.hierarchicalFacets.map(J(e)),this.facets=M(this.facets),this.disjunctiveFacets=M(this.disjunctiveFacets),this._state=e}function Y(e,t){function r(e){return e.name===t}if(e._state.isConjunctiveFacet(t)){var n=U(e.facets,r);return n?Object.keys(n.data).map((function(r){var i=V(r);return{name:r,escapedValue:i,count:n.data[r],isRefined:e._state.isFacetRefined(t,i),isExcluded:e._state.isExcludeRefined(t,r)}})):[]}if(e._state.isDisjunctiveFacet(t)){var i=U(e.disjunctiveFacets,r);return i?Object.keys(i.data).map((function(r){var n=V(r);return{name:r,escapedValue:n,count:i.data[r],isRefined:e._state.isDisjunctiveFacetRefined(t,n)}})):[]}if(e._state.isHierarchicalFacet(t)){var o=U(e.hierarchicalFacets,r);if(!o)return o;var a=e._state.getHierarchicalFacetByName(t),s=$(e._state.getHierarchicalRefinement(t)[0]||"").split(e._state._getHierarchicalFacetSeparator(a));return s.unshift(t),Z(o,s,0),o}}function Z(e,t,r){e.isRefined=e.name===t[r],e.data&&e.data.forEach((function(e){Z(e,t,r+1)}))}function X(e,t,r,n){if(n=n||0,Array.isArray(t))return e(t,r[n]);if(!t.data||0===t.data.length)return t;var i=t.data.map((function(t){return X(e,t,r,n+1)})),o=e(i,r[n]);return Q({data:o},t)}function ee(e,t){var r=U(e,(function(e){return e.name===t}));return r&&r.stats}function te(e,t,r,n,i){var o=U(i,(function(e){return e.name===r})),a=o&&o.data&&o.data[n]?o.data[n]:0,s=o&&o.exhaustive||!1;return{type:t,attributeName:r,name:n,count:a,exhaustive:s}}G.prototype.getFacetByName=function(e){function t(t){return t.name===e}return U(this.facets,t)||U(this.disjunctiveFacets,t)||U(this.hierarchicalFacets,t)},G.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],G.prototype.getFacetValues=function(e,t){var r=Y(this,e);if(r){var n,i=Q({},t,{sortBy:G.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),o=this;return n=Array.isArray(r)?[e]:o._state.getHierarchicalFacetByName(r.name).attributes,X((function(e,t){if(i.facetOrdering){var r=function(e,t){return e.renderingContent&&e.renderingContent.facetOrdering&&e.renderingContent.facetOrdering.values&&e.renderingContent.facetOrdering.values[t]}(o,t);if(Boolean(r))return function(e,t){var r=[],n=[],i=(t.order||[]).reduce((function(e,t,r){return e[t]=r,e}),{});e.forEach((function(e){var t=e.path||e.name;void 0!==i[t]?r[i[t]]=e:n.push(e)})),r=r.filter((function(e){return e}));var o,a=t.sortRemainingBy;return"hidden"===a?r:(o="alpha"===a?[["path","name"],["asc","asc"]]:[["count"],["desc"]],r.concat(q(n,o[0],o[1])))}(e,r)}if(Array.isArray(i.sortBy)){var n=B(i.sortBy,G.DEFAULT_SORT);return q(e,n[0],n[1])}if("function"==typeof i.sortBy)return function(e,t){return t.sort(e)}(i.sortBy,e);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")}),r,n)}},G.prototype.getFacetStats=function(e){return this._state.isConjunctiveFacet(e)?ee(this.facets,e):this._state.isDisjunctiveFacet(e)?ee(this.disjunctiveFacets,e):void 0},G.prototype.getRefinements=function(){var e=this._state,t=this,r=[];return Object.keys(e.facetsRefinements).forEach((function(n){e.facetsRefinements[n].forEach((function(e){r.push(te(0,"facet",n,e,t.facets))}))})),Object.keys(e.facetsExcludes).forEach((function(n){e.facetsExcludes[n].forEach((function(e){r.push(te(0,"exclude",n,e,t.facets))}))})),Object.keys(e.disjunctiveFacetsRefinements).forEach((function(n){e.disjunctiveFacetsRefinements[n].forEach((function(e){r.push(te(0,"disjunctive",n,e,t.disjunctiveFacets))}))})),Object.keys(e.hierarchicalFacetsRefinements).forEach((function(n){e.hierarchicalFacetsRefinements[n].forEach((function(i){r.push(function(e,t,r,n){var i=e.getHierarchicalFacetByName(t),o=e._getHierarchicalFacetSeparator(i),a=r.split(o),s=U(n,(function(e){return e.name===t})),c=a.reduce((function(e,t){var r=e&&U(e.data,(function(e){return e.name===t}));return void 0!==r?r:e}),s),u=c&&c.count||0,l=c&&c.exhaustive||!1,f=c&&c.path||"";return{type:"hierarchical",attributeName:t,name:f,count:u,exhaustive:l}}(e,n,i,t.hierarchicalFacets))}))})),Object.keys(e.numericRefinements).forEach((function(t){var n=e.numericRefinements[t];Object.keys(n).forEach((function(e){n[e].forEach((function(n){r.push({type:"numeric",attributeName:t,name:n,numericValue:n,operator:e})}))}))})),e.tagRefinements.forEach((function(e){r.push({type:"tag",attributeName:"_tags",name:e})})),r};var re=G;function ne(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var ie=ne;function oe(e){return"function"==typeof e}function ae(e){return"object"==typeof e&&null!==e}function se(e){return void 0===e}ne.prototype._events=void 0,ne.prototype._maxListeners=void 0,ne.defaultMaxListeners=10,ne.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},ne.prototype.emit=function(e){var t,r,n,i,o,a;if(this._events||(this._events={}),"error"===e&&(!this._events.error||ae(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var s=new Error('Uncaught, unspecified "error" event. ('+t+")");throw s.context=t,s}if(se(r=this._events[e]))return!1;if(oe(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(ae(r))for(i=Array.prototype.slice.call(arguments,1),n=(a=r.slice()).length,o=0;o<n;o++)a[o].apply(this,i);return!0},ne.prototype.addListener=function(e,t){var r;if(!oe(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,oe(t.listener)?t.listener:t),this._events[e]?ae(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,ae(this._events[e])&&!this._events[e].warned&&(r=se(this._maxListeners)?ne.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},ne.prototype.on=ne.prototype.addListener,ne.prototype.once=function(e,t){if(!oe(t))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this},ne.prototype.removeListener=function(e,t){var r,n,i,o;if(!oe(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(r=this._events[e]).length,n=-1,r===t||oe(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(ae(r)){for(o=i;o-- >0;)if(r[o]===t||r[o].listener&&r[o].listener===t){n=o;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},ne.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(oe(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},ne.prototype.listeners=function(e){return this._events&&this._events[e]?oe(this._events[e])?[this._events[e]]:this._events[e].slice():[]},ne.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(oe(t))return 1;if(t)return t.length}return 0},ne.listenerCount=function(e,t){return e.listenerCount(t)};var ce=function(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})};function ue(e,t){this.main=e,this.fn=t,this.lastResults=null}ce(ue,ie),ue.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},ue.prototype.getModifiedState=function(e){return this.fn(e)};var le=i;function fe(e){return Object.keys(e).sort((function(e,t){return e.localeCompare(t)})).reduce((function(t,r){return t[r]=e[r],t}),{})}var he={_getQueries:function(e,t){var r=[];return r.push({indexName:e,params:he._getHitsSearchParams(t)}),t.getRefinedDisjunctiveFacets().forEach((function(n){r.push({indexName:e,params:he._getDisjunctiveFacetSearchParams(t,n)})})),t.getRefinedHierarchicalFacets().forEach((function(n){var i=t.getHierarchicalFacetByName(n),o=t.getHierarchicalRefinement(n),a=t._getHierarchicalFacetSeparator(i);if(o.length>0&&o[0].split(a).length>1){var s=o[0].split(a).slice(0,-1).reduce((function(e,t,r){return e.concat({attribute:i.attributes[r],value:0===r?t:[e[e.length-1].value,t].join(a)})}),[]);s.forEach((function(n,o){var a=he._getDisjunctiveFacetSearchParams(t,n.attribute,0===o);function c(e){return i.attributes.some((function(t){return t===e.split(":")[0]}))}var u=(a.facetFilters||[]).reduce((function(e,t){if(Array.isArray(t)){var r=t.filter((function(e){return!c(e)}));r.length>0&&e.push(r)}return"string"!=typeof t||c(t)||e.push(t),e}),[]),l=s[o-1];a.facetFilters=o>0?u.concat(l.attribute+":"+l.value):u.length>0?u:void 0,r.push({indexName:e,params:a})}))}})),r},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(he._getHitsHierarchicalFacetsAttributes(e)),r=he._getFacetFilters(e),n=he._getNumericFilters(e),i=he._getTagFilters(e),o={facets:t.indexOf("*")>-1?["*"]:t,tagFilters:i};return r.length>0&&(o.facetFilters=r),n.length>0&&(o.numericFilters=n),fe(le({},e.getQueryParams(),o))},_getDisjunctiveFacetSearchParams:function(e,t,r){var n=he._getFacetFilters(e,t,r),i=he._getNumericFilters(e,t),o=he._getTagFilters(e),a={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};o.length>0&&(a.tagFilters=o);var s=e.getHierarchicalFacetByName(t);return a.facets=s?he._getDisjunctiveHierarchicalFacetAttribute(e,s,r):t,i.length>0&&(a.numericFilters=i),n.length>0&&(a.facetFilters=n),fe(le({},e.getQueryParams(),a))},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var r=[];return Object.keys(e.numericRefinements).forEach((function(n){var i=e.numericRefinements[n]||{};Object.keys(i).forEach((function(e){var o=i[e]||[];t!==n&&o.forEach((function(t){if(Array.isArray(t)){var i=t.map((function(t){return n+e+t}));r.push(i)}else r.push(n+e+t)}))}))})),r},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,r){var n=[],i=e.facetsRefinements||{};Object.keys(i).forEach((function(e){(i[e]||[]).forEach((function(t){n.push(e+":"+t)}))}));var o=e.facetsExcludes||{};Object.keys(o).forEach((function(e){(o[e]||[]).forEach((function(t){n.push(e+":-"+t)}))}));var a=e.disjunctiveFacetsRefinements||{};Object.keys(a).forEach((function(e){var r=a[e]||[];if(e!==t&&r&&0!==r.length){var i=[];r.forEach((function(t){i.push(e+":"+t)})),n.push(i)}}));var s=e.hierarchicalFacetsRefinements||{};return Object.keys(s).forEach((function(i){var o=(s[i]||[])[0];if(void 0!==o){var a,c,u=e.getHierarchicalFacetByName(i),l=e._getHierarchicalFacetSeparator(u),f=e._getHierarchicalRootPath(u);if(t===i){if(-1===o.indexOf(l)||!f&&!0===r||f&&f.split(l).length===o.split(l).length)return;f?(c=f.split(l).length-1,o=f):(c=o.split(l).length-2,o=o.slice(0,o.lastIndexOf(l))),a=u.attributes[c]}else c=o.split(l).length-1,a=u.attributes[c];a&&n.push([a+":"+o])}})),n},_getHitsHierarchicalFacetsAttributes:function(e){return e.hierarchicalFacets.reduce((function(t,r){var n=e.getHierarchicalRefinement(r.name)[0];if(!n)return t.push(r.attributes[0]),t;var i=e._getHierarchicalFacetSeparator(r),o=n.split(i).length,a=r.attributes.slice(0,o+1);return t.concat(a)}),[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,r){var n=e._getHierarchicalFacetSeparator(t);if(!0===r){var i=e._getHierarchicalRootPath(t),o=0;return i&&(o=i.split(n).length),[t.attributes[o]]}var a=(e.getHierarchicalRefinement(t.name)[0]||"").split(n).length-1;return t.attributes.slice(0,a+1)},getSearchForFacetQuery:function(e,t,r,n){var i=n.isDisjunctiveFacet(e)?n.clearRefinements(e):n,o={facetQuery:t,facetName:e};return"number"==typeof r&&(o.maxFacetHits=r),fe(le({},he._getHitsSearchParams(i),o))}},pe="3.11.3",de=R,me=re,ge=ue,ye=he,ve=l,be=u,Oe=i,we=pe,je=N.escapeFacetValue;function Se(e,t,r){"function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+we+")"),this.setClient(e);var n=r||{};n.index=t,this.state=de.make(n),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}function _e(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}function Pe(){return this.state.page}ce(Se,ie),Se.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},Se.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},Se.prototype.getQuery=function(){var e=this.state;return ye._getHitsSearchParams(e)},Se.prototype.searchOnce=function(e,t){var r=e?this.state.setQueryParameters(e):this.state,n=ye._getQueries(r.index,r),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:r}),!t)return this.client.search(n).then((function(e){return i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),{content:new me(r,e.results),state:r,_originalResponse:e}}),(function(e){throw i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),e}));this.client.search(n).then((function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(null,new me(r,e.results),r)})).catch((function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(e,null,r)}))},Se.prototype.findAnswers=function(e){console.warn("[algoliasearch-helper] answers is no longer supported");var t=this.state,r=this.derivedHelpers[0];if(!r)return Promise.resolve([]);var n=r.getModifiedState(t),i=Oe({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:be(ye._getHitsSearchParams(n),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),o="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if("function"!=typeof this.client.initIndex)throw new Error(o);var a=this.client.initIndex(n.index);if("function"!=typeof a.findAnswers)throw new Error(o);return a.findAnswers(n.query,e.queryLanguages,i)},Se.prototype.searchForFacetValues=function(e,t,r,n){var i="function"==typeof this.client.searchForFacetValues,o="function"==typeof this.client.initIndex;if(!i&&!o&&"function"!=typeof this.client.search)throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var a=this.state.setQueryParameters(n||{}),s=a.isDisjunctiveFacet(e),c=ye.getSearchForFacetQuery(e,t,r,a);this._currentNbQueries++;var u,l=this;return i?u=this.client.searchForFacetValues([{indexName:a.index,params:c}]):o?u=this.client.initIndex(a.index).searchForFacetValues(c):(delete c.facetName,u=this.client.search([{type:"facet",facet:e,indexName:a.index,params:c}]).then((function(e){return e.results[0]}))),this.emit("searchForFacetValues",{state:a,facet:e,query:t}),u.then((function(t){return l._currentNbQueries--,0===l._currentNbQueries&&l.emit("searchQueueEmpty"),(t=Array.isArray(t)?t[0]:t).facetHits.forEach((function(t){t.escapedValue=je(t.value),t.isRefined=s?a.isDisjunctiveFacetRefined(e,t.escapedValue):a.isFacetRefined(e,t.escapedValue)})),t}),(function(e){throw l._currentNbQueries--,0===l._currentNbQueries&&l.emit("searchQueueEmpty"),e}))},Se.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this},Se.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this},Se.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},Se.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},Se.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},Se.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this},Se.prototype.addNumericRefinement=function(e,t,r){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,r),isPageReset:!0}),this},Se.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this},Se.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},Se.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this},Se.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},Se.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this},Se.prototype.removeNumericRefinement=function(e,t,r){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,r),isPageReset:!0}),this},Se.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},Se.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},Se.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this},Se.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this},Se.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},Se.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this},Se.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},Se.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this},Se.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this},Se.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},Se.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},Se.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this},Se.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},Se.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this},Se.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)},Se.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)},Se.prototype.setCurrentPage=_e,Se.prototype.setPage=_e,Se.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this},Se.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this},Se.prototype.setState=function(e){return this._change({state:de.make(e),isPageReset:!1}),this},Se.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new de(e),this},Se.prototype.hasRefinements=function(e){return!!ve(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},Se.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},Se.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},Se.prototype.hasTag=function(e){return this.state.isTagRefined(e)},Se.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},Se.prototype.getIndex=function(){return this.state.index},Se.prototype.getCurrentPage=Pe,Se.prototype.getPage=Pe,Se.prototype.getTags=function(){return this.state.tagRefinements},Se.prototype.getRefinements=function(e){var t=[];this.state.isConjunctiveFacet(e)?(this.state.getConjunctiveRefinements(e).forEach((function(e){t.push({value:e,type:"conjunctive"})})),this.state.getExcludeRefinements(e).forEach((function(e){t.push({value:e,type:"exclude"})}))):this.state.isDisjunctiveFacet(e)&&this.state.getDisjunctiveRefinements(e).forEach((function(e){t.push({value:e,type:"disjunctive"})}));var r=this.state.getNumericRefinements(e);return Object.keys(r).forEach((function(e){var n=r[e];t.push({value:n,operator:e,type:"numeric"})})),t},Se.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},Se.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},Se.prototype._search=function(e){var t=this.state,r=[],n=[];e.onlyWithDerivedHelpers||(n=ye._getQueries(t.index,t),r.push({state:t,queriesCount:n.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map((function(e){var n=e.getModifiedState(t),i=ye._getQueries(n.index,n);return r.push({state:n,queriesCount:i.length,helper:e}),e.emit("search",{state:n,results:e.lastResults}),i})),o=Array.prototype.concat.apply(n,i),a=this._queryId++;this._currentNbQueries++;try{this.client.search(o).then(this._dispatchAlgoliaResponse.bind(this,r,a)).catch(this._dispatchAlgoliaError.bind(this,a))}catch(s){this.emit("error",{error:s})}},Se.prototype._dispatchAlgoliaResponse=function(e,t,r){if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty");var n=r.results.slice();e.forEach((function(e){var t=e.state,r=e.queriesCount,i=e.helper,o=n.splice(0,r),a=i.lastResults=new me(t,o);i.emit("result",{results:a,state:t})}))}},Se.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},Se.prototype.containsRefinement=function(e,t,r,n){return e||0!==t.length||0!==r.length||0!==n.length},Se.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0},Se.prototype._change=function(e){var t=e.state,r=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:r}))},Se.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},Se.prototype.setClient=function(e){return this.client===e||("function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+we+")"),this.client=e),this},Se.prototype.getClient=function(){return this.client},Se.prototype.derive=function(e){var t=new ge(this,e);return this.derivedHelpers.push(t),t},Se.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(-1===t)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)},Se.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};var Re=Se,Ee=R,Fe=re;function xe(e,t,r){return new Re(e,t,r)}xe.version=pe,xe.AlgoliaSearchHelper=Re,xe.SearchParameters=Ee,xe.SearchResults=Fe;var Te=xe;function Ne(){}var ke=function(e,t){return e};function Ie(e,t){if(void 0===e||"function"!=typeof e)throw new Error("The render function is not valid (received type ".concat((r=e,Object.prototype.toString.call(r).slice(8,-1)),").\n\n").concat(t));var r}var Ae={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ce=/[&<>"']/g,De=RegExp(Ce.source),He={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Le=/&(amp|quot|lt|gt|#39);/g,Qe=RegExp(Le.source);function qe(e){return e&&Qe.test(e)?e.replace(Le,(function(e){return He[e]})):e}function Me(e){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}function Ue(e){if(!function(e){return"object"===Me(e)&&null!==e}(e)||"[object Object]"!==function(e){return null===e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function We(e){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(e)}function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Be.apply(this,arguments)}function Ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(r),!0).forEach((function(t){Je(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Je(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==We(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==We(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===We(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ze={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},Ke={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function Ge(e){return function(e){return e&&De.test(e)?e.replace(Ce,(function(e){return Ae[e]})):e}(e).replace(new RegExp(ze.highlightPreTag,"g"),Ke.highlightPreTag).replace(new RegExp(ze.highlightPostTag,"g"),Ke.highlightPostTag)}function Ye(e){return Ue(e)&&"string"!=typeof e.value?Object.keys(e).reduce((function(t,r){return $e($e({},t),{},Je({},r,Ye(e[r])))}),{}):Array.isArray(e)?e.map(Ye):$e($e({},e),{},{value:Ge(e.value)})}function Ze(e){return void 0===e.__escaped&&((e=e.map((function(e){var t=Be({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return t._highlightResult&&(t._highlightResult=Ye(t._highlightResult)),t._snippetResult&&(t._snippetResult=Ye(t._snippetResult)),t}))).__escaped=!0),e}function Xe(e){var t=Ke.highlightPreTag,r=Ke.highlightPostTag;return e.map((function(e){return e.isHighlighted?t+e.value+r:e.value})).join("")}function et(e){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},et(e)}function tt(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function rt(e){return JSON.parse(decodeURIComponent(atob(e)))}function nt(e){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt(e)}var it=function(e){var t=e.index,r=e.widgetType;e.methodName;var n=e.args,i=e.instantSearchInstance;if(1===n.length&&"object"===nt(n[0]))return[n[0]];var o=n[0],a=n[1],s=n[2];if(!a)return[];if(("click"===o||"conversion"===o)&&!s)return[];var c=Array.isArray(a)?function(e){return e.slice()}(a):[a];if(0===c.length)return[];var u=c[0].__queryID,l=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,r=[],n=0;n<Math.ceil(e.length/t);n++)r.push(e.slice(n*t,(n+1)*t));return r}(c),f=l.map((function(e){return e.map((function(e){return e.objectID}))})),h=l.map((function(e){return e.map((function(e){return e.__position}))}));return"view"===o?"idle"!==i.status?[]:l.map((function(e,n){return{insightsMethod:"viewedObjectIDs",widgetType:r,eventType:o,payload:{eventName:s||"Hits Viewed",index:t,objectIDs:f[n]},hits:e}})):"click"===o?l.map((function(e,n){return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:r,eventType:o,payload:{eventName:s,index:t,queryID:u,objectIDs:f[n],positions:h[n]},hits:e}})):"conversion"===o?l.map((function(e,n){return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:r,eventType:o,payload:{eventName:s,index:t,queryID:u,objectIDs:f[n]},hits:e}})):[]};function ot(e){return"ais.index"===e.$$type}function at(e,t){var r=e[t.getIndexId()]||{};t.getHelper().setState(t.getWidgetSearchParameters(t.getHelper().state,{uiState:r})),t.getWidgets().filter(ot).forEach((function(t){return at(e,t)}))}var st=Promise.resolve();function ct(e){var t=null,r=!1,n=function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];null===t&&(t=st.then((function(){t=null,r?r=!1:e.apply(void 0,i)})))};return n.wait=function(){if(null===t)throw new Error("The deferred function should be called before calling `wait()`");return t},n.cancel=function(){null!==t&&(r=!0)},n}function ut(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map((function(e){return r=(t=e).name,n=t.connector,["https://www.algolia.com/doc/api-reference/widgets/",r,"/js/",void 0!==n&&n?"#connector":""].join("");var t,r,n})).join(", ");return function(e){return[e,"See documentation: ".concat(n)].filter(Boolean).join("\n\n")}}function lt(e){var t,r="string"==typeof e,n=r?document.querySelector(e):e;if(!((t=n)instanceof HTMLElement||Boolean(t)&&t.nodeType>0)){var i="Container must be `string` or `HTMLElement`.";throw r&&(i+=" Unable to find ".concat(e)),new Error(i)}return n}function ft(e){var t=Ke.highlightPostTag,r=Ke.highlightPreTag,n=e.split(r),i=n.shift(),o=i?[{value:i,isHighlighted:!1}]:[];return n.forEach((function(e){var r=e.split(t);o.push({value:r[0],isHighlighted:!0}),""!==r[1]&&o.push({value:r[1],isHighlighted:!1})})),o}var ht=new RegExp(/\w/i);function pt(e,t){var r,n,i=e[t],o=(null===(r=e[t+1])||void 0===r?void 0:r.isHighlighted)||!0,a=(null===(n=e[t-1])||void 0===n?void 0:n.isHighlighted)||!0;return ht.test(qe(i.value))||a!==o?i.isHighlighted:a}function dt(e,t){return(Array.isArray(t)?t:t.split(".")).reduce((function(e,t){return e&&e[t]}),e)}function mt(e){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mt(e)}function gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(r),!0).forEach((function(t){vt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==mt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===mt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bt(e){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(e)}function Ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(r),!0).forEach((function(t){jt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==bt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==bt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===bt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function St(e){return e!==Object(e)}function _t(e,t){if(e===t)return!0;if(St(e)||St(t)||"function"==typeof e||"function"==typeof t)return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];if(!(i in t))return!1;if(!_t(e[i],t[i]))return!1}return!0}function Pt(e){return e.filter((function(e,t,r){return r.indexOf(e)===t}))}function Rt(e){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}var Et=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function Ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(r),!0).forEach((function(t){Tt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Rt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Rt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nt(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var kt=function(e,t){t.facets,t.disjunctiveFacets,t.facetsRefinements,t.facetsExcludes,t.disjunctiveFacetsRefinements,t.numericRefinements,t.tagRefinements,t.hierarchicalFacets,t.hierarchicalFacetsRefinements,t.ruleContexts;var r=Nt(t,Et);return e.setQueryParameters(r)},It=function(e,t){return t.facets.reduce((function(e,t){return e.addFacet(t)}),e)},At=function(e,t){return t.disjunctiveFacets.reduce((function(e,t){return e.addDisjunctiveFacet(t)}),e)},Ct=function(e,t){return e.setQueryParameters({hierarchicalFacets:t.hierarchicalFacets.reduce((function(e,t){var r=function(e,t){if(!Array.isArray(e))return-1;for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}(e,(function(e){return e.name===t.name}));if(-1===r)return e.concat(t);var n=e.slice();return n.splice(r,1,t),n}),e.hierarchicalFacets)})},Dt=function(e,t){return t.tagRefinements.reduce((function(e,t){return e.addTagRefinement(t)}),e)},Ht=function(e,t){return e.setQueryParameters({facetsRefinements:xt(xt({},e.facetsRefinements),t.facetsRefinements)})},Lt=function(e,t){return e.setQueryParameters({facetsExcludes:xt(xt({},e.facetsExcludes),t.facetsExcludes)})},Qt=function(e,t){return e.setQueryParameters({disjunctiveFacetsRefinements:xt(xt({},e.disjunctiveFacetsRefinements),t.disjunctiveFacetsRefinements)})},qt=function(e,t){return e.setQueryParameters({numericRefinements:xt(xt({},e.numericRefinements),t.numericRefinements)})},Mt=function(e,t){return e.setQueryParameters({hierarchicalFacetsRefinements:xt(xt({},e.hierarchicalFacetsRefinements),t.hierarchicalFacetsRefinements)})},Ut=function(e,t){var r=Pt([].concat(e.ruleContexts).concat(t.ruleContexts).filter(Boolean));return r.length>0?e.setQueryParameters({ruleContexts:r}):e},Wt=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t){var r=Mt(e,t),n=Ct(r,t),i=Dt(n,t),o=qt(i,t),a=Qt(o,t),s=Lt(a,t),c=Ht(s,t),u=At(c,t),l=Ut(u,t),f=It(l,t);return kt(f,t)}))};function Bt(e,t,r){var n=t.getHelper();return{uiState:r,helper:n,parent:t,instantSearchInstance:e,state:n.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:"stalled"===e.status},status:e.status,error:e.error}}function Vt(e,t){var r=t.getResults();return{helper:t.getHelper(),parent:t,instantSearchInstance:e,results:r,scopedResults:t.getScopedResults(),state:r._state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:"stalled"===e.status},status:e.status,error:e.error}}function $t(e){return $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$t(e)}function Jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(r),!0).forEach((function(t){Kt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==$t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==$t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$t(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gt(e){return e.some((function(e){return e.isHighlighted}))?e.map((function(t,r){return zt(zt({},t),{},{isHighlighted:!pt(e,r)})})):e.map((function(e){return zt(zt({},e),{},{isHighlighted:!1})}))}function Yt(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fallback:function(){}}).fallback;return"undefined"==typeof window?t():e({window:window})}function Zt(e){return Array.isArray(e)?e:[e]}function Xt(e){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xt(e)}var er=["initialSearchParameters"];function tr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(r),!0).forEach((function(t){nr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Xt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Xt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Xt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ir(e){return function(e){if(Array.isArray(e))return or(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return or(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?or(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function or(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ar(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var sr=ut({name:"index-widget"});function cr(e,t){var r=t.state,n=t.isPageReset,i=t._uiState;r!==e.state&&(e.state=r,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:n,_uiState:i}))}function ur(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.reduce((function(e,r){return ot(r)?e:r.getWidgetUiState||r.getWidgetState?r.getWidgetUiState?r.getWidgetUiState(e,t):r.getWidgetState(e,t):e}),r)}function lr(e,t){var r=t.initialSearchParameters,n=ar(t,er);return e.filter((function(e){return!ot(e)})).reduce((function(e,t){return t.getWidgetSearchParameters?t.getWidgetSearchParameters(e,n):e}),r)}function fr(e){var t=e.filter(ot);0!==t.length&&t.forEach((function(e){var t=e.getHelper();cr(t,{state:t.state.resetPage(),isPageReset:!0}),fr(e.getWidgets())}))}function hr(e){return e.filter(ot).reduce((function(e,t){return e.concat.apply(e,[{indexId:t.getIndexId(),results:t.getResults(),helper:t.getHelper()}].concat(ir(hr(t.getWidgets()))))}),[])}const pr=function(e){if(void 0===e||void 0===e.indexName)throw new Error(sr("The `indexName` option is required."));var t=e.indexName,r=e.indexId,n=void 0===r?t:r,i=[],o={},a=null,s=null,c=null,u=null,l=null;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return t},getIndexId:function(){return n},getHelper:function(){return c},getResults:function(){var e;return null!==(e=u)&&void 0!==e&&e.lastResults?(u.lastResults._state=c.state,u.lastResults):null},getPreviousState:function(){return l},getScopedResults:function(){var e=this.getParent();return hr(e?e.getWidgets():[this])},getParent:function(){return s},createURL:function(e){return a._createURL(nr({},n,ur(i,{searchParameters:e,helper:c})))},getWidgets:function(){return i},addWidgets:function(e){var t=this;if(!Array.isArray(e))throw new Error(sr("The `addWidgets` method expects an array of widgets."));if(e.some((function(e){return"function"!=typeof e.init&&"function"!=typeof e.render})))throw new Error(sr("The widget definition expects a `render` and/or an `init` method."));return i=i.concat(e),a&&Boolean(e.length)&&(cr(c,{state:lr(i,{uiState:o,initialSearchParameters:c.state}),_uiState:o}),e.forEach((function(e){e.getRenderState&&dr({renderState:e.getRenderState(a.renderState[t.getIndexId()]||{},Bt(a,t,a._initialUiState)),instantSearchInstance:a,parent:t})})),e.forEach((function(e){e.init&&e.init(Bt(a,t,a._initialUiState))})),a.scheduleSearch()),this},removeWidgets:function(e){var t=this;if(!Array.isArray(e))throw new Error(sr("The `removeWidgets` method expects an array of widgets."));if(e.some((function(e){return"function"!=typeof e.dispose})))throw new Error(sr("The widget definition expects a `dispose` method."));if(i=i.filter((function(t){return-1===e.indexOf(t)})),a&&Boolean(e.length)){var r=e.reduce((function(e,r){return r.dispose({helper:c,state:e,parent:t})||e}),c.state);o=ur(i,{searchParameters:r,helper:c}),c.setState(lr(i,{uiState:o,initialSearchParameters:r})),i.length&&a.scheduleSearch()}return this},init:function(e){var r,f=this,h=e.instantSearchInstance,p=e.parent,d=e.uiState;if(null===c){a=h,s=p,o=d[n]||{};var m=h.mainHelper,g=lr(i,{uiState:o,initialSearchParameters:new Te.SearchParameters({index:t})});(c=Te({},g.index,g)).search=function(){return h.onStateChange?(h.onStateChange({uiState:h.mainIndex.getWidgetUiState({}),setUiState:function(e){return h.setUiState(e,!1)}}),m):m.search()},c.searchWithoutTriggeringOnStateChange=function(){return m.search()},c.searchForFacetValues=function(e,t,r,n){var i=c.state.setQueryParameters(n);return m.searchForFacetValues(e,t,r,i)},u=m.derive((function(){return Wt.apply(void 0,ir(function(e){for(var t=e.getParent(),r=[e.getHelper().state];null!==t;)r=[t.getHelper().state].concat(r),t=t.getParent();return r}(f)))}));var y=null===(r=h._initialResults)||void 0===r?void 0:r[this.getIndexId()];if(y){var v=new Te.SearchResults(new Te.SearchParameters(y.state),y.results);u.lastResults=v,c.lastResults=v}c.on("change",(function(e){e.isPageReset&&fr(i)})),u.on("search",(function(){h.scheduleStalledRender()})),u.on("result",(function(e){var t=e.results;h.scheduleRender(),c.lastResults=t,l=t._state})),i.forEach((function(e){e.getRenderState&&dr({renderState:e.getRenderState(h.renderState[f.getIndexId()]||{},Bt(h,f,d)),instantSearchInstance:h,parent:f})})),i.forEach((function(e){e.init&&e.init(Bt(h,f,d))})),c.on("change",(function(e){var t=e.state,r=e._uiState;o=ur(i,{searchParameters:t,helper:c},r||{}),h.onStateChange||h.onInternalStateChange()})),y&&h.scheduleRender()}},render:function(e){var t=this,r=e.instantSearchInstance;this.getResults()&&("error"!==r.status||r.mainHelper.hasPendingRequests()||c.setState(l),i.forEach((function(e){e.getRenderState&&dr({renderState:e.getRenderState(r.renderState[t.getIndexId()]||{},Vt(r,t)),instantSearchInstance:r,parent:t})})),i.forEach((function(e){e.render&&e.render(Vt(r,t))})))},dispose:function(){var e=this;i.forEach((function(t){t.dispose&&t.dispose({helper:c,state:c.state,parent:e})})),a=null,s=null,c.removeAllListeners(),c=null,u.detach(),u=null},getWidgetUiState:function(e){return i.filter(ot).reduce((function(e,t){return t.getWidgetUiState(e)}),rr(rr({},e),{},nr({},n,rr(rr({},e[n]),o))))},getWidgetState:function(e){return this.getWidgetUiState(e)},getWidgetSearchParameters:function(e,t){var r=t.uiState;return lr(i,{uiState:r,initialSearchParameters:e})},refreshUiState:function(){o=ur(i,{searchParameters:this.getHelper().state,helper:this.getHelper()},o)}}};function dr(e){var t=e.renderState,r=e.instantSearchInstance,n=e.parent,i=n?n.getIndexId():r.mainIndex.getIndexId();r.renderState=rr(rr({},r.renderState),{},nr({},i,rr(rr({},r.renderState[i]),t)))}const mr="4.51.0";var gr="ais",yr=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.descendantName,n=t.modifierName,i=r?"-".concat(r):"",o=n?"--".concat(n):"";return"".concat(gr,"-").concat(e).concat(i).concat(o)}},vr=yr("Highlight");function br(e){var t=e.attribute,r=e.highlightedTagName,n=void 0===r?"mark":r,i=e.hit,o=e.cssClasses,a=void 0===o?{}:o,s=(dt(i._highlightResult,t)||{}).value,c=void 0===s?"":s,u=vr({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return c.replace(new RegExp(Ke.highlightPreTag,"g"),"<".concat(n,' class="').concat(u,'">')).replace(new RegExp(Ke.highlightPostTag,"g"),"</".concat(n,">"))}var Or=yr("ReverseHighlight");function wr(e){var t=e.attribute,r=e.highlightedTagName,n=void 0===r?"mark":r,i=e.hit,o=e.cssClasses,a=void 0===o?{}:o,s=(dt(i._highlightResult,t)||{}).value,c=void 0===s?"":s,u=Or({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return Xe(Gt(ft(c))).replace(new RegExp(Ke.highlightPreTag,"g"),"<".concat(n,' class="').concat(u,'">')).replace(new RegExp(Ke.highlightPostTag,"g"),"</".concat(n,">"))}var jr=yr("Snippet");function Sr(e){var t=e.attribute,r=e.highlightedTagName,n=void 0===r?"mark":r,i=e.hit,o=e.cssClasses,a=void 0===o?{}:o,s=(dt(i._snippetResult,t)||{}).value,c=void 0===s?"":s,u=jr({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return c.replace(new RegExp(Ke.highlightPreTag,"g"),"<".concat(n,' class="').concat(u,'">')).replace(new RegExp(Ke.highlightPostTag,"g"),"</".concat(n,">"))}var _r=yr("ReverseSnippet");function Pr(e){var t=e.attribute,r=e.highlightedTagName,n=void 0===r?"mark":r,i=e.hit,o=e.cssClasses,a=void 0===o?{}:o,s=(dt(i._snippetResult,t)||{}).value,c=void 0===s?"":s,u=_r({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return Xe(Gt(ft(c))).replace(new RegExp(Ke.highlightPreTag,"g"),"<".concat(n,' class="').concat(u,'">')).replace(new RegExp(Ke.highlightPostTag,"g"),"</".concat(n,">"))}function Rr(e){return Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rr(e)}function Er(e,t){return function(e){var t,r=e.method,n=e.payload;if("object"!==Rr(n))throw new Error("The insights helper expects the payload to be an object.");try{t=tt(n)}catch(i){throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(r,'" data-insights-payload="').concat(t,'"')}({method:e,payload:t})}function Fr(e){return Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fr(e)}var xr="_ALGOLIA";function Tr(){return function(e){if("object"===("undefined"==typeof document?"undefined":Fr(document))&&"string"==typeof document.cookie)for(var t="".concat(e,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}}(xr)}function Nr(e,t){return e.toLocaleString(t)}function kr(e){return kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kr(e)}function Ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(r),!0).forEach((function(t){Cr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ir(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Cr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==kr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==kr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===kr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dr(e){var t=e.numberLocale;return{formatNumber:function(e,r){return Nr(Number(r(e)),t)},highlight:function(e,t){try{return t(br(Ar(Ar({},JSON.parse(e)),{},{hit:this})))}catch(r){throw new Error('\nThe highlight helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseHighlight:function(e,t){try{return t(wr(Ar(Ar({},JSON.parse(e)),{},{hit:this})))}catch(r){throw new Error('\n  The reverseHighlight helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},snippet:function(e,t){try{return t(Sr(Ar(Ar({},JSON.parse(e)),{},{hit:this})))}catch(r){throw new Error('\nThe snippet helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseSnippet:function(e,t){try{return t(Pr(Ar(Ar({},JSON.parse(e)),{},{hit:this})))}catch(r){throw new Error('\n  The reverseSnippet helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},insights:function(e,t){try{var r=JSON.parse(e),n=r.method,i=r.payload;return t(Er(n,Ar({objectIDs:[this.objectID]},i)))}catch(o){throw new Error('\nThe insights helper expects a JSON object of the format:\n{ "method": "method-name", "payload": { "eventName": "name of the event" } }')}}}}function Hr(e){return Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hr(e)}var Lr=["configure"];function Qr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qr(Object(r),!0).forEach((function(t){Mr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Hr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Hr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Hr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ur(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Wr(e){return e.configure,Ur(e,Lr)}var Br=String.prototype.replace,Vr=/%20/g,$r="RFC3986",Jr={default:$r,formatters:{RFC1738:function(e){return Br.call(e,Vr,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:$r},zr=Jr,Kr=Object.prototype.hasOwnProperty,Gr=Array.isArray,Yr=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),Zr=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r},Xr={arrayToObject:Zr,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],o=i.obj[i.prop],a=Object.keys(o),s=0;s<a.length;++s){var c=a[s],u=o[c];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:o,prop:c}),r.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(Gr(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(i){return n}},encode:function(e,t,r,n,i){if(0===e.length)return e;var o=e;if("symbol"==typeof e?o=Symbol.prototype.toString.call(e):"string"!=typeof e&&(o=String(e)),"iso-8859-1"===r)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var a="",s=0;s<o.length;++s){var c=o.charCodeAt(s);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||i===zr.RFC1738&&(40===c||41===c)?a+=o.charAt(s):c<128?a+=Yr[c]:c<2048?a+=Yr[192|c>>6]+Yr[128|63&c]:c<55296||c>=57344?a+=Yr[224|c>>12]+Yr[128|c>>6&63]+Yr[128|63&c]:(s+=1,c=65536+((1023&c)<<10|1023&o.charCodeAt(s)),a+=Yr[240|c>>18]+Yr[128|c>>12&63]+Yr[128|c>>6&63]+Yr[128|63&c])}return a},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(Gr(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,n){if(!r)return t;if("object"!=typeof r){if(Gr(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(n&&(n.plainObjects||n.allowPrototypes)||!Kr.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var i=t;return Gr(t)&&!Gr(r)&&(i=Zr(t,n)),Gr(t)&&Gr(r)?(r.forEach((function(r,i){if(Kr.call(t,i)){var o=t[i];o&&"object"==typeof o&&r&&"object"==typeof r?t[i]=e(o,r,n):t.push(r)}else t[i]=r})),t):Object.keys(r).reduce((function(t,i){var o=r[i];return Kr.call(t,i)?t[i]=e(t[i],o,n):t[i]=o,t}),i)}},en=Xr,tn=Jr,rn=Object.prototype.hasOwnProperty,nn={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},on=Array.isArray,an=String.prototype.split,sn=Array.prototype.push,cn=function(e,t){sn.apply(e,on(t)?t:[t])},un=Date.prototype.toISOString,ln=tn.default,fn={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:en.encode,encodeValuesOnly:!1,format:ln,formatter:tn.formatters[ln],indices:!1,serializeDate:function(e){return un.call(e)},skipNulls:!1,strictNullHandling:!1},hn=function e(t,r,n,i,o,a,s,c,u,l,f,h,p,d){var m=t;if("function"==typeof s?m=s(r,m):m instanceof Date?m=l(m):"comma"===n&&on(m)&&(m=en.maybeMap(m,(function(e){return e instanceof Date?l(e):e}))),null===m){if(i)return a&&!p?a(r,fn.encoder,d,"key",f):r;m=""}if(function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e||"bigint"==typeof e}(m)||en.isBuffer(m)){if(a){var g=p?r:a(r,fn.encoder,d,"key",f);if("comma"===n&&p){for(var y=an.call(String(m),","),v="",b=0;b<y.length;++b)v+=(0===b?"":",")+h(a(y[b],fn.encoder,d,"value",f));return[h(g)+"="+v]}return[h(g)+"="+h(a(m,fn.encoder,d,"value",f))]}return[h(r)+"="+h(String(m))]}var O,w=[];if(void 0===m)return w;if("comma"===n&&on(m))O=[{value:m.length>0?m.join(",")||null:void 0}];else if(on(s))O=s;else{var j=Object.keys(m);O=c?j.sort(c):j}for(var S=0;S<O.length;++S){var _=O[S],P="object"==typeof _&&void 0!==_.value?_.value:m[_];if(!o||null!==P){var R=on(m)?"function"==typeof n?n(r,_):r:r+(u?"."+_:"["+_+"]");cn(w,e(P,R,n,i,o,a,s,c,u,l,f,h,p,d))}}return w},pn=Xr,dn=Object.prototype.hasOwnProperty,mn=Array.isArray,gn={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:pn.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},yn=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},vn=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},bn=function(e,t,r,n){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,a=r.depth>0&&/(\[[^[\]]*])/.exec(i),s=a?i.slice(0,a.index):i,c=[];if(s){if(!r.plainObjects&&dn.call(Object.prototype,s)&&!r.allowPrototypes)return;c.push(s)}for(var u=0;r.depth>0&&null!==(a=o.exec(i))&&u<r.depth;){if(u+=1,!r.plainObjects&&dn.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+i.slice(a.index)+"]"),function(e,t,r,n){for(var i=n?t:vn(t,r),o=e.length-1;o>=0;--o){var a,s=e[o];if("[]"===s&&r.parseArrays)a=[].concat(i);else{a=r.plainObjects?Object.create(null):{};var c="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,u=parseInt(c,10);r.parseArrays||""!==c?!isNaN(u)&&s!==c&&String(u)===c&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(a=[])[u]=i:"__proto__"!==c&&(a[c]=i):a={0:i}}i=a}return i}(c,t,r,n)}},On=function(e,t){var r,n=e,i=function(e){if(!e)return fn;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||fn.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=tn.default;if(void 0!==e.format){if(!rn.call(tn.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=tn.formatters[r],i=fn.filter;return("function"==typeof e.filter||on(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:fn.addQueryPrefix,allowDots:void 0===e.allowDots?fn.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:fn.charsetSentinel,delimiter:void 0===e.delimiter?fn.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:fn.encode,encoder:"function"==typeof e.encoder?e.encoder:fn.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:fn.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:fn.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:fn.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:fn.strictNullHandling}}(t);"function"==typeof i.filter?n=(0,i.filter)("",n):on(i.filter)&&(r=i.filter);var o,a=[];if("object"!=typeof n||null===n)return"";o=t&&t.arrayFormat in nn?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var s=nn[o];r||(r=Object.keys(n)),i.sort&&r.sort(i.sort);for(var c=0;c<r.length;++c){var u=r[c];i.skipNulls&&null===n[u]||cn(a,hn(n[u],u,s,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset))}var l=a.join(i.delimiter),f=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&("iso-8859-1"===i.charset?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),l.length>0?f+l:""},wn={formats:Jr,parse:function(e,t){var r=function(e){if(!e)return gn;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?gn.charset:e.charset;return{allowDots:void 0===e.allowDots?gn.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:gn.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:gn.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:gn.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:gn.comma,decoder:"function"==typeof e.decoder?e.decoder:gn.decoder,delimiter:"string"==typeof e.delimiter||pn.isRegExp(e.delimiter)?e.delimiter:gn.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:gn.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:gn.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:gn.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:gn.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:gn.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof e?function(e,t){var r,n={},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,a=i.split(t.delimiter,o),s=-1,c=t.charset;if(t.charsetSentinel)for(r=0;r<a.length;++r)0===a[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===a[r]?c="utf-8":"utf8=%26%2310003%3B"===a[r]&&(c="iso-8859-1"),s=r,r=a.length);for(r=0;r<a.length;++r)if(r!==s){var u,l,f=a[r],h=f.indexOf("]="),p=-1===h?f.indexOf("="):h+1;-1===p?(u=t.decoder(f,gn.decoder,c,"key"),l=t.strictNullHandling?null:""):(u=t.decoder(f.slice(0,p),gn.decoder,c,"key"),l=pn.maybeMap(vn(f.slice(p+1),t),(function(e){return t.decoder(e,gn.decoder,c,"value")}))),l&&t.interpretNumericEntities&&"iso-8859-1"===c&&(l=yn(l)),f.indexOf("[]=")>-1&&(l=mn(l)?[l]:l),dn.call(n,u)?n[u]=pn.combine(n[u],l):n[u]=l}return n}(e,r):e,i=r.plainObjects?Object.create(null):{},o=Object.keys(n),a=0;a<o.length;++a){var s=o[a],c=bn(s,n[s],r,"string"==typeof e);i=pn.merge(i,c,r)}return pn.compact(i)},stringify:On};function jn(e){return jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jn(e)}function Sn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pn(n.key),n)}}function _n(e,t,r){return(t=Pn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pn(e){var t=function(e,t){if("object"!==jn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==jn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===jn(t)?t:String(t)}var Rn=function(e){e&&(window.document.title=e)},En=function(){function e(t){var r=this,n=t.windowTitle,i=t.writeDelay,o=void 0===i?400:i,a=t.createURL,s=t.parseURL,c=t.getLocation,u=t.start,l=t.dispose,f=t.push;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_n(this,"windowTitle",void 0),_n(this,"writeDelay",void 0),_n(this,"_createURL",void 0),_n(this,"parseURL",void 0),_n(this,"getLocation",void 0),_n(this,"writeTimer",void 0),_n(this,"inPopState",!1),_n(this,"isDisposed",!1),_n(this,"latestAcknowledgedHistory",0),_n(this,"_start",void 0),_n(this,"_dispose",void 0),_n(this,"_push",void 0),this.windowTitle=n,this.writeTimer=void 0,this.writeDelay=o,this._createURL=a,this.parseURL=s,this.getLocation=c,this._start=u,this._dispose=l,this._push=f,Yt((function(e){var t=e.window,n=r.windowTitle&&r.windowTitle(r.read());Rn(n),r.latestAcknowledgedHistory=t.history.length}))}var t,r,n;return t=e,r=[{key:"read",value:function(){return this.parseURL({qsModule:wn,location:this.getLocation()})}},{key:"write",value:function(e){var t=this;Yt((function(r){var n=r.window,i=t.createURL(e),o=t.windowTitle&&t.windowTitle(e);t.writeTimer&&clearTimeout(t.writeTimer),t.writeTimer=setTimeout((function(){Rn(o),t.shouldWrite(i)&&(t._push?t._push(i):n.history.pushState(e,o||"",i),t.latestAcknowledgedHistory=n.history.length),t.inPopState=!1,t.writeTimer=void 0}),t.writeDelay)}))}},{key:"onUpdate",value:function(e){var t=this;this._start&&this._start((function(){e(t.read())})),this._onPopState=function(){t.writeTimer&&(clearTimeout(t.writeTimer),t.writeTimer=void 0),t.inPopState=!0,e(t.read())},Yt((function(e){e.window.addEventListener("popstate",t._onPopState)}))}},{key:"createURL",value:function(e){return this._createURL({qsModule:wn,routeState:e,location:this.getLocation()})}},{key:"dispose",value:function(){var e=this;this._dispose&&this._dispose(),this.isDisposed=!0,Yt((function(t){var r=t.window;e._onPopState&&r.removeEventListener("popstate",e._onPopState)})),this.writeTimer&&clearTimeout(this.writeTimer),this.write({})}},{key:"shouldWrite",value:function(e){var t=this;return Yt((function(r){var n=r.window,i=!(t.isDisposed&&t.latestAcknowledgedHistory!==n.history.length);return!t.inPopState&&i&&e!==n.location.href}))}}],r&&Sn(t.prototype,r),n&&Sn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Fn(e){return Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fn(e)}function xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(r),!0).forEach((function(t){Nn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Fn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Fn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Fn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var kn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.router,r=void 0===t?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createURL,r=void 0===t?function(e){var t=e.qsModule,r=e.routeState,n=e.location,i=n.protocol,o=n.hostname,a=n.port,s=void 0===a?"":a,c=n.pathname,u=n.hash,l=t.stringify(r),f=""===s?"":":".concat(s);return l?"".concat(i,"//").concat(o).concat(f).concat(c,"?").concat(l).concat(u):"".concat(i,"//").concat(o).concat(f).concat(c).concat(u)}:t,n=e.parseURL,i=void 0===n?function(e){var t=e.qsModule,r=e.location;return t.parse(r.search.slice(1),{arrayLimit:99})}:n,o=e.writeDelay,a=void 0===o?400:o,s=e.windowTitle,c=e.getLocation,u=void 0===c?function(){return Yt((function(e){return e.window.location}),{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:c,l=e.start,f=e.dispose,h=e.push;return new En({createURL:r,parseURL:i,writeDelay:a,windowTitle:s,getLocation:u,start:l,dispose:f,push:h})}():t,n=e.stateMapping,i=void 0===n?{stateToRoute:function(e){return Object.keys(e).reduce((function(t,r){return qr(qr({},t),{},Mr({},r,Wr(e[r])))}),{})},routeToState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,r){return qr(qr({},t),{},Mr({},r,Wr(e[r])))}),{})}}:n;return function(e){var t=e.instantSearchInstance;t._createURL=function(e){var n=Object.keys(e).reduce((function(t,r){return Tn(Tn({},t),{},Nn({},r,e[r]))}),t.mainIndex.getWidgetUiState({})),o=i.stateToRoute(n);return r.createURL(o)};var n=void 0,o=t._initialUiState;return{onStateChange:function(e){var t=e.uiState,o=i.stateToRoute(t);void 0!==n&&_t(n,o)||(r.write(o),n=o)},subscribe:function(){t._initialUiState=Tn(Tn({},o),i.routeToState(r.read())),r.onUpdate((function(e){t.setUiState(i.routeToState(e))}))},started:function(){},unsubscribe:function(){r.dispose()}}}};function In(e,t,r){var n=Bt(t,t.mainIndex,t._initialUiState);e.forEach((function(e){var i={};if(e.getWidgetRenderState){var o=e.getWidgetRenderState(n);o&&o.widgetParams&&(i=o.widgetParams)}var a=Object.keys(i).filter((function(e){return void 0!==i[e]}));r.widgets.push({type:e.$$type,widgetType:e.$$widgetType,params:a}),"ais.index"===e.$$type&&In(e.getWidgets(),t,r)}))}function An(){return function(e){var t=e.instantSearchInstance,r={widgets:[]},n=document.createElement("meta"),i=document.querySelector("head");return n.name="instantsearch:widgets",{onStateChange:function(){},subscribe:function(){setTimeout((function(){var e=t.client;r.ua=e.transporter&&e.transporter.userAgent?e.transporter.userAgent.value:e._ua,In(t.mainIndex.getWidgets(),t,r),n.content=JSON.stringify(r),i.appendChild(n)}),0)},started:function(){},unsubscribe:function(){n.remove()}}}}function Cn(e){return Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cn(e)}function Dn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wn(n.key),n)}}function Ln(e,t){return Ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ln(e,t)}function Qn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Mn(e);if(t){var i=Mn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Cn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qn(e)}(this,r)}}function qn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mn(e){return Mn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mn(e)}function Un(e,t,r){return(t=Wn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wn(e){var t=function(e,t){if("object"!==Cn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Cn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Cn(t)?t:String(t)}var Bn=ut({name:"instantsearch"});function Vn(){return"#"}var $n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ln(e,t)}(o,e);var t,r,n,i=Qn(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Un(qn(t=i.call(this)),"client",void 0),Un(qn(t),"indexName",void 0),Un(qn(t),"insightsClient",void 0),Un(qn(t),"onStateChange",null),Un(qn(t),"helper",void 0),Un(qn(t),"mainHelper",void 0),Un(qn(t),"mainIndex",void 0),Un(qn(t),"started",void 0),Un(qn(t),"templatesConfig",void 0),Un(qn(t),"renderState",{}),Un(qn(t),"_stalledSearchDelay",void 0),Un(qn(t),"_searchStalledTimer",void 0),Un(qn(t),"_initialUiState",void 0),Un(qn(t),"_initialResults",void 0),Un(qn(t),"_createURL",void 0),Un(qn(t),"_searchFunction",void 0),Un(qn(t),"_mainHelperSearch",void 0),Un(qn(t),"middleware",[]),Un(qn(t),"sendEventToInsights",void 0),Un(qn(t),"status","idle"),Un(qn(t),"error",void 0),Un(qn(t),"scheduleSearch",ct((function(){t.started&&t.mainHelper.search()}))),Un(qn(t),"scheduleRender",ct((function(){var e,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];null!==(e=t.mainHelper)&&void 0!==e&&e.hasPendingRequests()||(clearTimeout(t._searchStalledTimer),t._searchStalledTimer=null,r&&(t.status="idle",t.error=void 0)),t.mainIndex.render({instantSearchInstance:qn(t)}),t.emit("render")}))),Un(qn(t),"onInternalStateChange",ct((function(){var e=t.mainIndex.getWidgetUiState({});t.middleware.forEach((function(t){t.instance.onStateChange({uiState:e})}))}))),t.setMaxListeners(100);var r=e.indexName,n=void 0===r?null:r,a=e.numberLocale,s=e.initialUiState,c=void 0===s?{}:s,u=e.routing,l=void 0===u?null:u,f=e.searchFunction,h=e.stalledSearchDelay,p=void 0===h?200:h,d=e.searchClient,m=void 0===d?null:d,g=e.insightsClient,y=void 0===g?null:g,v=e.onStateChange,b=void 0===v?null:v;if(null===n)throw new Error(Bn("The `indexName` option is required."));if(null===m)throw new Error(Bn("The `searchClient` option is required."));if("function"!=typeof m.search)throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if("function"==typeof m.addAlgoliaAgent&&m.addAlgoliaAgent("instantsearch.js (".concat(mr,")")),y&&"function"!=typeof y)throw new Error(Bn("The `insightsClient` option should be a function."));if(t.client=m,t.insightsClient=y,t.indexName=n,t.helper=null,t.mainHelper=null,t.mainIndex=pr({indexName:n}),t.onStateChange=b,t.started=!1,t.templatesConfig={helpers:Dr({numberLocale:a}),compileOptions:{}},t._stalledSearchDelay=p,t._searchStalledTimer=null,t._createURL=Vn,t._initialUiState=c,t._initialResults=null,f&&(t._searchFunction=f),t.sendEventToInsights=Ne,l){var O="boolean"==typeof l?void 0:l;t.use(kn(O))}return Yt((function(e){var t,r;return(null===(t=e.window.navigator)||void 0===t||null===(r=t.userAgent)||void 0===r?void 0:r.indexOf("Algolia Crawler"))>-1}),{fallback:function(){return!1}})&&t.use(An()),t}return t=o,r=[{key:"_isSearchStalled",get:function(){return"stalled"===this.status}},{key:"use",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.map((function(t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(r),!0).forEach((function(t){Un(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({subscribe:Ne,started:Ne,unsubscribe:Ne,onStateChange:Ne},t({instantSearchInstance:e}));return e.middleware.push({creator:t,instance:r}),r}));return this.started&&i.forEach((function(e){e.subscribe(),e.started()})),this}},{key:"unuse",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.middleware.filter((function(e){return t.includes(e.creator)})).forEach((function(e){return e.instance.unsubscribe()})),this.middleware=this.middleware.filter((function(e){return!t.includes(e.creator)})),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(e){return this.addWidgets([e])}},{key:"addWidgets",value:function(e){if(!Array.isArray(e))throw new Error(Bn("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(e.some((function(e){return"function"!=typeof e.init&&"function"!=typeof e.render})))throw new Error(Bn("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(e),this}},{key:"removeWidget",value:function(e){return this.removeWidgets([e])}},{key:"removeWidgets",value:function(e){if(!Array.isArray(e))throw new Error(Bn("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(e.some((function(e){return"function"!=typeof e.dispose})))throw new Error(Bn("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(e),this}},{key:"start",value:function(){var e=this;if(this.started)throw new Error(Bn("The `start` method has already been called once."));var t=this.mainHelper||Te(this.client,this.indexName);if(t.search=function(){return e.status="loading",e.scheduleRender(!1),t.searchOnlyWithDerivedHelpers()},this._searchFunction){var r={search:function(){return new Promise(Ne)}};this._mainHelperSearch=t.search.bind(t),t.search=function(){var n=e.mainIndex.getHelper(),i=Te(r,n.state.index,n.state);return i.once("search",(function(t){var r=t.state;n.overrideStateWithoutTriggeringChangeEvent(r),e._mainHelperSearch()})),i.on("change",(function(e){var t=e.state;n.setState(t)})),e._searchFunction(i),t}}if(t.on("error",(function(t){var r=t.error;if(!(r instanceof Error)){var n=r;r=Object.keys(n).reduce((function(e,t){return e[t]=n[t],e}),new Error(n.message))}r.error=r,e.error=r,e.status="error",e.scheduleRender(!1),e.emit("error",r)})),this.mainHelper=t,this.middleware.forEach((function(e){e.instance.subscribe()})),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){var n=this.scheduleSearch;this.scheduleSearch=ct(Ne),ct((function(){e.scheduleSearch=n}))()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach((function(e){e.instance.started()}))}},{key:"dispose",value:function(){this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),this.mainHelper.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach((function(e){e.instance.unsubscribe()}))}},{key:"scheduleStalledRender",value:function(){var e=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout((function(){e.status="stalled",e.scheduleRender()}),this._stalledSearchDelay))}},{key:"setUiState",value:function(e){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.mainHelper)throw new Error(Bn("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var n="function"==typeof e?e(this.mainIndex.getWidgetUiState({})):e;this.onStateChange&&r?this.onStateChange({uiState:n,setUiState:function(e){at("function"==typeof e?e(n):e,t.mainIndex),t.scheduleSearch(),t.onInternalStateChange()}}):(at(n,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.started)throw new Error(Bn("The `start` method needs to be called before `createURL`."));return this._createURL(e)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(Bn("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}],r&&Hn(t.prototype,r),n&&Hn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(ie);const Jn=$n;var zn=["page"];function Kn(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Gn(e){var t=e||{};return t.page,Kn(t,zn)}var Yn="ais.infiniteHits",Zn=function(e){return new Jn(e)};Zn.version=mr,Zn.createInfiniteHitsSessionStorageCache=ke((function(){return{read:function(e){var t=e.state,r=Yt((function(e){return e.window.sessionStorage}));if(!r)return null;try{var n=JSON.parse(r.getItem(Yn));return n&&_t(n.state,Gn(t))?n.hits:null}catch(i){if(i instanceof SyntaxError)try{r.removeItem(Yn)}catch(o){}return null}},write:function(e){var t=e.state,r=e.hits,n=Yt((function(e){return e.window.sessionStorage}));if(n)try{n.setItem(Yn,JSON.stringify({state:Gn(t),hits:r}))}catch(i){}}}})),Zn.highlight=ke(br),Zn.reverseHighlight=ke(wr),Zn.snippet=ke(Sr),Zn.reverseSnippet=ke(Pr),Zn.insights=Er,Zn.getInsightsAnonymousUserToken=function(){return Tr()},Object.defineProperty(Zn,"widgets",{get:function(){throw new ReferenceError("\"instantsearch.widgets\" are not available from the ES build.\n\nTo import the widgets:\n\nimport { searchBox } from 'instantsearch.js/es/widgets'")}}),Object.defineProperty(Zn,"connectors",{get:function(){throw new ReferenceError("\"instantsearch.connectors\" are not available from the ES build.\n\nTo import the connectors:\n\nimport { connectSearchBox } from 'instantsearch.js/es/connectors'")}});const Xn=Zn;var ei,ti,ri,ni,ii,oi,ai,si={},ci=[],ui=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function li(e,t){for(var r in t)e[r]=t[r];return e}function fi(e){var t=e.parentNode;t&&t.removeChild(e)}function hi(e,t,r){var n,i,o,a={};for(o in t)"key"==o?n=t[o]:"ref"==o?i=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?ei.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===a[o]&&(a[o]=e.defaultProps[o]);return pi(e,a,n,i,null)}function pi(e,t,r,n,i){var o={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++ri:i};return null==i&&null!=ti.vnode&&ti.vnode(o),o}function di(e){return e.children}function mi(e,t,r){"-"===t[0]?e.setProperty(t,null==r?"":r):e[t]=null==r?"":"number"!=typeof r||ui.test(t)?r:r+"px"}function gi(e,t,r,n,i){var o;e:if("style"===t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||mi(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||mi(e.style,t,r[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=r,r?n||e.addEventListener(t,o?vi:yi,o):e.removeEventListener(t,o?vi:yi,o);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==r?"":r;break e}catch(e){}"function"==typeof r||(null==r||!1===r&&-1==t.indexOf("-")?e.removeAttribute(t):e.setAttribute(t,r))}}function yi(e){ni=!0;try{return this.l[e.type+!1](ti.event?ti.event(e):e)}finally{ni=!1}}function vi(e){ni=!0;try{return this.l[e.type+!0](ti.event?ti.event(e):e)}finally{ni=!1}}function bi(e,t){this.props=e,this.context=t}function Oi(e,t){if(null==t)return e.__?Oi(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?Oi(e):null}function wi(e){var t,r;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e){e.__e=e.__c.base=r.__e;break}return wi(e)}}function ji(e){ni?setTimeout(e):ai(e)}function Si(e){(!e.__d&&(e.__d=!0)&&ii.push(e)&&!_i.__r++||oi!==ti.debounceRendering)&&((oi=ti.debounceRendering)||ji)(_i)}function _i(){var e,t,r,n,i,o,a,s;for(ii.sort((function(e,t){return e.__v.__b-t.__v.__b}));e=ii.shift();)e.__d&&(t=ii.length,n=void 0,i=void 0,a=(o=(r=e).__v).__e,(s=r.__P)&&(n=[],(i=li({},o)).__v=o.__v+1,xi(s,o,i,r.__n,void 0!==s.ownerSVGElement,null!=o.__h?[a]:null,n,null==a?Oi(o):a,o.__h),Ti(n,o),o.__e!=a&&wi(o)),ii.length>t&&ii.sort((function(e,t){return e.__v.__b-t.__v.__b})));_i.__r=0}function Pi(e,t,r,n,i,o,a,s,c,u){var l,f,h,p,d,m,g,y=n&&n.__k||ci,v=y.length;for(r.__k=[],l=0;l<t.length;l++)if(null!=(p=r.__k[l]=null==(p=t[l])||"boolean"==typeof p?null:"string"==typeof p||"number"==typeof p||"bigint"==typeof p?pi(null,p,null,null,p):Array.isArray(p)?pi(di,{children:p},null,null,null):p.__b>0?pi(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)){if(p.__=r,p.__b=r.__b+1,null===(h=y[l])||h&&p.key==h.key&&p.type===h.type)y[l]=void 0;else for(f=0;f<v;f++){if((h=y[f])&&p.key==h.key&&p.type===h.type){y[f]=void 0;break}h=null}xi(e,p,h=h||si,i,o,a,s,c,u),d=p.__e,(f=p.ref)&&h.ref!=f&&(g||(g=[]),h.ref&&g.push(h.ref,null,p),g.push(f,p.__c||d,p)),null!=d?(null==m&&(m=d),"function"==typeof p.type&&p.__k===h.__k?p.__d=c=Ri(p,c,e):c=Ei(e,p,h,y,d,c),"function"==typeof r.type&&(r.__d=c)):c&&h.__e==c&&c.parentNode!=e&&(c=Oi(h))}for(r.__e=m,l=v;l--;)null!=y[l]&&("function"==typeof r.type&&null!=y[l].__e&&y[l].__e==r.__d&&(r.__d=Fi(n).nextSibling),Ii(y[l],y[l]));if(g)for(l=0;l<g.length;l++)ki(g[l],g[++l],g[++l])}function Ri(e,t,r){for(var n,i=e.__k,o=0;i&&o<i.length;o++)(n=i[o])&&(n.__=e,t="function"==typeof n.type?Ri(n,t,r):Ei(r,n,n,i,n.__e,t));return t}function Ei(e,t,r,n,i,o){var a,s,c;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==r||i!=o||null==i.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(i),a=null;else{for(s=o,c=0;(s=s.nextSibling)&&c<n.length;c+=1)if(s==i)break e;e.insertBefore(i,o),a=o}return void 0!==a?a:i.nextSibling}function Fi(e){var t,r,n;if(null==e.type||"string"==typeof e.type)return e.__e;if(e.__k)for(t=e.__k.length-1;t>=0;t--)if((r=e.__k[t])&&(n=Fi(r)))return n;return null}function xi(e,t,r,n,i,o,a,s,c){var u,l,f,h,p,d,m,g,y,v,b,O,w,j,S,_=t.type;if(void 0!==t.constructor)return null;null!=r.__h&&(c=r.__h,s=t.__e=r.__e,t.__h=null,o=[s]),(u=ti.__b)&&u(t);try{e:if("function"==typeof _){if(g=t.props,y=(u=_.contextType)&&n[u.__c],v=u?y?y.props.value:u.__:n,r.__c?m=(l=t.__c=r.__c).__=l.__E:("prototype"in _&&_.prototype.render?t.__c=l=new _(g,v):(t.__c=l=new bi(g,v),l.constructor=_,l.render=Ai),y&&y.sub(l),l.props=g,l.state||(l.state={}),l.context=v,l.__n=n,f=l.__d=!0,l.__h=[],l._sb=[]),null==l.__s&&(l.__s=l.state),null!=_.getDerivedStateFromProps&&(l.__s==l.state&&(l.__s=li({},l.__s)),li(l.__s,_.getDerivedStateFromProps(g,l.__s))),h=l.props,p=l.state,l.__v=t,f)null==_.getDerivedStateFromProps&&null!=l.componentWillMount&&l.componentWillMount(),null!=l.componentDidMount&&l.__h.push(l.componentDidMount);else{if(null==_.getDerivedStateFromProps&&g!==h&&null!=l.componentWillReceiveProps&&l.componentWillReceiveProps(g,v),!l.__e&&null!=l.shouldComponentUpdate&&!1===l.shouldComponentUpdate(g,l.__s,v)||t.__v===r.__v){for(t.__v!==r.__v&&(l.props=g,l.state=l.__s,l.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.forEach((function(e){e&&(e.__=t)})),b=0;b<l._sb.length;b++)l.__h.push(l._sb[b]);l._sb=[],l.__h.length&&a.push(l);break e}null!=l.componentWillUpdate&&l.componentWillUpdate(g,l.__s,v),null!=l.componentDidUpdate&&l.__h.push((function(){l.componentDidUpdate(h,p,d)}))}if(l.context=v,l.props=g,l.__P=e,O=ti.__r,w=0,"prototype"in _&&_.prototype.render){for(l.state=l.__s,l.__d=!1,O&&O(t),u=l.render(l.props,l.state,l.context),j=0;j<l._sb.length;j++)l.__h.push(l._sb[j]);l._sb=[]}else do{l.__d=!1,O&&O(t),u=l.render(l.props,l.state,l.context),l.state=l.__s}while(l.__d&&++w<25);l.state=l.__s,null!=l.getChildContext&&(n=li(li({},n),l.getChildContext())),f||null==l.getSnapshotBeforeUpdate||(d=l.getSnapshotBeforeUpdate(h,p)),S=null!=u&&u.type===di&&null==u.key?u.props.children:u,Pi(e,Array.isArray(S)?S:[S],t,r,n,i,o,a,s,c),l.base=t.__e,t.__h=null,l.__h.length&&a.push(l),m&&(l.__E=l.__=null),l.__e=!1}else null==o&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=Ni(r.__e,t,r,n,i,o,a,c);(u=ti.diffed)&&u(t)}catch(e){t.__v=null,(c||null!=o)&&(t.__e=s,t.__h=!!c,o[o.indexOf(s)]=null),ti.__e(e,t,r)}}function Ti(e,t){ti.__c&&ti.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){ti.__e(e,t.__v)}}))}function Ni(e,t,r,n,i,o,a,s){var c,u,l,f=r.props,h=t.props,p=t.type,d=0;if("svg"===p&&(i=!0),null!=o)for(;d<o.length;d++)if((c=o[d])&&"setAttribute"in c==!!p&&(p?c.localName===p:3===c.nodeType)){e=c,o[d]=null;break}if(null==e){if(null===p)return document.createTextNode(h);e=i?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,h.is&&h),o=null,s=!1}if(null===p)f===h||s&&e.data===h||(e.data=h);else{if(o=o&&ei.call(e.childNodes),u=(f=r.props||si).dangerouslySetInnerHTML,l=h.dangerouslySetInnerHTML,!s){if(null!=o)for(f={},d=0;d<e.attributes.length;d++)f[e.attributes[d].name]=e.attributes[d].value;(l||u)&&(l&&(u&&l.__html==u.__html||l.__html===e.innerHTML)||(e.innerHTML=l&&l.__html||""))}if(function(e,t,r,n,i){var o;for(o in r)"children"===o||"key"===o||o in t||gi(e,o,null,r[o],n);for(o in t)i&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||r[o]===t[o]||gi(e,o,t[o],r[o],n)}(e,h,f,i,s),l)t.__k=[];else if(d=t.props.children,Pi(e,Array.isArray(d)?d:[d],t,r,n,i&&"foreignObject"!==p,o,a,o?o[0]:r.__k&&Oi(r,0),s),null!=o)for(d=o.length;d--;)null!=o[d]&&fi(o[d]);s||("value"in h&&void 0!==(d=h.value)&&(d!==e.value||"progress"===p&&!d||"option"===p&&d!==f.value)&&gi(e,"value",d,f.value,!1),"checked"in h&&void 0!==(d=h.checked)&&d!==e.checked&&gi(e,"checked",d,f.checked,!1))}return e}function ki(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){ti.__e(e,r)}}function Ii(e,t,r){var n,i;if(ti.unmount&&ti.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||ki(n,null,t)),null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(e){ti.__e(e,t)}n.base=n.__P=null,e.__c=void 0}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&Ii(n[i],t,r||"function"!=typeof e.type);r||null==e.__e||fi(e.__e),e.__=e.__e=e.__d=void 0}function Ai(e,t,r){return this.constructor(e,r)}function Ci(e,t,r){var n,i,o;ti.__&&ti.__(e,t),i=(n="function"==typeof r)?null:r&&r.__k||t.__k,o=[],xi(t,e=(!n&&r||t).__k=hi(di,null,[e]),i||si,si,void 0!==t.ownerSVGElement,!n&&r?[r]:i?null:t.firstChild?ei.call(t.childNodes):null,o,!n&&r?r:i?i.__e:t.firstChild,n),Ti(o,e)}function Di(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t){return Array.isArray(t)?e.concat(t):e.concat([t])}),[]).filter(Boolean).join(" ")}function Hi(e){return Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hi(e)}function Li(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qi(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Hi(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Hi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Hi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qi(e){return function(e){if(Array.isArray(e))return Mi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Mi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mi(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ui(e){var t=e.defaultTemplates,r=e.templates,n=e.templatesConfig,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Pt([].concat(qi(Object.keys(e||{})),qi(Object.keys(t)))).reduce((function(r,n){var i=e?e[n]:void 0,o=t[n],a=void 0!==o&&o!==i;return r.templates[n]=a?o:i,r.useCustomCompileOptions[n]=a,r}),{templates:{},useCustomCompileOptions:{}})}(t,r);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Li(Object(r),!0).forEach((function(t){Qi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Li(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({templatesConfig:n},i)}ei=ci.slice,ti={__e:function(e,t,r,n){for(var i,o,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,n||{}),a=i.__d),a)return i.__E=i}catch(t){e=t}throw e}},ri=0,ni=!1,bi.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=li({},this.state),"function"==typeof e&&(e=e(li({},r),this.props)),e&&li(r,e),null!=e&&this.__v&&(t&&this._sb.push(t),Si(this))},bi.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Si(this))},bi.prototype.render=di,ii=[],ai="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,_i.__r=0;var Wi={};!function(e){!function(e){var t=/\S/,r=/\"/g,n=/\n/g,i=/\r/g,o=/\\/g,a=/\u2028/,s=/\u2029/;function c(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function u(e,t,r){if(t.charAt(r)!=e.charAt(0))return!1;for(var n=1,i=e.length;n<i;n++)if(t.charAt(r+n)!=e.charAt(n))return!1;return!0}e.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},e.scan=function(r,n){var i,o=r.length,a=0,s=null,l=null,f="",h=[],p=!1,d=0,m=0,g="{{",y="}}";function v(){f.length>0&&(h.push({tag:"_t",text:new String(f)}),f="")}function b(r,n){if(v(),r&&function(){for(var r=!0,n=m;n<h.length;n++)if(!(r=e.tags[h[n].tag]<e.tags._v||"_t"==h[n].tag&&null===h[n].text.match(t)))return!1;return r}())for(var i,o=m;o<h.length;o++)h[o].text&&((i=h[o+1])&&">"==i.tag&&(i.indent=h[o].text.toString()),h.splice(o,1));else n||h.push({tag:"\n"});p=!1,m=h.length}function O(e,t){var r="="+y,n=e.indexOf(r,t),i=c(e.substring(e.indexOf("=",t)+1,n)).split(" ");return g=i[0],y=i[i.length-1],n+r.length-1}for(n&&(n=n.split(" "),g=n[0],y=n[1]),d=0;d<o;d++)0==a?u(g,r,d)?(--d,v(),a=1):"\n"==r.charAt(d)?b(p):f+=r.charAt(d):1==a?(d+=g.length-1,"="==(s=(l=e.tags[r.charAt(d+1)])?r.charAt(d+1):"_v")?(d=O(r,d),a=0):(l&&d++,a=2),p=d):u(y,r,d)?(h.push({tag:s,n:c(f),otag:g,ctag:y,i:"/"==s?p-g.length:d+y.length}),f="",d+=y.length-1,a=0,"{"==s&&("}}"==y?d++:"}"===(i=h[h.length-1]).n.substr(i.n.length-1)&&(i.n=i.n.substring(0,i.n.length-1)))):f+=r.charAt(d);return b(p,!0),h};var l={_t:!0,"\n":!0,$:!0,"/":!0};function f(t,r,n,i){var o,a=[],s=null,c=null;for(o=n[n.length-1];t.length>0;){if(c=t.shift(),o&&"<"==o.tag&&!(c.tag in l))throw new Error("Illegal content in < super tag.");if(e.tags[c.tag]<=e.tags.$||h(c,i))n.push(c),c.nodes=f(t,c.tag,n,i);else{if("/"==c.tag){if(0===n.length)throw new Error("Closing tag without opener: /"+c.n);if(s=n.pop(),c.n!=s.n&&!p(c.n,s.n,i))throw new Error("Nesting error: "+s.n+" vs. "+c.n);return s.end=c.i,a}"\n"==c.tag&&(c.last=0==t.length||"\n"==t[0].tag)}a.push(c)}if(n.length>0)throw new Error("missing closing tag: "+n.pop().n);return a}function h(e,t){for(var r=0,n=t.length;r<n;r++)if(t[r].o==e.n)return e.tag="#",!0}function p(e,t,r){for(var n=0,i=r.length;n<i;n++)if(r[n].c==e&&r[n].o==t)return!0}function d(e){var t=[];for(var r in e.partials)t.push('"'+g(r)+'":{name:"'+g(e.partials[r].name)+'", '+d(e.partials[r])+"}");return"partials: {"+t.join(",")+"}, subs: "+function(e){var t=[];for(var r in e)t.push('"'+g(r)+'": function(c,p,t,i) {'+e[r]+"}");return"{ "+t.join(",")+" }"}(e.subs)}e.stringify=function(t,r,n){return"{code: function (c,p,i) { "+e.wrapMain(t.code)+" },"+d(t)+"}"};var m=0;function g(e){return e.replace(o,"\\\\").replace(r,'\\"').replace(n,"\\n").replace(i,"\\r").replace(a,"\\u2028").replace(s,"\\u2029")}function y(e){return~e.indexOf(".")?"d":"f"}function v(e,t){var r="<"+(t.prefix||"")+e.n+m++;return t.partials[r]={name:e.n,partials:{}},t.code+='t.b(t.rp("'+g(r)+'",c,p,"'+(e.indent||"")+'"));',r}function b(e,t){t.code+="t.b(t.t(t."+y(e.n)+'("'+g(e.n)+'",c,p,0)));'}function O(e){return"t.b("+e+");"}e.generate=function(t,r,n){m=0;var i={code:"",subs:{},partials:{}};return e.walk(t,i),n.asString?this.stringify(i,r,n):this.makeTemplate(i,r,n)},e.wrapMain=function(e){return'var t=this;t.b(i=i||"");'+e+"return t.fl();"},e.template=e.Template,e.makeTemplate=function(e,t,r){var n=this.makePartials(e);return n.code=new Function("c","p","i",this.wrapMain(e.code)),new this.template(n,t,this,r)},e.makePartials=function(e){var t,r={subs:{},partials:e.partials,name:e.name};for(t in r.partials)r.partials[t]=this.makePartials(r.partials[t]);for(t in e.subs)r.subs[t]=new Function("c","p","t","i",e.subs[t]);return r},e.codegen={"#":function(t,r){r.code+="if(t.s(t."+y(t.n)+'("'+g(t.n)+'",c,p,1),c,p,0,'+t.i+","+t.end+',"'+t.otag+" "+t.ctag+'")){t.rs(c,p,function(c,p,t){',e.walk(t.nodes,r),r.code+="});c.pop();}"},"^":function(t,r){r.code+="if(!t.s(t."+y(t.n)+'("'+g(t.n)+'",c,p,1),c,p,1,0,0,"")){',e.walk(t.nodes,r),r.code+="};"},">":v,"<":function(t,r){var n={partials:{},code:"",subs:{},inPartial:!0};e.walk(t.nodes,n);var i=r.partials[v(t,r)];i.subs=n.subs,i.partials=n.partials},$:function(t,r){var n={subs:{},code:"",partials:r.partials,prefix:t.n};e.walk(t.nodes,n),r.subs[t.n]=n.code,r.inPartial||(r.code+='t.sub("'+g(t.n)+'",c,p,i);')},"\n":function(e,t){t.code+=O('"\\n"'+(e.last?"":" + i"))},_v:function(e,t){t.code+="t.b(t.v(t."+y(e.n)+'("'+g(e.n)+'",c,p,0)));'},_t:function(e,t){t.code+=O('"'+g(e.text)+'"')},"{":b,"&":b},e.walk=function(t,r){for(var n,i=0,o=t.length;i<o;i++)(n=e.codegen[t[i].tag])&&n(t[i],r);return r},e.parse=function(e,t,r){return f(e,0,[],(r=r||{}).sectionTags||[])},e.cache={},e.cacheKey=function(e,t){return[e,!!t.asString,!!t.disableLambda,t.delimiters,!!t.modelGet].join("||")},e.compile=function(t,r){r=r||{};var n=e.cacheKey(t,r),i=this.cache[n];if(i){var o=i.partials;for(var a in o)delete o[a].instance;return i}return i=this.generate(this.parse(this.scan(t,r.delimiters),t,r),t,r),this.cache[n]=i}}(e)}(Wi);var Bi={};!function(e){!function(e){function t(e,t,r){var n;return t&&"object"==typeof t&&(void 0!==t[e]?n=t[e]:r&&t.get&&"function"==typeof t.get&&(n=t.get(e))),n}e.Template=function(e,t,r,n){e=e||{},this.r=e.code||this.r,this.c=r,this.options=n||{},this.text=t||"",this.partials=e.partials||{},this.subs=e.subs||{},this.buf=""},e.Template.prototype={r:function(e,t,r){return""},v:function(e){return e=c(e),s.test(e)?e.replace(r,"&amp;").replace(n,"&lt;").replace(i,"&gt;").replace(o,"&#39;").replace(a,"&quot;"):e},t:c,render:function(e,t,r){return this.ri([e],t||{},r)},ri:function(e,t,r){return this.r(e,t,r)},ep:function(e,t){var r=this.partials[e],n=t[r.name];if(r.instance&&r.base==n)return r.instance;if("string"==typeof n){if(!this.c)throw new Error("No compiler available.");n=this.c.compile(n,this.options)}if(!n)return null;if(this.partials[e].base=n,r.subs){for(key in t.stackText||(t.stackText={}),r.subs)t.stackText[key]||(t.stackText[key]=void 0!==this.activeSub&&t.stackText[this.activeSub]?t.stackText[this.activeSub]:this.text);n=function(e,t,r,n,i,o){function a(){}function s(){}var c;a.prototype=e,s.prototype=e.subs;var u=new a;for(c in u.subs=new s,u.subsText={},u.buf="",n=n||{},u.stackSubs=n,u.subsText=o,t)n[c]||(n[c]=t[c]);for(c in n)u.subs[c]=n[c];for(c in i=i||{},u.stackPartials=i,r)i[c]||(i[c]=r[c]);for(c in i)u.partials[c]=i[c];return u}(n,r.subs,r.partials,this.stackSubs,this.stackPartials,t.stackText)}return this.partials[e].instance=n,n},rp:function(e,t,r,n){var i=this.ep(e,r);return i?i.ri(t,r,n):""},rs:function(e,t,r){var n=e[e.length-1];if(u(n))for(var i=0;i<n.length;i++)e.push(n[i]),r(e,t,this),e.pop();else r(e,t,this)},s:function(e,t,r,n,i,o,a){var s;return(!u(e)||0!==e.length)&&("function"==typeof e&&(e=this.ms(e,t,r,n,i,o,a)),s=!!e,!n&&s&&t&&t.push("object"==typeof e?e:t[t.length-1]),s)},d:function(e,r,n,i){var o,a=e.split("."),s=this.f(a[0],r,n,i),c=this.options.modelGet,l=null;if("."===e&&u(r[r.length-2]))s=r[r.length-1];else for(var f=1;f<a.length;f++)void 0!==(o=t(a[f],s,c))?(l=s,s=o):s="";return!(i&&!s)&&(i||"function"!=typeof s||(r.push(l),s=this.mv(s,r,n),r.pop()),s)},f:function(e,r,n,i){for(var o=!1,a=!1,s=this.options.modelGet,c=r.length-1;c>=0;c--)if(void 0!==(o=t(e,r[c],s))){a=!0;break}return a?(i||"function"!=typeof o||(o=this.mv(o,r,n)),o):!i&&""},ls:function(e,t,r,n,i){var o=this.options.delimiters;return this.options.delimiters=i,this.b(this.ct(c(e.call(t,n)),t,r)),this.options.delimiters=o,!1},ct:function(e,t,r){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(e,this.options).render(t,r)},b:function(e){this.buf+=e},fl:function(){var e=this.buf;return this.buf="",e},ms:function(e,t,r,n,i,o,a){var s,c=t[t.length-1],u=e.call(c);return"function"==typeof u?!!n||(s=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(u,c,r,s.substring(i,o),a)):u},mv:function(e,t,r){var n=t[t.length-1],i=e.call(n);return"function"==typeof i?this.ct(c(i.call(n)),n,r):i},sub:function(e,t,r,n){var i=this.subs[e];i&&(this.activeSub=e,i(t,r,this,n),this.activeSub=!1)}};var r=/&/g,n=/</g,i=/>/g,o=/\'/g,a=/\"/g,s=/[&<>\"\']/;function c(e){return String(null==e?"":e)}var u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}(e)}(Bi);var Vi=Wi;Vi.Template=Bi.Template,Vi.template=Vi.Template;const $i=Vi;var Ji=function(e,t,r,n){var i;t[0]=0;for(var o=1;o<t.length;o++){var a=t[o++],s=t[o]?(t[0]|=a?1:2,r[t[o++]]):t[++o];3===a?n[0]=s:4===a?n[1]=Object.assign(n[1]||{},s):5===a?(n[1]=n[1]||{})[t[++o]]=s:6===a?n[1][t[++o]]+=s+"":a?(i=e.apply(s,Ji(e,s,r,["",null])),n.push(i),s[0]?t[0]|=2:(t[o-2]=0,t[o]=i)):n.push(s)}return n},zi=new Map,Ki=function(e){var t=zi.get(this);return t||(t=new Map,zi.set(this,t)),(t=Ji(this,t.get(e)||(t.set(e,t=function(e){for(var t,r,n=1,i="",o="",a=[0],s=function(e){1===n&&(e||(i=i.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?a.push(0,e,i):3===n&&(e||i)?(a.push(3,e,i),n=2):2===n&&"..."===i&&e?a.push(4,e,0):2===n&&i&&!e?a.push(5,0,!0,i):n>=5&&((i||!e&&5===n)&&(a.push(n,0,i,r),n=6),e&&(a.push(n,e,0,r),n=6)),i=""},c=0;c<e.length;c++){c&&(1===n&&s(),s(c));for(var u=0;u<e[c].length;u++)t=e[c][u],1===n?"<"===t?(s(),a=[a],n=3):i+=t:4===n?"--"===i&&">"===t?(n=1,i=""):i=t+i[0]:o?t===o?o="":i+=t:'"'===t||"'"===t?o=t:">"===t?(s(),n=1):n&&("="===t?(n=5,r=i,i=""):"/"===t&&(n<5||">"===e[c][u+1])?(s(),3===n&&(a=a[0]),n=a,(a=a[0]).push(2,0,n),n=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(s(),n=2):i+=t),3===n&&"!--"===i&&(n=4,a=a[0])}return s(),a}(e)),t),arguments,[])).length>1?t:t[0]}.bind(hi);function Gi(){return Gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gi.apply(this,arguments)}function Yi(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Zi,Xi,eo,to,ro=["parts","highlightedTagName","nonHighlightedTagName","separator","className","classNames"],no=(Xi=(Zi={createElement:hi,Fragment:di}).createElement,eo=Zi.Fragment,to=function(e){var t=e.createElement;return function(e){var r=e.classNames,n=e.children,i=e.highlightedTagName,o=e.isHighlighted,a=e.nonHighlightedTagName;return t(o?i:a,{className:o?r.highlighted:r.nonHighlighted},n)}}({createElement:Xi,Fragment:eo}),function(e){var t=e.parts,r=e.highlightedTagName,n=void 0===r?"mark":r,i=e.nonHighlightedTagName,o=void 0===i?"span":i,a=e.separator,s=void 0===a?", ":a,c=e.className,u=e.classNames,l=void 0===u?{}:u,f=Yi(e,ro);return Xi("span",Gi({},f,{className:Di(l.root,c)}),t.map((function(e,r){var i=r===t.length-1;return Xi(eo,{key:r},e.map((function(e,t){return Xi(to,{key:t,classNames:l,highlightedTagName:n,nonHighlightedTagName:o,isHighlighted:e.isHighlighted},e.value)})),!i&&Xi("span",{className:l.separator},s))})))}),io=["classNames"];function oo(){return oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oo.apply(this,arguments)}function ao(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function so(e){var t=e.classNames,r=void 0===t?{}:t,n=ao(e,io);return hi(no,oo({classNames:{root:Di("ais-Highlight",r.root),highlighted:Di("ais-Highlight-highlighted",r.highlighted),nonHighlighted:Di("ais-Highlight-nonHighlighted",r.nonHighlighted),separator:Di("ais-Highlight-separator",r.separator)}},n))}var co=["hit","attribute","cssClasses"];function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uo.apply(this,arguments)}function lo(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fo(e){var t=e.hit,r=e.attribute,n=e.cssClasses,i=lo(e,co),o=Zt(dt(t._highlightResult,r)||[]).map((function(e){return ft(qe(e.value||""))}));return hi(so,uo({},i,{parts:o,classNames:n}))}var ho=["classNames"];function po(){return po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},po.apply(this,arguments)}function mo(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function go(e){var t=e.classNames,r=void 0===t?{}:t,n=mo(e,ho);return hi(no,po({classNames:{root:Di("ais-ReverseHighlight",r.root),highlighted:Di("ais-ReverseHighlight-highlighted",r.highlighted),nonHighlighted:Di("ais-ReverseHighlight-nonHighlighted",r.nonHighlighted),separator:Di("ais-ReverseHighlight-separator",r.separator)}},n))}function yo(e){return yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yo(e)}var vo=["hit","attribute","cssClasses"],bo=["isHighlighted"];function Oo(){return Oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oo.apply(this,arguments)}function wo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wo(Object(r),!0).forEach((function(t){So(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function So(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==yo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==yo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===yo(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _o(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Po(e){var t=e.hit,r=e.attribute,n=e.cssClasses,i=_o(e,vo),o=Zt(dt(t._highlightResult,r)||[]).map((function(e){return ft(qe(e.value||"")).map((function(e){var t=e.isHighlighted;return jo(jo({},_o(e,bo)),{},{isHighlighted:!t})}))}));return hi(go,Oo({},i,{parts:o,classNames:n}))}var Ro=["classNames"];function Eo(){return Eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eo.apply(this,arguments)}function Fo(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xo(e){var t=e.classNames,r=void 0===t?{}:t,n=Fo(e,Ro);return hi(no,Eo({classNames:{root:Di("ais-ReverseSnippet",r.root),highlighted:Di("ais-ReverseSnippet-highlighted",r.highlighted),nonHighlighted:Di("ais-ReverseSnippet-nonHighlighted",r.nonHighlighted),separator:Di("ais-ReverseSnippet-separator",r.separator)}},n))}function To(e){return To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},To(e)}var No=["hit","attribute","cssClasses"],ko=["isHighlighted"];function Io(){return Io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Io.apply(this,arguments)}function Ao(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Co(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ao(Object(r),!0).forEach((function(t){Do(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ao(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Do(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==To(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==To(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===To(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ho(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Lo(e){var t=e.hit,r=e.attribute,n=e.cssClasses,i=Ho(e,No),o=Zt(dt(t._snippetResult,r)||[]).map((function(e){return ft(qe(e.value||"")).map((function(e){var t=e.isHighlighted;return Co(Co({},Ho(e,ko)),{},{isHighlighted:!t})}))}));return hi(xo,Io({},i,{parts:o,classNames:n}))}var Qo=["classNames"];function qo(){return qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qo.apply(this,arguments)}function Mo(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Uo(e){var t=e.classNames,r=void 0===t?{}:t,n=Mo(e,Qo);return hi(no,qo({classNames:{root:Di("ais-Snippet",r.root),highlighted:Di("ais-Snippet-highlighted",r.highlighted),nonHighlighted:Di("ais-Snippet-nonHighlighted",r.nonHighlighted),separator:Di("ais-Snippet-separator",r.separator)}},n))}var Wo=["hit","attribute","cssClasses"];function Bo(){return Bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bo.apply(this,arguments)}function Vo(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $o(e){var t=e.hit,r=e.attribute,n=e.cssClasses,i=Vo(e,Wo),o=Zt(dt(t._snippetResult,r)||[]).map((function(e){return ft(qe(e.value||""))}));return hi(Uo,Bo({},i,{parts:o,classNames:n}))}function Jo(e){return Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jo(e)}function zo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ko(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zo(Object(r),!0).forEach((function(t){Go(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Go(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Jo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Jo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Jo(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yo(e){var t=e.templates,r=e.templateKey,n=e.compileOptions,i=e.helpers,o=e.data,a=e.bindEvent,s=e.sendEvent,c=t[r];if("string"!=typeof c&&"function"!=typeof c)throw new Error("Template must be 'string' or 'function', was '".concat(Jo(c),"' (key: ").concat(r,")"));if("function"==typeof c){var u=a||{};return u.html=Ki,u.sendEvent=s,u.components={Highlight:fo,ReverseHighlight:Po,Snippet:$o,ReverseSnippet:Lo},c(o,u)}var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return Object.keys(e).reduce((function(n,i){return Ko(Ko({},n),{},Go({},i,(function(){var n=this;return function(o){return e[i].call(r,o,(function(e){return $i.compile(e,t).render(n)}))}})))}),{})}(i,n,o);return $i.compile(c,n).render(Ko(Ko({},o),{},{helpers:l})).replace(/[ \n\r\t\f\xA0]+/g,(function(e){return e.replace(/(^|\xA0+)[^\xA0]+/g,"$1 ")})).trim()}function Zo(){return Zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zo.apply(this,arguments)}function Xo(e){return Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xo(e)}function ea(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ia(n.key),n)}}function ta(e,t){return ta=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ta(e,t)}function ra(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=na(e);if(t){var i=na(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Xo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function na(e){return na=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},na(e)}function ia(e){var t=function(e,t){if("object"!==Xo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Xo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Xo(t)?t:String(t)}var oa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ta(e,t)}(o,e);var t,r,n,i=ra(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return t=o,(r=[{key:"shouldComponentUpdate",value:function(e){return!_t(this.props.data,e.data)||this.props.templateKey!==e.templateKey||!_t(this.props.rootProps,e.rootProps)}},{key:"render",value:function(){var e=this.props.rootTagName,t=this.props.useCustomCompileOptions[this.props.templateKey]?this.props.templatesConfig.compileOptions:{},r=Yo({templates:this.props.templates,templateKey:this.props.templateKey,compileOptions:t,helpers:this.props.templatesConfig.helpers,data:this.props.data,bindEvent:this.props.bindEvent,sendEvent:this.props.sendEvent});return null===r?null:"object"===Xo(r)?hi(e,this.props.rootProps,r):hi(e,Zo({},this.props.rootProps,{dangerouslySetInnerHTML:{__html:r}}))}}])&&ea(t.prototype,r),n&&ea(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(bi);!function(e,t,r){(t=ia(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(oa,"defaultProps",{data:{},rootTagName:"div",useCustomCompileOptions:{},templates:{},templatesConfig:{}});const aa=oa;function sa(){return sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sa.apply(this,arguments)}function ca(e){var t=e.className,r=e.handleClick,n=e.facetValueToRefine,i=e.isRefined,o=e.templateProps,a=e.templateKey,s=e.templateData,c=e.subItems;return hi("li",{className:t,onClick:function(e){r({facetValueToRefine:n,isRefined:i,originalEvent:e})}},hi(aa,sa({},o,{templateKey:a,data:s})),c)}function ua(e){return ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ua(e)}function la(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ga(n.key),n)}}function fa(e,t){return fa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fa(e,t)}function ha(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=da(e);if(t){var i=da(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===ua(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pa(e)}(this,r)}}function pa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function da(e){return da=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},da(e)}function ma(e,t,r){return(t=ga(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ga(e){var t=function(e,t){if("object"!==ua(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ua(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ua(t)?t:String(t)}var ya={query:"",showSubmit:!0,showReset:!0,showLoadingIndicator:!0,autofocus:!1,searchAsYouType:!0,isSearchStalled:!1,disabled:!1,onChange:Ne,onSubmit:Ne,onReset:Ne,refine:Ne},va=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fa(e,t)}(o,e);var t,r,n,i=ha(o);function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ma(pa(e=i.call.apply(i,[this].concat(r))),"state",{query:e.props.query,focused:!1}),ma(pa(e),"input",{current:null}),ma(pa(e),"onInput",(function(t){var r=e.props,n=r.searchAsYouType,i=r.refine,o=r.onChange,a=t.target.value;n&&i(a),e.setState({query:a}),o(t)})),ma(pa(e),"onSubmit",(function(t){var r=e.props,n=r.searchAsYouType,i=r.refine,o=r.onSubmit;return t.preventDefault(),t.stopPropagation(),e.input.current&&e.input.current.blur(),n||i(e.state.query),o(t),!1})),ma(pa(e),"onReset",(function(t){var r=e.props,n=r.refine,i=r.onReset;e.input.current&&e.input.current.focus(),n(""),e.setState({query:""}),i(t)})),ma(pa(e),"onBlur",(function(){e.setState({focused:!1})})),ma(pa(e),"onFocus",(function(){e.setState({focused:!0})})),e}return t=o,(r=[{key:"resetInput",value:function(){this.setState({query:""})}},{key:"componentWillReceiveProps",value:function(e){this.state.focused||e.query===this.state.query||this.setState({query:e.query})}},{key:"render",value:function(){var e=this.props,t=e.cssClasses,r=e.placeholder,n=e.autofocus,i=e.showSubmit,o=e.showReset,a=e.showLoadingIndicator,s=e.templates,c=e.isSearchStalled;return hi("div",{className:t.root},hi("form",{action:"",role:"search",className:t.form,noValidate:!0,onSubmit:this.onSubmit,onReset:this.onReset},hi("input",{ref:this.input,value:this.state.query,disabled:this.props.disabled,className:t.input,type:"search",placeholder:r,autoFocus:n,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",maxLength:512,onInput:this.onInput,onBlur:this.onBlur,onFocus:this.onFocus}),hi(aa,{templateKey:"submit",rootTagName:"button",rootProps:{className:t.submit,type:"submit",title:"Submit the search query.",hidden:!i},templates:s,data:{cssClasses:t}}),hi(aa,{templateKey:"reset",rootTagName:"button",rootProps:{className:t.reset,type:"reset",title:"Clear the search query.",hidden:!(o&&this.state.query.trim()&&!c)},templates:s,data:{cssClasses:t}}),a&&hi(aa,{templateKey:"loadingIndicator",rootTagName:"span",rootProps:{className:t.loadingIndicator,hidden:!c},templates:s,data:{cssClasses:t}})))}}])&&la(t.prototype,r),n&&la(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(bi);ma(va,"defaultProps",ya);const ba=va;var Oa=["root"];function wa(e){return wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wa(e)}function ja(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ja(Object(r),!0).forEach((function(t){Na(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ja(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_a.apply(this,arguments)}function Pa(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ra(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ka(n.key),n)}}function Ea(e,t){return Ea=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ea(e,t)}function Fa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ta(e);if(t){var i=Ta(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===wa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xa(e)}(this,r)}}function xa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ta(e){return Ta=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ta(e)}function Na(e,t,r){return(t=ka(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ka(e){var t=function(e,t){if("object"!==wa(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==wa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===wa(t)?t:String(t)}function Ia(e){return void 0!==e.data}var Aa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ea(e,t)}(o,e);var t,r,n,i=Fa(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Na(xa(t=i.call(this,e)),"searchBox",{current:null}),t.handleItemClick=t.handleItemClick.bind(xa(t)),t}return t=o,r=[{key:"shouldComponentUpdate",value:function(e){return!_t(this.props.facetValues,e.facetValues)}},{key:"refine",value:function(e){this.props.toggleRefinement(e)}},{key:"_generateFacetItem",value:function(e){var t;if(Ia(e)&&Array.isArray(e.data)&&e.data.length>0){var r=this.props.cssClasses;r.root;var n=Pa(r,Oa);t=hi(o,_a({},this.props,{cssClasses:n,depth:this.props.depth+1,facetValues:e.data,showMore:!1,className:this.props.cssClasses.childList}))}var i=this.props.createURL(e.value),a=Sa(Sa({},e),{},{url:i,attribute:this.props.attribute,cssClasses:this.props.cssClasses,isFromSearch:this.props.isFromSearch}),s=e.value;void 0!==e.isRefined&&(s+="/".concat(e.isRefined)),void 0!==e.count&&(s+="/".concat(e.count));var c=Di(this.props.cssClasses.item,e.isRefined&&this.props.cssClasses.selectedItem,!e.count&&this.props.cssClasses.disabledItem,Boolean(Ia(e)&&Array.isArray(e.data)&&e.data.length>0)&&this.props.cssClasses.parentItem);return hi(ca,{templateKey:"item",key:s,facetValueToRefine:e.value,handleClick:this.handleItemClick,isRefined:e.isRefined,className:c,subItems:t,templateData:a,templateProps:this.props.templateProps})}},{key:"handleItemClick",value:function(e){var t,r=e.facetValueToRefine,n=e.isRefined,i=e.originalEvent;if(!(1===(t=i).button||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey||!(i.target instanceof HTMLElement&&i.target.parentNode instanceof HTMLElement)||n&&i.target.parentNode.querySelector('input[type="radio"]:checked')))if("INPUT"!==i.target.tagName){for(var o=i.target;o!==i.currentTarget;){if("LABEL"===o.tagName&&(o.querySelector('input[type="checkbox"]')||o.querySelector('input[type="radio"]')))return;"A"===o.tagName&&o.href&&i.preventDefault(),o=o.parentNode}i.stopPropagation(),this.refine(r)}else this.refine(r)}},{key:"componentWillReceiveProps",value:function(e){this.searchBox.current&&!e.isFromSearch&&this.searchBox.current.resetInput()}},{key:"refineFirstValue",value:function(){var e=this.props.facetValues&&this.props.facetValues[0];if(e){var t=e.value;this.props.toggleRefinement(t)}}},{key:"render",value:function(){var e=this,t=Di(this.props.cssClasses.showMore,!(!0===this.props.showMore&&this.props.canToggleShowMore)&&this.props.cssClasses.disabledShowMore),r=!0===this.props.showMore&&hi(aa,_a({},this.props.templateProps,{templateKey:"showMoreText",rootTagName:"button",rootProps:{className:t,disabled:!this.props.canToggleShowMore,onClick:this.props.toggleShowMore},data:{isShowingMore:this.props.isShowingMore}})),n=!0!==this.props.searchIsAlwaysActive&&!(this.props.isFromSearch||!this.props.hasExhaustiveItems),i=this.props.searchFacetValues&&hi("div",{className:this.props.cssClasses.searchBox},hi(ba,{ref:this.searchBox,placeholder:this.props.searchPlaceholder,disabled:n,cssClasses:this.props.cssClasses.searchable,templates:this.props.searchBoxTemplateProps.templates,onChange:function(t){return e.props.searchFacetValues(t.target.value)},onReset:function(){return e.props.searchFacetValues("")},onSubmit:function(){return e.refineFirstValue()},searchAsYouType:!1})),o=this.props.facetValues&&this.props.facetValues.length>0&&hi("ul",{className:this.props.cssClasses.list},this.props.facetValues.map(this._generateFacetItem,this)),a=this.props.searchFacetValues&&this.props.isFromSearch&&(!this.props.facetValues||0===this.props.facetValues.length)&&hi(aa,_a({},this.props.templateProps,{templateKey:"searchableNoResults",rootProps:{className:this.props.cssClasses.noResults}}));return hi("div",{className:Di(this.props.cssClasses.root,(!this.props.facetValues||0===this.props.facetValues.length)&&this.props.cssClasses.noRefinementRoot,this.props.className)},this.props.children,i,o,a,r)}}],r&&Ra(t.prototype,r),n&&Ra(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(bi);Na(Aa,"defaultProps",{cssClasses:{},depth:0});const Ca=Aa;function Da(e){return Da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Da(e)}function Ha(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function La(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ha(Object(r),!0).forEach((function(t){Qa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ha(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qa(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Da(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Da(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Da(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qa=ut({name:"hits",connector:!0});const Ma=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ne;return Ie(e,qa()),function(r){var n,i,o=r||{},a=o.escapeHTML,s=void 0===a||a,c=o.transformItems,u=void 0===c?function(e){return e}:c;return{$$type:"ais.hits",init:function(t){e(La(La({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){var r=this.getWidgetRenderState(t);e(La(La({},r),{},{instantSearchInstance:t.instantSearchInstance}),!1),r.sendEvent("view",r.hits)},getRenderState:function(e,t){return La(La({},e),{},{hits:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,o=e.helper,a=e.instantSearchInstance;if(n||(n=function(e){var t=e.instantSearchInstance,r=e.index,n=e.widgetType;return function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];it({widgetType:n,index:r,methodName:"sendEvent",args:i,instantSearchInstance:t}).forEach((function(e){return t.sendEventToInsights(e)}))}}({instantSearchInstance:a,index:o.getIndex(),widgetType:this.$$type})),i||(i=function(e){var t=e.index,r=e.widgetType,n=e.instantSearchInstance;return function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];var a=it({widgetType:r,index:t,methodName:"bindEvent",args:i,instantSearchInstance:n});return a.length?"data-insights-event=".concat(tt(a)):""}}({index:o.getIndex(),widgetType:this.$$type,instantSearchInstance:a})),!t)return{hits:[],results:void 0,sendEvent:n,bindEvent:i,widgetParams:r};s&&t.hits.length>0&&(t.hits=Ze(t.hits));var c=function(e,t,r){return e.map((function(e,n){return yt(yt({},e),{},{__position:r*t+n+1})}))}(t.hits,t.page,t.hitsPerPage),l=function(e,t){return t?e.map((function(e){return wt(wt({},e),{},{__queryID:t})})):e}(c,t.queryID);return{hits:u(l,{results:t}),results:t,sendEvent:n,bindEvent:i,widgetParams:r}},dispose:function(e){var r=e.state;return t(),s?r.setQueryParameters(Object.keys(ze).reduce((function(e,t){return La(La({},e),{},Qa({},t,void 0))}),{})):r},getWidgetSearchParameters:function(e){return s?e.setQueryParameters(ze):e}}}};function Ua(e){return Ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ua(e)}function Wa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ba(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wa(Object(r),!0).forEach((function(t){Va(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Va(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ua(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ua(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ua(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $a(){return $a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$a.apply(this,arguments)}const Ja=function(e){var t=e.results,r=e.hits,n=e.bindEvent,i=e.sendEvent,o=e.cssClasses,a=e.templateProps;return 0===t.hits.length?hi(aa,$a({},a,{templateKey:"empty",rootProps:{className:Di(o.root,o.emptyRoot)},data:t})):hi("div",{className:o.root},hi("ol",{className:o.list},r.map((function(e,t){return hi(aa,$a({},a,{templateKey:"item",rootTagName:"li",rootProps:{className:o.item},key:e.objectID,data:Ba(Ba({},e),{},{__hitIndex:t}),bindEvent:n,sendEvent:i}))}))))},za={empty:function(){return"No results"},item:function(e){return JSON.stringify(e,null,2)}};function Ka(e){return Ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ka(e)}function Ga(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ya(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ga(Object(r),!0).forEach((function(t){Za(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ga(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Za(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ka(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ka(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ka(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Xa=function(e){var t=e.method,r=e.results,n=e.hits,i=e.objectIDs,o=r.index,a=function(e,t){return t.map((function(t){var r=function(e,t){for(var r,n=0;n<e.length;n++)if(t(r=e[n],n,e))return r}(e,(function(e){return e.objectID===t}));if(void 0===r)throw new Error('Could not find objectID "'.concat(t,'" passed to `clickedObjectIDsAfterSearch` in the returned hits. This is necessary to infer the absolute position and the query ID.'));return r}))}(n,i),s=function(e){var t=Pt(e.map((function(e){return e.__queryID})));if(t.length>1)throw new Error("Insights currently allows a single `queryID`. The `objectIDs` provided map to multiple `queryID`s.");var r=t[0];if("string"!=typeof r)throw new Error("Could not infer `queryID`. Ensure InstantSearch `clickAnalytics: true` was added with the Configure widget.\n\nSee: https://alg.li/lNiZZ7");return r}(a);switch(t){case"clickedObjectIDsAfterSearch":var c=function(e){return e.map((function(e){return e.__position}))}(a);return{index:o,queryID:s,objectIDs:i,positions:c};case"convertedObjectIDsAfterSearch":return{index:o,queryID:s,objectIDs:i};default:throw new Error('Unsupported method passed to insights: "'.concat(t,'".'))}},es=function(e,t,r){return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var s=o[0];if(!e){var c=ut({name:"instantsearch"});throw new Error(c("The `insightsClient` option has not been provided to `instantsearch`."))}if(!Array.isArray(s.objectIDs))throw new TypeError("Expected `objectIDs` to be an array.");var u=Xa({method:n,results:t,hits:r,objectIDs:s.objectIDs});e(n,Ya(Ya({},u),s))}},ts=function(e,t,r){for(var n=e;n&&!r(n);){if(n===t)return null;n=n.parentElement}return n},rs=function(e){var t=e.getAttribute("data-insights-event");if("string"!=typeof t)throw new Error("The insights middleware expects `data-insights-event` to be a base64-encoded JSON string.");try{return rt(t)}catch(r){throw new Error("The insights middleware was unable to parse `data-insights-event`.")}};const ns=function(e){return function(t){return hi("div",{onClick:function(e){if(t.sendEvent){var r=ts(e.target,e.currentTarget,(function(e){return e.hasAttribute("data-insights-event")}));r&&rs(r).forEach((function(e){return t.sendEvent(e)}))}var n=ts(e.target,e.currentTarget,(function(e){return e.hasAttribute("data-insights-method")}));if(n){var i=function(e){var t=e.getAttribute("data-insights-method"),r=e.getAttribute("data-insights-payload");if("string"!=typeof r)throw new Error("The insights helper expects `data-insights-payload` to be a base64-encoded JSON string.");try{return{method:t,payload:rt(r)}}catch(n){throw new Error("The insights helper was unable to parse `data-insights-payload`.")}}(n),o=i.method,a=i.payload;t.insights(o,a)}}},hi(e,t))}};function is(e){return is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},is(e)}function os(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function as(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?os(Object(r),!0).forEach((function(t){ss(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):os(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ss(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==is(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==is(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===is(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var cs=ut({name:"hits"}),us=yr("Hits"),ls=ns(Ja);const fs=function(e){var t=e||{},r=t.container,n=t.escapeHTML,i=t.transformItems,o=t.templates,a=void 0===o?{}:o,s=t.cssClasses,c=void 0===s?{}:s;if(!r)throw new Error(cs("The `container` option is required."));var u,l=lt(r),f={root:Di(us(),c.root),emptyRoot:Di(us({modifierName:"empty"}),c.emptyRoot),list:Di(us({descendantName:"list"}),c.list),item:Di(us({descendantName:"item"}),c.item)},h=function(e){var t=e.renderState,r=e.cssClasses,n=e.containerNode,i=e.templates;return function(e,o){var a=e.hits,s=e.results,c=e.instantSearchInstance,u=e.insights,l=e.bindEvent,f=e.sendEvent;o?t.templateProps=Ui({defaultTemplates:za,templatesConfig:c.templatesConfig,templates:i}):Ci(hi(ls,{cssClasses:r,hits:a,results:s,templateProps:t.templateProps,insights:u,sendEvent:f,bindEvent:l}),n)}}({containerNode:l,cssClasses:f,renderState:{},templates:a}),p=(u=Ma,function(e,t){return u((function(t,r){var n=t.results,i=t.hits,o=t.instantSearchInstance;if(n&&i&&o){var a=es(o.insightsClient,n,i);return e(Ya(Ya({},t),{},{insights:a}),r)}return e(t,r)}),t)})(h,(function(){return Ci(null,l)}));return as(as({},p({escapeHTML:n,transformItems:i})),{},{$$widgetType:"ais.hits"})};function hs(e){return hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hs(e)}var ps=["name","escapedValue"],ds=["escapedValue","value"];function ms(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ms(Object(r),!0).forEach((function(t){ys(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ms(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ys(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==hs(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==hs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===hs(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vs(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var bs=ut({name:"refinement-list",connector:!0}),Os=["isRefined","count:desc","name:asc"];const ws=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ne;return Ie(e,bs()),function(r){var n=r||{},i=n.attribute,o=n.operator,a=void 0===o?"or":o,s=n.limit,c=void 0===s?10:s,u=n.showMore,l=void 0!==u&&u,f=n.showMoreLimit,h=void 0===f?20:f,p=n.sortBy,d=void 0===p?Os:p,m=n.escapeFacetValues,g=void 0===m||m,y=n.transformItems,v=void 0===y?function(e){return e}:y;if(!i)throw new Error(bs("The `attribute` option is required."));if(!/^(and|or)$/.test(a))throw new Error(bs('The `operator` must one of: `"and"`, `"or"` (got "'.concat(a,'").')));if(!0===l&&h<=c)throw new Error(bs("`showMoreLimit` should be greater than `limit`."));var b,O,w,j=function(e){var t=e.name,r=e.escapedValue;return gs(gs({},vs(e,ps)),{},{value:r,label:t,highlighted:t})},S=[],_=!0,P=!1,R=function(){};function E(){R()}function F(){return P?h:c}var x=function(){return function(){}},T=function(t,r){return function(n){return function(o){var a=n.instantSearchInstance,s=n.results;if(""===o&&S)e(gs(gs({},r.getWidgetRenderState(gs(gs({},n),{},{results:b}))),{},{instantSearchInstance:a}),!1);else{var c={highlightPreTag:g?ze.highlightPreTag:Ke.highlightPreTag,highlightPostTag:g?ze.highlightPostTag:Ke.highlightPostTag};t.searchForFacetValues(i,o,Math.min(F(),100),c).then((function(t){var i=g?t.facetHits.map((function(e){return $e($e({},e),{},{highlighted:Ge(e.highlighted)})})):t.facetHits,o=v(i.map((function(e){var t=e.escapedValue,r=e.value;return gs(gs({},vs(e,ds)),{},{value:t,label:r})})),{results:s});e(gs(gs({},r.getWidgetRenderState(gs(gs({},n),{},{results:b}))),{},{items:o,canToggleShowMore:!1,canRefine:!0,isFromSearch:!0,instantSearchInstance:a}),!1)}))}}}};return{$$type:"ais.refinementList",init:function(t){e(gs(gs({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){e(gs(gs({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1)},getRenderState:function(e,t){return gs(gs({},e),{},{refinementList:gs(gs({},e.refinementList),{},ys({},i,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=e.results,n=e.state,o=e.createURL,a=e.instantSearchInstance,s=e.helper,u=[],f=[];if(w&&O&&x||(w=function(e){var t=e.instantSearchInstance,r=e.helper,n=e.attribute,i=e.widgetType;return function(){for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];var s=o[0],c=o[1],u=o[2],l=void 0===u?"Filter Applied":u,f="string"==typeof n?n:n(c);1===o.length&&"object"===et(o[0])?t.sendEventToInsights(o[0]):"click"!==s||2!==o.length&&3!==o.length||function(e,t,r){return e.state.isHierarchicalFacet(t)?e.state.isHierarchicalFacetRefined(t,r):e.state.isConjunctiveFacet(t)?e.state.isFacetRefined(t,r):e.state.isDisjunctiveFacetRefined(t,r)}(r,f,c)||t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:i,eventType:s,payload:{eventName:l,index:r.getIndex(),filters:["".concat(f,":").concat(c)]},attribute:f})}}({instantSearchInstance:a,helper:s,attribute:i,widgetType:this.$$type}),O=function(e){w("click",e),s.toggleFacetRefinement(i,e).search()},x=T(s,this)),t){var h=t.getFacetValues(i,{sortBy:d,facetOrdering:d===Os});f=h&&Array.isArray(h)?h:[],u=v(f.slice(0,F()).map(j),{results:t});var p=n.maxValuesPerFacet,m=F();_=p>m?f.length<=m:f.length<m,b=t,S=u,e.results&&(R=function(e,t){return function(){P=!P,t.render(e)}}(e,this))}var g=x&&x(e),y=P&&S.length>c||l&&!_;return{createURL:function(e){return o(n.resetPage().toggleFacetRefinement(i,e))},items:u,refine:O,searchForItems:g,isFromSearch:!1,canRefine:u.length>0,widgetParams:r,isShowingMore:P,canToggleShowMore:y,toggleShowMore:E,sendEvent:w,hasExhaustiveItems:_}},dispose:function(e){var r=e.state;t();var n=r.setQueryParameter("maxValuesPerFacet",void 0);return"and"===a?n.removeFacet(i):n.removeDisjunctiveFacet(i)},getWidgetUiState:function(e,t){var r=t.searchParameters,n="or"===a?r.getDisjunctiveRefinements(i):r.getConjunctiveRefinements(i);return n.length?gs(gs({},e),{},{refinementList:gs(gs({},e.refinementList),{},ys({},i,n))}):e},getWidgetSearchParameters:function(e,t){var r=t.uiState,n="or"===a,o=r.refinementList&&r.refinementList[i],s=e.clearRefinements(i),u=n?s.addDisjunctiveFacet(i):s.addFacet(i),f=u.maxValuesPerFacet||0,p=Math.max(f,l?h:c),d=u.setQueryParameter("maxValuesPerFacet",p);if(!o){var m=n?"disjunctiveFacetsRefinements":"facetsRefinements";return d.setQueryParameters(ys({},m,gs(gs({},d[m]),{},ys({},i,[]))))}return o.reduce((function(e,t){return n?e.addDisjunctiveFacetRefinement(i,t):e.addFacetRefinement(i,t)}),d)}}}};var js=hi("path",{d:"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z"}),Ss=hi("path",{d:"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"}),_s=hi("g",{fill:"none",fillRule:"evenodd"},hi("g",{transform:"translate(1 1)",strokeWidth:"2"},hi("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),hi("path",{d:"M36 18c0-9.94-8.06-18-18-18"},hi("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})))),Ps={reset:function(e){return hi("svg",{className:e.cssClasses.resetIcon,viewBox:"0 0 20 20",width:"10",height:"10"},js)},submit:function(e){return hi("svg",{className:e.cssClasses.submitIcon,width:"10",height:"10",viewBox:"0 0 40 40"},Ss)},loadingIndicator:function(e){return hi("svg",{className:e.cssClasses.loadingIcon,width:"16",height:"16",viewBox:"0 0 38 38",stroke:"#444"},_s)}};const Rs=Ps;var Es={item:function(e){var t=e.cssClasses,r=e.count,n=e.value,i=e.highlighted,o=e.isRefined,a=e.isFromSearch;return hi("label",{className:Di(t.label)},hi("input",{type:"checkbox",className:Di(t.checkbox),value:n,defaultChecked:o}),hi("span",{className:Di(t.labelText),dangerouslySetInnerHTML:a?{__html:i}:void 0},!a&&i),hi("span",{className:Di(t.count)},Nr(r)))},showMoreText:function(e){return e.isShowingMore?"Show less":"Show more"},searchableNoResults:function(){return"No results"}};const Fs=Es;function xs(e){return xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xs(e)}function Ts(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ns(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ts(Object(r),!0).forEach((function(t){ks(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ts(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ks(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==xs(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==xs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===xs(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Is=ut({name:"refinement-list"}),As=yr("RefinementList"),Cs=yr("SearchBox");const Ds=function(e){var t=e||{},r=t.container,n=t.attribute,i=t.operator,o=t.sortBy,a=t.limit,s=t.showMore,c=t.showMoreLimit,u=t.searchable,l=void 0!==u&&u,f=t.searchablePlaceholder,h=void 0===f?"Search...":f,p=t.searchableEscapeFacetValues,d=void 0===p||p,m=t.searchableIsAlwaysActive,g=void 0===m||m,y=t.cssClasses,v=void 0===y?{}:y,b=t.templates,O=void 0===b?{}:b,w=t.transformItems;if(!r)throw new Error(Is("The `container` option is required."));var j=!!l&&Boolean(d),S=lt(r),_={root:Di(As(),v.root),noRefinementRoot:Di(As({modifierName:"noRefinement"}),v.noRefinementRoot),list:Di(As({descendantName:"list"}),v.list),item:Di(As({descendantName:"item"}),v.item),selectedItem:Di(As({descendantName:"item",modifierName:"selected"}),v.selectedItem),searchBox:Di(As({descendantName:"searchBox"}),v.searchBox),label:Di(As({descendantName:"label"}),v.label),checkbox:Di(As({descendantName:"checkbox"}),v.checkbox),labelText:Di(As({descendantName:"labelText"}),v.labelText),count:Di(As({descendantName:"count"}),v.count),noResults:Di(As({descendantName:"noResults"}),v.noResults),showMore:Di(As({descendantName:"showMore"}),v.showMore),disabledShowMore:Di(As({descendantName:"showMore",modifierName:"disabled"}),v.disabledShowMore),searchable:{root:Di(Cs(),v.searchableRoot),form:Di(Cs({descendantName:"form"}),v.searchableForm),input:Di(Cs({descendantName:"input"}),v.searchableInput),submit:Di(Cs({descendantName:"submit"}),v.searchableSubmit),submitIcon:Di(Cs({descendantName:"submitIcon"}),v.searchableSubmitIcon),reset:Di(Cs({descendantName:"reset"}),v.searchableReset),resetIcon:Di(Cs({descendantName:"resetIcon"}),v.searchableResetIcon),loadingIndicator:Di(Cs({descendantName:"loadingIndicator"}),v.searchableLoadingIndicator),loadingIcon:Di(Cs({descendantName:"loadingIcon"}),v.searchableLoadingIcon)}},P=function(e){var t=e.containerNode,r=e.cssClasses,n=e.templates,i=e.searchBoxTemplates,o=e.renderState,a=e.showMore,s=e.searchable,c=e.searchablePlaceholder,u=e.searchableIsAlwaysActive;return function(e,l){var f=e.refine,h=e.items,p=e.createURL,d=e.searchForItems,m=e.isFromSearch,g=e.instantSearchInstance,y=e.toggleShowMore,v=e.isShowingMore,b=e.hasExhaustiveItems,O=e.canToggleShowMore;if(l)return o.templateProps=Ui({defaultTemplates:Fs,templatesConfig:g.templatesConfig,templates:n}),void(o.searchBoxTemplateProps=Ui({defaultTemplates:Rs,templatesConfig:g.templatesConfig,templates:i}));Ci(hi(Ca,{createURL:p,cssClasses:r,facetValues:h,templateProps:o.templateProps,searchBoxTemplateProps:o.searchBoxTemplateProps,toggleRefinement:f,searchFacetValues:s?d:void 0,searchPlaceholder:c,searchIsAlwaysActive:u,isFromSearch:m,showMore:a&&!m&&h.length>0,toggleShowMore:y,isShowingMore:v,hasExhaustiveItems:b,canToggleShowMore:O}),t)}}({containerNode:S,cssClasses:_,templates:O,searchBoxTemplates:{submit:O.searchableSubmit,reset:O.searchableReset,loadingIndicator:O.searchableLoadingIndicator},renderState:{},searchable:l,searchablePlaceholder:h,searchableIsAlwaysActive:g,showMore:s});return Ns(Ns({},ws(P,(function(){return Ci(null,S)}))({attribute:n,operator:i,limit:a,showMore:s,showMoreLimit:c,sortBy:o,escapeFacetValues:j,transformItems:w})),{},{$$widgetType:"ais.refinementList"})};function Hs(e){return Hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(e)}function Ls(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ls(Object(r),!0).forEach((function(t){qs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ls(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Hs(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Hs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Hs(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ms=ut({name:"search-box",connector:!0}),Us=function(e,t){return t(e)};const Ws=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ne;return Ie(e,Ms()),function(r){var n,i,o=(r||{}).queryHook,a=void 0===o?Us:o;return{$$type:"ais.searchBox",init:function(t){var r=t.instantSearchInstance;e(Qs(Qs({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var r=t.instantSearchInstance;e(Qs(Qs({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!1)},dispose:function(e){var r=e.state;return t(),r.setQueryParameter("query",void 0)},getRenderState:function(e,t){return Qs(Qs({},e),{},{searchBox:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.helper,o=e.searchMetadata,s=e.state;return n||(n=function(e){a(e,(function(e){return t.setQuery(e).search()}))},i=function(){t.setQuery("").search()}),{query:s.query||"",refine:n,clear:i,widgetParams:r,isSearchStalled:o.isSearchStalled}},getWidgetUiState:function(e,t){var r=t.searchParameters.query||"";return""===r||e&&e.query===r?e:Qs(Qs({},e),{},{query:r})},getWidgetSearchParameters:function(e,t){var r=t.uiState;return e.setQueryParameter("query",r.query||"")}}}};function Bs(e){return Bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bs(e)}function Vs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vs(Object(r),!0).forEach((function(t){Js(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Js(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Bs(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Bs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Bs(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zs=ut({name:"search-box"}),Ks=yr("SearchBox");const Gs=function(e){var t=e||{},r=t.container,n=t.placeholder,i=void 0===n?"":n,o=t.cssClasses,a=void 0===o?{}:o,s=t.autofocus,c=void 0!==s&&s,u=t.searchAsYouType,l=void 0===u||u,f=t.showReset,h=void 0===f||f,p=t.showSubmit,d=void 0===p||p,m=t.showLoadingIndicator,g=void 0===m||m,y=t.queryHook,v=t.templates,b=void 0===v?{}:v;if(!r)throw new Error(zs("The `container` option is required."));var O=lt(r),w={root:Di(Ks(),a.root),form:Di(Ks({descendantName:"form"}),a.form),input:Di(Ks({descendantName:"input"}),a.input),submit:Di(Ks({descendantName:"submit"}),a.submit),submitIcon:Di(Ks({descendantName:"submitIcon"}),a.submitIcon),reset:Di(Ks({descendantName:"reset"}),a.reset),resetIcon:Di(Ks({descendantName:"resetIcon"}),a.resetIcon),loadingIndicator:Di(Ks({descendantName:"loadingIndicator"}),a.loadingIndicator),loadingIcon:Di(Ks({descendantName:"loadingIcon"}),a.loadingIcon)},j=$s($s({},Rs),b),S=function(e){var t=e.containerNode,r=e.cssClasses,n=e.placeholder,i=e.templates,o=e.autofocus,a=e.searchAsYouType,s=e.showReset,c=e.showSubmit,u=e.showLoadingIndicator;return function(e){var l=e.refine,f=e.query,h=e.isSearchStalled;Ci(hi(ba,{query:f,placeholder:n,autofocus:o,refine:l,searchAsYouType:a,templates:i,showSubmit:c,showReset:s,showLoadingIndicator:u,isSearchStalled:h,cssClasses:r}),t)}}({containerNode:O,cssClasses:w,placeholder:i,templates:j,autofocus:c,searchAsYouType:l,showReset:h,showSubmit:d,showLoadingIndicator:g});return $s($s({},Ws(S,(function(){return Ci(null,O)}))({queryHook:y})),{},{$$widgetType:"ais.searchBox"})},Ys=async e=>{let t=null;try{const r=await fetch(e);t=await r.json()}catch(r){throw r}return t},Zs=({href:e,text:t,className:r=[]})=>{const n=document.createElement("a");return n.href=e,n.target="_blank",n.textContent=t,r.forEach((e=>n.classList.add(e))),n};let Xs=!1;const ec=e=>{Xs&&console.log(`%c ð ${e}`,"color: blue; background: #F5F5DC;padding: 3px 6px; border-radius: 4px;")},tc=[];document.addEventListener("DOMContentLoaded",(()=>{(async()=>{const e=document.querySelectorAll(".gm-github-infos");if(e){const t=await Ys("https://api.github.com/repos/WP-Performance/press-wind");if(t)for(let n=0;e.length>n;n++){e[n].querySelector("p:first-child").innerHTML="";const r=Zs({href:t.html_url,text:`${t.stargazers_count} Stars`,className:["gm-star"]});e[n].querySelector("p").append(r)}const r=await Ys("https://api.github.com/repos/WP-Performance/press-wind/tags");if(r&&r.length>0){const[t]=r;for(let r=0;e.length>r;r++){const n=Zs({href:t.zipball_url,text:`TÃ©lÃ©charger la derniÃ¨re version (${t.name})`,className:["gm-zip"]});e[r].querySelector("p").append(n)}}}})(),((e=!1)=>{Xs=e,document.body.classList.contains("admin-bar");const t=window.location.hostname;[...document.getElementsByTagName("a")].forEach((e=>{(e.host===t||e.href.startsWith("/"))&&""!==e.href&&e.href&&e.addEventListener("mouseover",(e=>{const t=e.target.href,r=tc.includes(t);if(r&&ec(`${t} already prefetched`),t&&!r){const e=document.createElement("link");e.rel="prefetch",e.href=t,document.head.appendChild(e),tc.push(t),ec(`add prefetch for ${t}`)}}))}))})(!0),(()=>{const e=Xn({indexName:ALGOLIA_APP_INDEX,numberLocale:"fr",searchClient:t(ALGOLIA_APP_ID,ALGOLIA_APP_PUBLIC),searchFunction(e){e.state.query&&""!==e.state.query?(document.getElementById("hits").removeAttribute("hidden"),e.search()):document.getElementById("hits").setAttribute("hidden",!0)}});e.addWidgets([Gs({container:"#searchbox"}),Ds({container:"#tag-list",attribute:"tags",limit:5,showMore:!0}),fs({container:"#hits",templates:{item:'\n      <article>\n        <a href="{{ url }}">\n          <strong>\n            {{#helpers.highlight}}\n              { "attribute": "title", "highlightedTagName": "mark" }\n            {{/helpers.highlight}}\n          </strong>\n        </a>\n        {{#content}}\n          <p>{{#helpers.highlight}}{ "attribute": "excerpt", "highlightedTagName": "mark" }{{/helpers.highlight}}</p>\n        {{/content}}\n      </article>\n    '}})]),e.start()})()}))}}}));
