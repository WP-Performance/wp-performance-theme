import{c as ut}from"./_commonjsHelpers-725317a4.js";(function(){(function(r){(function(e){var t={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(o){return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};function n(o){return o&&DataView.prototype.isPrototypeOf(o)}if(t.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(o){return o&&i.indexOf(Object.prototype.toString.call(o))>-1};function u(o){if(typeof o!="string"&&(o=String(o)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(o))throw new TypeError("Invalid character in header field name");return o.toLowerCase()}function c(o){return typeof o!="string"&&(o=String(o)),o}function l(o){var f={next:function(){var y=o.shift();return{done:y===void 0,value:y}}};return t.iterable&&(f[Symbol.iterator]=function(){return f}),f}function a(o){this.map={},o instanceof a?o.forEach(function(f,y){this.append(y,f)},this):Array.isArray(o)?o.forEach(function(f){this.append(f[0],f[1])},this):o&&Object.getOwnPropertyNames(o).forEach(function(f){this.append(f,o[f])},this)}a.prototype.append=function(o,f){o=u(o),f=c(f);var y=this.map[o];this.map[o]=y?y+", "+f:f},a.prototype.delete=function(o){delete this.map[u(o)]},a.prototype.get=function(o){return o=u(o),this.has(o)?this.map[o]:null},a.prototype.has=function(o){return this.map.hasOwnProperty(u(o))},a.prototype.set=function(o,f){this.map[u(o)]=c(f)},a.prototype.forEach=function(o,f){for(var y in this.map)this.map.hasOwnProperty(y)&&o.call(f,this.map[y],y,this)},a.prototype.keys=function(){var o=[];return this.forEach(function(f,y){o.push(y)}),l(o)},a.prototype.values=function(){var o=[];return this.forEach(function(f){o.push(f)}),l(o)},a.prototype.entries=function(){var o=[];return this.forEach(function(f,y){o.push([y,f])}),l(o)},t.iterable&&(a.prototype[Symbol.iterator]=a.prototype.entries);function p(o){if(o.bodyUsed)return Promise.reject(new TypeError("Already read"));o.bodyUsed=!0}function v(o){return new Promise(function(f,y){o.onload=function(){f(o.result)},o.onerror=function(){y(o.error)}})}function m(o){var f=new FileReader,y=v(f);return f.readAsArrayBuffer(o),y}function w(o){var f=new FileReader,y=v(f);return f.readAsText(o),y}function S(o){for(var f=new Uint8Array(o),y=new Array(f.length),P=0;P<f.length;P++)y[P]=String.fromCharCode(f[P]);return y.join("")}function E(o){if(o.slice)return o.slice(0);var f=new Uint8Array(o.byteLength);return f.set(new Uint8Array(o)),f.buffer}function q(){return this.bodyUsed=!1,this._initBody=function(o){this._bodyInit=o,o?typeof o=="string"?this._bodyText=o:t.blob&&Blob.prototype.isPrototypeOf(o)?this._bodyBlob=o:t.formData&&FormData.prototype.isPrototypeOf(o)?this._bodyFormData=o:t.searchParams&&URLSearchParams.prototype.isPrototypeOf(o)?this._bodyText=o.toString():t.arrayBuffer&&t.blob&&n(o)?(this._bodyArrayBuffer=E(o.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):t.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(o)||s(o))?this._bodyArrayBuffer=E(o):this._bodyText=o=Object.prototype.toString.call(o):this._bodyText="",this.headers.get("content-type")||(typeof o=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(o)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var o=p(this);if(o)return o;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var o=p(this);if(o)return o;if(this._bodyBlob)return w(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(S(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(M)}),this.json=function(){return this.text().then(JSON.parse)},this}var F=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function x(o){var f=o.toUpperCase();return F.indexOf(f)>-1?f:o}function A(o,f){f=f||{};var y=f.body;if(o instanceof A){if(o.bodyUsed)throw new TypeError("Already read");this.url=o.url,this.credentials=o.credentials,f.headers||(this.headers=new a(o.headers)),this.method=o.method,this.mode=o.mode,this.signal=o.signal,!y&&o._bodyInit!=null&&(y=o._bodyInit,o.bodyUsed=!0)}else this.url=String(o);if(this.credentials=f.credentials||this.credentials||"same-origin",(f.headers||!this.headers)&&(this.headers=new a(f.headers)),this.method=x(f.method||this.method||"GET"),this.mode=f.mode||this.mode||null,this.signal=f.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&y)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(y)}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})};function M(o){var f=new FormData;return o.trim().split("&").forEach(function(y){if(y){var P=y.split("="),R=P.shift().replace(/\+/g," "),b=P.join("=").replace(/\+/g," ");f.append(decodeURIComponent(R),decodeURIComponent(b))}}),f}function B(o){var f=new a,y=o.replace(/\r?\n[\t ]+/g," ");return y.split(/\r?\n/).forEach(function(P){var R=P.split(":"),b=R.shift().trim();if(b){var L=R.join(":").trim();f.append(b,L)}}),f}q.call(A.prototype);function k(o,f){f||(f={}),this.type="default",this.status=f.status===void 0?200:f.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in f?f.statusText:"OK",this.headers=new a(f.headers),this.url=f.url||"",this._initBody(o)}q.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new a(this.headers),url:this.url})},k.error=function(){var o=new k(null,{status:0,statusText:""});return o.type="error",o};var j=[301,302,303,307,308];k.redirect=function(o,f){if(j.indexOf(f)===-1)throw new RangeError("Invalid status code");return new k(null,{status:f,headers:{location:o}})},e.DOMException=r.DOMException;try{new e.DOMException}catch(o){e.DOMException=function(f,y){this.message=f,this.name=y;var P=Error(f);this.stack=P.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function I(o,f){return new Promise(function(y,P){var R=new A(o,f);if(R.signal&&R.signal.aborted)return P(new e.DOMException("Aborted","AbortError"));var b=new XMLHttpRequest;function L(){b.abort()}b.onload=function(){var C={status:b.status,statusText:b.statusText,headers:B(b.getAllResponseHeaders()||"")};C.url="responseURL"in b?b.responseURL:C.headers.get("X-Request-URL");var J="response"in b?b.response:b.responseText;y(new k(J,C))},b.onerror=function(){P(new TypeError("Network request failed"))},b.ontimeout=function(){P(new TypeError("Network request failed"))},b.onabort=function(){P(new e.DOMException("Aborted","AbortError"))},b.open(R.method,R.url,!0),R.credentials==="include"?b.withCredentials=!0:R.credentials==="omit"&&(b.withCredentials=!1),"responseType"in b&&t.blob&&(b.responseType="blob"),R.headers.forEach(function(C,J){b.setRequestHeader(J,C)}),R.signal&&(R.signal.addEventListener("abort",L),b.onreadystatechange=function(){b.readyState===4&&R.signal.removeEventListener("abort",L)}),b.send(typeof R._bodyInit>"u"?null:R._bodyInit)})}return I.polyfill=!0,r.fetch||(r.fetch=I,r.Headers=a,r.Request=A,r.Response=k),e.Headers=a,e.Request=A,e.Response=k,e.fetch=I,Object.defineProperty(e,"__esModule",{value:!0}),e})({})})(typeof self<"u"?self:ut)})();const ot={};var Q=function(r,e){return Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},Q(r,e)};function H(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Q(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var g=function(){return g=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},g.apply(this,arguments)};function d(r,e,t,n){function i(s){return s instanceof t?s:new t(function(u){u(s)})}return new(t||(t=Promise))(function(s,u){function c(p){try{a(n.next(p))}catch(v){u(v)}}function l(p){try{a(n.throw(p))}catch(v){u(v)}}function a(p){p.done?s(p.value):i(p.value).then(c,l)}a((n=n.apply(r,e||[])).next())})}function h(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(a){return function(p){return l([a,p])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(s=a[0]&2?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[a[0]&2,s.value]),a[0]){case 0:case 1:s=a;break;case 4:return t.label++,{value:a[1],done:!1};case 5:t.label++,i=a[1],a=[0];continue;case 7:a=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(a[0]===6||a[0]===2)){t=0;continue}if(a[0]===3&&(!s||a[1]>s[0]&&a[1]<s[3])){t.label=a[1];break}if(a[0]===6&&t.label<s[1]){t.label=s[1],s=a;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(a);break}s[2]&&t.ops.pop(),t.trys.pop();continue}a=e.call(r,t)}catch(p){a=[6,p],i=0}finally{n=s=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}var rt=function(r){H(e,r);function e(t,n,i,s){var u=this,c,l,a;return u=r.call(this,t)||this,Object.setPrototypeOf(u,e.prototype),u.name="MeiliSearchCommunicationError",n instanceof Response&&(u.message=n.statusText,u.statusCode=n.status),n instanceof Error&&(u.errno=n.errno,u.code=n.code),s?(u.stack=s,u.stack=(c=u.stack)===null||c===void 0?void 0:c.replace(/(TypeError|FetchError)/,u.name),u.stack=(l=u.stack)===null||l===void 0?void 0:l.replace("Failed to fetch","request to ".concat(i," failed, reason: connect ECONNREFUSED")),u.stack=(a=u.stack)===null||a===void 0?void 0:a.replace("Not Found","Not Found: ".concat(i))):Error.captureStackTrace&&Error.captureStackTrace(u,e),u}return e}(Error),X=function(r){H(e,r);function e(t,n){var i=r.call(this,t.message)||this;return Object.setPrototypeOf(i,X.prototype),i.name="MeiliSearchApiError",i.code=t.code,i.type=t.type,i.link=t.link,i.message=t.message,i.httpStatus=n,Error.captureStackTrace&&Error.captureStackTrace(i,X),i}return e}(Error);function at(r){return d(this,void 0,void 0,function(){var e;return h(this,function(t){switch(t.label){case 0:if(r.ok)return[3,5];e=void 0,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,r.json()];case 2:return e=t.sent(),[3,4];case 3:throw t.sent(),new rt(r.statusText,r,r.url);case 4:throw new X(e,r.status);case 5:return[2,r]}})})}function ct(r,e,t){throw r.name!=="MeiliSearchApiError"?new rt(r.message,r,t,e):r}var D=function(r){H(e,r);function e(t){var n=r.call(this,t)||this;return Object.setPrototypeOf(n,e.prototype),n.name="MeiliSearchError",Error.captureStackTrace&&Error.captureStackTrace(n,e),n}return e}(Error),dt=function(r){H(e,r);function e(t){var n=r.call(this,t)||this;return Object.setPrototypeOf(n,e.prototype),n.name="MeiliSearchTimeOutError",Error.captureStackTrace&&Error.captureStackTrace(n,e),n}return e}(Error);function N(r){return Object.entries(r).reduce(function(e,t){var n=t[0],i=t[1];return i!==void 0&&(e[n]=i),e},{})}function ht(r){return d(this,void 0,void 0,function(){return h(this,function(e){switch(e.label){case 0:return[4,new Promise(function(t){return setTimeout(t,r)})];case 1:return[2,e.sent()]}})})}function lt(r){return r.startsWith("https://")||r.startsWith("http://")?r:"http://".concat(r)}function ft(r){return r.endsWith("/")||(r+="/"),r}function pt(r){var e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi;return e.test(r)}var vt="0.32.5";function V(r){var e=Object.keys(r),t=e.reduce(function(n,i){var s,u,c,l=r[i];return l===void 0?n:Array.isArray(l)?g(g({},n),(s={},s[i]=l.join(","),s)):l instanceof Date?g(g({},n),(u={},u[i]=l.toISOString(),u)):g(g({},n),(c={},c[i]=l,c))},{});return t}function yt(r){try{return r=lt(r),r=ft(r),r}catch(e){throw new D("The provided host is not valid.")}}function gt(r){if(Array.isArray(r))return r.reduce(function(t,n){return t[n[0]]=n[1],t},{});if("has"in r){var e={};return r.forEach(function(t,n){return e[n]=t}),e}else return Object.assign({},r)}function bt(r){var e,t,n="X-Meilisearch-Client",i="Meilisearch JavaScript (v".concat(vt,")"),s="Content-Type",u="Authorization",c=gt((t=(e=r.requestConfig)===null||e===void 0?void 0:e.headers)!==null&&t!==void 0?t:{});if(r.apiKey&&!c[u]&&(c[u]="Bearer ".concat(r.apiKey)),c[s]||(c["Content-Type"]="application/json"),r.clientAgents&&Array.isArray(r.clientAgents)){var l=r.clientAgents.concat(i);c[n]=l.join(" ; ")}else{if(r.clientAgents&&!Array.isArray(r.clientAgents))throw new D('Meilisearch: The header "'.concat(n,'" should be an array of string(s).\n'));c[n]=i}return c}var _=function(){function r(e){this.headers=bt(e),this.requestConfig=e.requestConfig,this.httpClient=e.httpClient;try{var t=yt(e.host);this.url=new URL(t)}catch(n){throw new D("The provided host is not valid.")}}return r.prototype.request=function(e){var t,n=e.method,i=e.url,s=e.params,u=e.body,c=e.config,l=c===void 0?{}:c;return d(this,void 0,void 0,function(){var a,p,v,m,w,S,E,q,F;return h(this,function(x){switch(x.label){case 0:a=new URL(i,this.url),s&&(p=new URLSearchParams,Object.keys(s).filter(function(A){return s[A]!==null}).map(function(A){return p.set(A,s[A])}),a.search=p.toString()),!((t=l.headers)===null||t===void 0)&&t["Content-Type"]||(u=JSON.stringify(u)),v=g(g({},this.headers),l.headers),x.label=1;case 1:return x.trys.push([1,6,,7]),m=this.httpClient?this.httpClient:fetch,w=m(a.toString(),g(g(g({},l),this.requestConfig),{method:n,body:u,headers:v})),this.httpClient?[4,w]:[3,3];case 2:return[2,x.sent()];case 3:return[4,w.then(function(A){return at(A)})];case 4:return S=x.sent(),[4,S.json().catch(function(){})];case 5:return E=x.sent(),[2,E];case 6:return q=x.sent(),F=q.stack,ct(q,F,a.toString()),[3,7];case 7:return[2]}})})},r.prototype.get=function(e,t,n){return d(this,void 0,void 0,function(){return h(this,function(i){switch(i.label){case 0:return[4,this.request({method:"GET",url:e,params:t,config:n})];case 1:return[2,i.sent()]}})})},r.prototype.post=function(e,t,n,i){return d(this,void 0,void 0,function(){return h(this,function(s){switch(s.label){case 0:return[4,this.request({method:"POST",url:e,body:t,params:n,config:i})];case 1:return[2,s.sent()]}})})},r.prototype.put=function(e,t,n,i){return d(this,void 0,void 0,function(){return h(this,function(s){switch(s.label){case 0:return[4,this.request({method:"PUT",url:e,body:t,params:n,config:i})];case 1:return[2,s.sent()]}})})},r.prototype.patch=function(e,t,n,i){return d(this,void 0,void 0,function(){return h(this,function(s){switch(s.label){case 0:return[4,this.request({method:"PATCH",url:e,body:t,params:n,config:i})];case 1:return[2,s.sent()]}})})},r.prototype.delete=function(e,t,n,i){return d(this,void 0,void 0,function(){return h(this,function(s){switch(s.label){case 0:return[4,this.request({method:"DELETE",url:e,body:t,params:n,config:i})];case 1:return[2,s.sent()]}})})},r}(),T=function(){function r(e){this.taskUid=e.taskUid,this.indexUid=e.indexUid,this.status=e.status,this.type=e.type,this.enqueuedAt=new Date(e.enqueuedAt)}return r}(),z=function(){function r(e){this.indexUid=e.indexUid,this.status=e.status,this.type=e.type,this.uid=e.uid,this.details=e.details,this.canceledBy=e.canceledBy,this.error=e.error,this.duration=e.duration,this.startedAt=new Date(e.startedAt),this.enqueuedAt=new Date(e.enqueuedAt),this.finishedAt=new Date(e.finishedAt)}return r}(),nt=function(){function r(e){this.httpRequest=new _(e)}return r.prototype.getTask=function(e){return d(this,void 0,void 0,function(){var t,n;return h(this,function(i){switch(i.label){case 0:return t="tasks/".concat(e),[4,this.httpRequest.get(t)];case 1:return n=i.sent(),[2,new z(n)]}})})},r.prototype.getTasks=function(e){return e===void 0&&(e={}),d(this,void 0,void 0,function(){var t,n;return h(this,function(i){switch(i.label){case 0:return t="tasks",[4,this.httpRequest.get(t,V(e))];case 1:return n=i.sent(),[2,g(g({},n),{results:n.results.map(function(s){return new z(s)})})]}})})},r.prototype.waitForTask=function(e,t){var n=t===void 0?{}:t,i=n.timeOutMs,s=i===void 0?5e3:i,u=n.intervalMs,c=u===void 0?50:u;return d(this,void 0,void 0,function(){var l,a;return h(this,function(p){switch(p.label){case 0:l=Date.now(),p.label=1;case 1:return Date.now()-l<s?[4,this.getTask(e)]:[3,4];case 2:return a=p.sent(),["enqueued","processing"].includes(a.status)?[4,ht(c)]:[2,a];case 3:return p.sent(),[3,1];case 4:throw new dt("timeout of ".concat(s,"ms has exceeded on process ").concat(e," when waiting a task to be resolved."))}})})},r.prototype.waitForTasks=function(e,t){var n=t===void 0?{}:t,i=n.timeOutMs,s=i===void 0?5e3:i,u=n.intervalMs,c=u===void 0?50:u;return d(this,void 0,void 0,function(){var l,a,p,v,m;return h(this,function(w){switch(w.label){case 0:l=[],a=0,p=e,w.label=1;case 1:return a<p.length?(v=p[a],[4,this.waitForTask(v,{timeOutMs:s,intervalMs:c})]):[3,4];case 2:m=w.sent(),l.push(m),w.label=3;case 3:return a++,[3,1];case 4:return[2,l]}})})},r.prototype.cancelTasks=function(e){return e===void 0&&(e={}),d(this,void 0,void 0,function(){var t,n;return h(this,function(i){switch(i.label){case 0:return t="tasks/cancel",[4,this.httpRequest.post(t,{},V(e))];case 1:return n=i.sent(),[2,new T(n)]}})})},r.prototype.deleteTasks=function(e){return e===void 0&&(e={}),d(this,void 0,void 0,function(){var t,n;return h(this,function(i){switch(i.label){case 0:return t="tasks",[4,this.httpRequest.delete(t,{},V(e))];case 1:return n=i.sent(),[2,new T(n)]}})})},r}(),U=function(){function r(e,t,n){this.uid=t,this.primaryKey=n,this.httpRequest=new _(e),this.tasks=new nt(e)}return r.prototype.search=function(e,t,n){return d(this,void 0,void 0,function(){var i;return h(this,function(s){switch(s.label){case 0:return i="indexes/".concat(this.uid,"/search"),[4,this.httpRequest.post(i,N(g({q:e},t)),void 0,n)];case 1:return[2,s.sent()]}})})},r.prototype.searchGet=function(e,t,n){var i,s,u,c,l;return d(this,void 0,void 0,function(){var a,p,v;return h(this,function(m){switch(m.label){case 0:return a="indexes/".concat(this.uid,"/search"),p=function(w){if(typeof w=="string")return w;if(Array.isArray(w))throw new D("The filter query parameter should be in string format when using searchGet")},v=g(g({q:e},t),{filter:p(t==null?void 0:t.filter),sort:(i=t==null?void 0:t.sort)===null||i===void 0?void 0:i.join(","),facets:(s=t==null?void 0:t.facets)===null||s===void 0?void 0:s.join(","),attributesToRetrieve:(u=t==null?void 0:t.attributesToRetrieve)===null||u===void 0?void 0:u.join(","),attributesToCrop:(c=t==null?void 0:t.attributesToCrop)===null||c===void 0?void 0:c.join(","),attributesToHighlight:(l=t==null?void 0:t.attributesToHighlight)===null||l===void 0?void 0:l.join(",")}),[4,this.httpRequest.get(a,N(v),n)];case 1:return[2,m.sent()]}})})},r.prototype.getRawInfo=function(){return d(this,void 0,void 0,function(){var e,t;return h(this,function(n){switch(n.label){case 0:return e="indexes/".concat(this.uid),[4,this.httpRequest.get(e)];case 1:return t=n.sent(),this.primaryKey=t.primaryKey,this.updatedAt=new Date(t.updatedAt),this.createdAt=new Date(t.createdAt),[2,t]}})})},r.prototype.fetchInfo=function(){return d(this,void 0,void 0,function(){return h(this,function(e){switch(e.label){case 0:return[4,this.getRawInfo()];case 1:return e.sent(),[2,this]}})})},r.prototype.fetchPrimaryKey=function(){return d(this,void 0,void 0,function(){var e;return h(this,function(t){switch(t.label){case 0:return e=this,[4,this.getRawInfo()];case 1:return e.primaryKey=t.sent().primaryKey,[2,this.primaryKey]}})})},r.create=function(e,t,n){return t===void 0&&(t={}),d(this,void 0,void 0,function(){var i,s,u;return h(this,function(c){switch(c.label){case 0:return i="indexes",s=new _(n),[4,s.post(i,g(g({},t),{uid:e}))];case 1:return u=c.sent(),[2,new T(u)]}})})},r.prototype.update=function(e){return d(this,void 0,void 0,function(){var t,n;return h(this,function(i){switch(i.label){case 0:return t="indexes/".concat(this.uid),[4,this.httpRequest.patch(t,e)];case 1:return n=i.sent(),n.enqueuedAt=new Date(n.enqueuedAt),[2,n]}})})},r.prototype.delete=function(){return d(this,void 0,void 0,function(){var e,t;return h(this,function(n){switch(n.label){case 0:return e="indexes/".concat(this.uid),[4,this.httpRequest.delete(e)];case 1:return t=n.sent(),[2,new T(t)]}})})},r.prototype.getTasks=function(e){return e===void 0&&(e={}),d(this,void 0,void 0,function(){return h(this,function(t){switch(t.label){case 0:return[4,this.tasks.getTasks(g(g({},e),{indexUids:[this.uid]}))];case 1:return[2,t.sent()]}})})},r.prototype.getTask=function(e){return d(this,void 0,void 0,function(){return h(this,function(t){switch(t.label){case 0:return[4,this.tasks.getTask(e)];case 1:return[2,t.sent()]}})})},r.prototype.waitForTasks=function(e,t){var n=t===void 0?{}:t,i=n.timeOutMs,s=i===void 0?5e3:i,u=n.intervalMs,c=u===void 0?50:u;return d(this,void 0,void 0,function(){return h(this,function(l){switch(l.label){case 0:return[4,this.tasks.waitForTasks(e,{timeOutMs:s,intervalMs:c})];case 1:return[2,l.sent()]}})})},r.prototype.waitForTask=function(e,t){var n=t===void 0?{}:t,i=n.timeOutMs,s=i===void 0?5e3:i,u=n.intervalMs,c=u===void 0?50:u;return d(this,void 0,void 0,function(){return h(this,function(l){switch(l.label){case 0:return[4,this.tasks.waitForTask(e,{timeOutMs:s,intervalMs:c})];case 1:return[2,l.sent()]}})})},r.prototype.getStats=function(){return d(this,void 0,void 0,function(){var e;return h(this,function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/stats"),[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}})})},r.prototype.getDocuments=function(e){return e===void 0&&(e={}),d(this,void 0,void 0,function(){var t,n;return h(this,function(i){switch(i.label){case 0:return t="indexes/".concat(this.uid,"/documents"),n=function(){var s;if(Array.isArray(e==null?void 0:e.fields))return(s=e==null?void 0:e.fields)===null||s===void 0?void 0:s.join(",")}(),[4,this.httpRequest.get(t,N(g(g({},e),{fields:n})))];case 1:return[2,i.sent()]}})})},r.prototype.getDocument=function(e,t){return d(this,void 0,void 0,function(){var n,i;return h(this,function(s){switch(s.label){case 0:return n="indexes/".concat(this.uid,"/documents/").concat(e),i=function(){var u;if(Array.isArray(t==null?void 0:t.fields))return(u=t==null?void 0:t.fields)===null||u===void 0?void 0:u.join(",")}(),[4,this.httpRequest.get(n,N(g(g({},t),{fields:i})))];case 1:return[2,s.sent()]}})})},r.prototype.addDocuments=function(e,t){return d(this,void 0,void 0,function(){var n,i;return h(this,function(s){switch(s.label){case 0:return n="indexes/".concat(this.uid,"/documents"),[4,this.httpRequest.post(n,e,t)];case 1:return i=s.sent(),[2,new T(i)]}})})},r.prototype.addDocumentsFromString=function(e,t,n){return d(this,void 0,void 0,function(){var i,s;return h(this,function(u){switch(u.label){case 0:return i="indexes/".concat(this.uid,"/documents"),[4,this.httpRequest.post(i,e,n,{headers:{"Content-Type":t}})];case 1:return s=u.sent(),[2,new T(s)]}})})},r.prototype.addDocumentsInBatches=function(e,t,n){return t===void 0&&(t=1e3),d(this,void 0,void 0,function(){var i,s,u,c;return h(this,function(l){switch(l.label){case 0:i=[],s=0,l.label=1;case 1:return s<e.length?(c=(u=i).push,[4,this.addDocuments(e.slice(s,s+t),n)]):[3,4];case 2:c.apply(u,[l.sent()]),l.label=3;case 3:return s+=t,[3,1];case 4:return[2,i]}})})},r.prototype.updateDocuments=function(e,t){return d(this,void 0,void 0,function(){var n,i;return h(this,function(s){switch(s.label){case 0:return n="indexes/".concat(this.uid,"/documents"),[4,this.httpRequest.put(n,e,t)];case 1:return i=s.sent(),[2,new T(i)]}})})},r.prototype.updateDocumentsInBatches=function(e,t,n){return t===void 0&&(t=1e3),d(this,void 0,void 0,function(){var i,s,u,c;return h(this,function(l){switch(l.label){case 0:i=[],s=0,l.label=1;case 1:return s<e.length?(c=(u=i).push,[4,this.updateDocuments(e.slice(s,s+t),n)]):[3,4];case 2:c.apply(u,[l.sent()]),l.label=3;case 3:return s+=t,[3,1];case 4:return[2,i]}})})},r.prototype.updateDocumentsFromString=function(e,t,n){return d(this,void 0,void 0,function(){var i,s;return h(this,function(u){switch(u.label){case 0:return i="indexes/".concat(this.uid,"/documents"),[4,this.httpRequest.put(i,e,n,{headers:{"Content-Type":t}})];case 1:return s=u.sent(),[2,new T(s)]}})})},r.prototype.deleteDocument=function(e){return d(this,void 0,void 0,function(){var t,n;return h(this,function(i){switch(i.label){case 0:return t="indexes/".concat(this.uid,"/documents/").concat(e),[4,this.httpRequest.delete(t)];case 1:return n=i.sent(),n.enqueuedAt=new Date(n.enqueuedAt),[2,n]}})})},r.prototype.deleteDocuments=function(e){return d(this,void 0,void 0,function(){var t,n;return h(this,function(i){switch(i.label){case 0:return t="indexes/".concat(this.uid,"/documents/delete-batch"),[4,this.httpRequest.post(t,e)];case 1:return n=i.sent(),[2,new T(n)]}})})},r.prototype.deleteAllDocuments=function(){return d(this,void 0,void 0,function(){var e,t;return h(this,function(n){switch(n.label){case 0:return e="indexes/".concat(this.uid,"/documents"),[4,this.httpRequest.delete(e)];case 1:return t=n.sent(),t.enqueuedAt=new Date(t.enqueuedAt),[2,t]}})})},r.prototype.getSettings=function(){return d(this,void 0,void 0,function(){var e;return h(this,function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings"),[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}})})},r.prototype.updateSettings=function(e){return d(this,void 0,void 0,function(){var t,n;return h(this,function(i){switch(i.label){case 0:return t="indexes/".concat(this.uid,"/settings"),[4,this.httpRequest.patch(t,e)];case 1:return n=i.sent(),n.enqueued=new Date(n.enqueuedAt),[2,n]}})})},r.prototype.resetSettings=function(){return d(this,void 0,void 0,function(){var e,t;return h(this,function(n){switch(n.label){case 0:return e="indexes/".concat(this.uid,"/settings"),[4,this.httpRequest.delete(e)];case 1:return t=n.sent(),t.enqueuedAt=new Date(t.enqueuedAt),[2,t]}})})},r.prototype.getPagination=function(){return d(this,void 0,void 0,function(){var e;return h(this,function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/pagination"),[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}})})},r.prototype.updatePagination=function(e){return d(this,void 0,void 0,function(){var t,n;return h(this,function(i){switch(i.label){case 0:return t="indexes/".concat(this.uid,"/settings/pagination"),[4,this.httpRequest.patch(t,e)];case 1:return n=i.sent(),[2,new T(n)]}})})},r.prototype.resetPagination=function(){return d(this,void 0,void 0,function(){var e,t;return h(this,function(n){switch(n.label){case 0:return e="indexes/".concat(this.uid,"/settings/pagination"),[4,this.httpRequest.delete(e)];case 1:return t=n.sent(),[2,new T(t)]}})})},r.prototype.getSynonyms=function(){return d(this,void 0,void 0,function(){var e;return h(this,function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/synonyms"),[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}})})},r.prototype.updateSynonyms=function(e){return d(this,void 0,void 0,function(){var t,n;return h(this,function(i){switch(i.label){case 0:return t="indexes/".concat(this.uid,"/settings/synonyms"),[4,this.httpRequest.put(t,e)];case 1:return n=i.sent(),[2,new T(n)]}})})},r.prototype.resetSynonyms=function(){return d(this,void 0,void 0,function(){var e,t;return h(this,function(n){switch(n.label){case 0:return e="indexes/".concat(this.uid,"/settings/synonyms"),[4,this.httpRequest.delete(e)];case 1:return t=n.sent(),t.enqueuedAt=new Date(t.enqueuedAt),[2,t]}})})},r.prototype.getStopWords=function(){return d(this,void 0,void 0,function(){var e;return h(this,function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/stop-words"),[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}})})},r.prototype.updateStopWords=function(e){return d(this,void 0,void 0,function(){var t,n;return h(this,function(i){switch(i.label){case 0:return t="indexes/".concat(this.uid,"/settings/stop-words"),[4,this.httpRequest.put(t,e)];case 1:return n=i.sent(),[2,new T(n)]}})})},r.prototype.resetStopWords=function(){return d(this,void 0,void 0,function(){var e,t;return h(this,function(n){switch(n.label){case 0:return e="indexes/".concat(this.uid,"/settings/stop-words"),[4,this.httpRequest.delete(e)];case 1:return t=n.sent(),t.enqueuedAt=new Date(t.enqueuedAt),[2,t]}})})},r.prototype.getRankingRules=function(){return d(this,void 0,void 0,function(){var e;return h(this,function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/ranking-rules"),[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}})})},r.prototype.updateRankingRules=function(e){return d(this,void 0,void 0,function(){var t,n;return h(this,function(i){switch(i.label){case 0:return t="indexes/".concat(this.uid,"/settings/ranking-rules"),[4,this.httpRequest.put(t,e)];case 1:return n=i.sent(),[2,new T(n)]}})})},r.prototype.resetRankingRules=function(){return d(this,void 0,void 0,function(){var e,t;return h(this,function(n){switch(n.label){case 0:return e="indexes/".concat(this.uid,"/settings/ranking-rules"),[4,this.httpRequest.delete(e)];case 1:return t=n.sent(),t.enqueuedAt=new Date(t.enqueuedAt),[2,t]}})})},r.prototype.getDistinctAttribute=function(){return d(this,void 0,void 0,function(){var e;return h(this,function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/distinct-attribute"),[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}})})},r.prototype.updateDistinctAttribute=function(e){return d(this,void 0,void 0,function(){var t,n;return h(this,function(i){switch(i.label){case 0:return t="indexes/".concat(this.uid,"/settings/distinct-attribute"),[4,this.httpRequest.put(t,e)];case 1:return n=i.sent(),[2,new T(n)]}})})},r.prototype.resetDistinctAttribute=function(){return d(this,void 0,void 0,function(){var e,t;return h(this,function(n){switch(n.label){case 0:return e="indexes/".concat(this.uid,"/settings/distinct-attribute"),[4,this.httpRequest.delete(e)];case 1:return t=n.sent(),t.enqueuedAt=new Date(t.enqueuedAt),[2,t]}})})},r.prototype.getFilterableAttributes=function(){return d(this,void 0,void 0,function(){var e;return h(this,function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/filterable-attributes"),[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}})})},r.prototype.updateFilterableAttributes=function(e){return d(this,void 0,void 0,function(){var t,n;return h(this,function(i){switch(i.label){case 0:return t="indexes/".concat(this.uid,"/settings/filterable-attributes"),[4,this.httpRequest.put(t,e)];case 1:return n=i.sent(),[2,new T(n)]}})})},r.prototype.resetFilterableAttributes=function(){return d(this,void 0,void 0,function(){var e,t;return h(this,function(n){switch(n.label){case 0:return e="indexes/".concat(this.uid,"/settings/filterable-attributes"),[4,this.httpRequest.delete(e)];case 1:return t=n.sent(),t.enqueuedAt=new Date(t.enqueuedAt),[2,t]}})})},r.prototype.getSortableAttributes=function(){return d(this,void 0,void 0,function(){var e;return h(this,function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/sortable-attributes"),[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}})})},r.prototype.updateSortableAttributes=function(e){return d(this,void 0,void 0,function(){var t,n;return h(this,function(i){switch(i.label){case 0:return t="indexes/".concat(this.uid,"/settings/sortable-attributes"),[4,this.httpRequest.put(t,e)];case 1:return n=i.sent(),[2,new T(n)]}})})},r.prototype.resetSortableAttributes=function(){return d(this,void 0,void 0,function(){var e,t;return h(this,function(n){switch(n.label){case 0:return e="indexes/".concat(this.uid,"/settings/sortable-attributes"),[4,this.httpRequest.delete(e)];case 1:return t=n.sent(),t.enqueuedAt=new Date(t.enqueuedAt),[2,t]}})})},r.prototype.getSearchableAttributes=function(){return d(this,void 0,void 0,function(){var e;return h(this,function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/searchable-attributes"),[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}})})},r.prototype.updateSearchableAttributes=function(e){return d(this,void 0,void 0,function(){var t,n;return h(this,function(i){switch(i.label){case 0:return t="indexes/".concat(this.uid,"/settings/searchable-attributes"),[4,this.httpRequest.put(t,e)];case 1:return n=i.sent(),[2,new T(n)]}})})},r.prototype.resetSearchableAttributes=function(){return d(this,void 0,void 0,function(){var e,t;return h(this,function(n){switch(n.label){case 0:return e="indexes/".concat(this.uid,"/settings/searchable-attributes"),[4,this.httpRequest.delete(e)];case 1:return t=n.sent(),t.enqueuedAt=new Date(t.enqueuedAt),[2,t]}})})},r.prototype.getDisplayedAttributes=function(){return d(this,void 0,void 0,function(){var e;return h(this,function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/displayed-attributes"),[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}})})},r.prototype.updateDisplayedAttributes=function(e){return d(this,void 0,void 0,function(){var t,n;return h(this,function(i){switch(i.label){case 0:return t="indexes/".concat(this.uid,"/settings/displayed-attributes"),[4,this.httpRequest.put(t,e)];case 1:return n=i.sent(),[2,new T(n)]}})})},r.prototype.resetDisplayedAttributes=function(){return d(this,void 0,void 0,function(){var e,t;return h(this,function(n){switch(n.label){case 0:return e="indexes/".concat(this.uid,"/settings/displayed-attributes"),[4,this.httpRequest.delete(e)];case 1:return t=n.sent(),t.enqueuedAt=new Date(t.enqueuedAt),[2,t]}})})},r.prototype.getTypoTolerance=function(){return d(this,void 0,void 0,function(){var e;return h(this,function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/typo-tolerance"),[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}})})},r.prototype.updateTypoTolerance=function(e){return d(this,void 0,void 0,function(){var t,n;return h(this,function(i){switch(i.label){case 0:return t="indexes/".concat(this.uid,"/settings/typo-tolerance"),[4,this.httpRequest.patch(t,e)];case 1:return n=i.sent(),n.enqueuedAt=new Date(n.enqueuedAt),[2,n]}})})},r.prototype.resetTypoTolerance=function(){return d(this,void 0,void 0,function(){var e,t;return h(this,function(n){switch(n.label){case 0:return e="indexes/".concat(this.uid,"/settings/typo-tolerance"),[4,this.httpRequest.delete(e)];case 1:return t=n.sent(),t.enqueuedAt=new Date(t.enqueuedAt),[2,t]}})})},r.prototype.getFaceting=function(){return d(this,void 0,void 0,function(){var e;return h(this,function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/faceting"),[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}})})},r.prototype.updateFaceting=function(e){return d(this,void 0,void 0,function(){var t,n;return h(this,function(i){switch(i.label){case 0:return t="indexes/".concat(this.uid,"/settings/faceting"),[4,this.httpRequest.patch(t,e)];case 1:return n=i.sent(),[2,new T(n)]}})})},r.prototype.resetFaceting=function(){return d(this,void 0,void 0,function(){var e,t;return h(this,function(n){switch(n.label){case 0:return e="indexes/".concat(this.uid,"/settings/faceting"),[4,this.httpRequest.delete(e)];case 1:return t=n.sent(),[2,new T(t)]}})})},r}(),wt=function(){function r(e){this.config=e,this.httpRequest=new _(e),this.tasks=new nt(e)}return r.prototype.index=function(e){return new U(this.config,e)},r.prototype.getIndex=function(e){return d(this,void 0,void 0,function(){return h(this,function(t){return[2,new U(this.config,e).fetchInfo()]})})},r.prototype.getRawIndex=function(e){return d(this,void 0,void 0,function(){return h(this,function(t){return[2,new U(this.config,e).getRawInfo()]})})},r.prototype.getIndexes=function(e){return e===void 0&&(e={}),d(this,void 0,void 0,function(){var t,n,i=this;return h(this,function(s){switch(s.label){case 0:return[4,this.getRawIndexes(e)];case 1:return t=s.sent(),n=t.results.map(function(u){return new U(i.config,u.uid,u.primaryKey)}),[2,g(g({},t),{results:n})]}})})},r.prototype.getRawIndexes=function(e){return e===void 0&&(e={}),d(this,void 0,void 0,function(){var t;return h(this,function(n){switch(n.label){case 0:return t="indexes",[4,this.httpRequest.get(t,e)];case 1:return[2,n.sent()]}})})},r.prototype.createIndex=function(e,t){return t===void 0&&(t={}),d(this,void 0,void 0,function(){return h(this,function(n){switch(n.label){case 0:return[4,U.create(e,t,this.config)];case 1:return[2,n.sent()]}})})},r.prototype.updateIndex=function(e,t){return t===void 0&&(t={}),d(this,void 0,void 0,function(){return h(this,function(n){switch(n.label){case 0:return[4,new U(this.config,e).update(t)];case 1:return[2,n.sent()]}})})},r.prototype.deleteIndex=function(e){return d(this,void 0,void 0,function(){return h(this,function(t){switch(t.label){case 0:return[4,new U(this.config,e).delete()];case 1:return[2,t.sent()]}})})},r.prototype.deleteIndexIfExists=function(e){return d(this,void 0,void 0,function(){var t;return h(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.deleteIndex(e)];case 1:return n.sent(),[2,!0];case 2:if(t=n.sent(),t.code==="index_not_found")return[2,!1];throw t;case 3:return[2]}})})},r.prototype.swapIndexes=function(e){return d(this,void 0,void 0,function(){var t;return h(this,function(n){switch(n.label){case 0:return t="/swap-indexes",[4,this.httpRequest.post(t,e)];case 1:return[2,n.sent()]}})})},r.prototype.multiSearch=function(e,t){return d(this,void 0,void 0,function(){var n;return h(this,function(i){switch(i.label){case 0:return n="multi-search",[4,this.httpRequest.post(n,e,void 0,t)];case 1:return[2,i.sent()]}})})},r.prototype.getTasks=function(e){return e===void 0&&(e={}),d(this,void 0,void 0,function(){return h(this,function(t){switch(t.label){case 0:return[4,this.tasks.getTasks(e)];case 1:return[2,t.sent()]}})})},r.prototype.getTask=function(e){return d(this,void 0,void 0,function(){return h(this,function(t){switch(t.label){case 0:return[4,this.tasks.getTask(e)];case 1:return[2,t.sent()]}})})},r.prototype.waitForTasks=function(e,t){var n=t===void 0?{}:t,i=n.timeOutMs,s=i===void 0?5e3:i,u=n.intervalMs,c=u===void 0?50:u;return d(this,void 0,void 0,function(){return h(this,function(l){switch(l.label){case 0:return[4,this.tasks.waitForTasks(e,{timeOutMs:s,intervalMs:c})];case 1:return[2,l.sent()]}})})},r.prototype.waitForTask=function(e,t){var n=t===void 0?{}:t,i=n.timeOutMs,s=i===void 0?5e3:i,u=n.intervalMs,c=u===void 0?50:u;return d(this,void 0,void 0,function(){return h(this,function(l){switch(l.label){case 0:return[4,this.tasks.waitForTask(e,{timeOutMs:s,intervalMs:c})];case 1:return[2,l.sent()]}})})},r.prototype.cancelTasks=function(e){return d(this,void 0,void 0,function(){return h(this,function(t){switch(t.label){case 0:return[4,this.tasks.cancelTasks(e)];case 1:return[2,t.sent()]}})})},r.prototype.deleteTasks=function(e){return e===void 0&&(e={}),d(this,void 0,void 0,function(){return h(this,function(t){switch(t.label){case 0:return[4,this.tasks.deleteTasks(e)];case 1:return[2,t.sent()]}})})},r.prototype.getKeys=function(e){return e===void 0&&(e={}),d(this,void 0,void 0,function(){var t,n;return h(this,function(i){switch(i.label){case 0:return t="keys",[4,this.httpRequest.get(t,e)];case 1:return n=i.sent(),n.results=n.results.map(function(s){return g(g({},s),{createdAt:new Date(s.createdAt),updateAt:new Date(s.updateAt)})}),[2,n]}})})},r.prototype.getKey=function(e){return d(this,void 0,void 0,function(){var t;return h(this,function(n){switch(n.label){case 0:return t="keys/".concat(e),[4,this.httpRequest.get(t)];case 1:return[2,n.sent()]}})})},r.prototype.createKey=function(e){return d(this,void 0,void 0,function(){var t;return h(this,function(n){switch(n.label){case 0:return t="keys",[4,this.httpRequest.post(t,e)];case 1:return[2,n.sent()]}})})},r.prototype.updateKey=function(e,t){return d(this,void 0,void 0,function(){var n;return h(this,function(i){switch(i.label){case 0:return n="keys/".concat(e),[4,this.httpRequest.patch(n,t)];case 1:return[2,i.sent()]}})})},r.prototype.deleteKey=function(e){return d(this,void 0,void 0,function(){var t;return h(this,function(n){switch(n.label){case 0:return t="keys/".concat(e),[4,this.httpRequest.delete(t)];case 1:return[2,n.sent()]}})})},r.prototype.health=function(){return d(this,void 0,void 0,function(){var e;return h(this,function(t){switch(t.label){case 0:return e="health",[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}})})},r.prototype.isHealthy=function(){return d(this,void 0,void 0,function(){var e;return h(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),e="health",[4,this.httpRequest.get(e)];case 1:return t.sent(),[2,!0];case 2:return t.sent(),[2,!1];case 3:return[2]}})})},r.prototype.getStats=function(){return d(this,void 0,void 0,function(){var e;return h(this,function(t){switch(t.label){case 0:return e="stats",[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}})})},r.prototype.getVersion=function(){return d(this,void 0,void 0,function(){var e;return h(this,function(t){switch(t.label){case 0:return e="version",[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}})})},r.prototype.createDump=function(){return d(this,void 0,void 0,function(){var e,t;return h(this,function(n){switch(n.label){case 0:return e="dumps",[4,this.httpRequest.post(e)];case 1:return t=n.sent(),[2,new T(t)]}})})},r.prototype.generateTenantToken=function(e,t,n){var i=new Error;throw new Error("Meilisearch: failed to generate a tenant token. Generation of a token only works in a node environment \n ".concat(i.stack,"."))},r}();function it(r){return Buffer.from(JSON.stringify(r)).toString("base64")}function mt(r,e,t){return ot.createHmac("sha256",r).update("".concat(e,".").concat(t)).digest("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function At(){var r={alg:"HS256",typ:"JWT"};return it(r).replace(/=/g,"")}function Tt(r){var e=r.searchRules,t=r.uid,n=r.apiKey,i=r.expiresAt;if(i)if(i instanceof Date){if(i.getTime()<Date.now())throw new D("Meilisearch: The expiresAt field must be a date in the future.")}else throw new D("Meilisearch: The expiredAt field must be an instance of Date.");if(e&&!(typeof e=="object"||Array.isArray(e)))throw new D("Meilisearch: The search rules added in the token generation must be of type array or object.");if(!n||typeof n!="string")throw new D("Meilisearch: The API key used for the token generation must exist and be of type string.");if(!t||typeof t!="string")throw new D("Meilisearch: The uid of the api key used for the token generation must exist, be of type string and comply to the uuid4 format.");if(!pt(t))throw new D("Meilisearch: The uid of your key is not a valid uuid4. To find out the uid of your key use getKey().")}function kt(r){var e=r.searchRules,t=r.uid,n=r.expiresAt,i={searchRules:e,apiKeyUid:t,exp:n==null?void 0:n.getTime()};return it(i).replace(/=/g,"")}var qt=function(){function r(e){this.config=e}return r.prototype.generateTenantToken=function(e,t,n){var i=(n==null?void 0:n.apiKey)||this.config.apiKey||"",s=e||"",u=n==null?void 0:n.expiresAt;Tt({apiKey:i,uid:s,expiresAt:u,searchRules:t});var c=At(),l=kt({searchRules:t,uid:s,expiresAt:u}),a=mt(i,c,l);return"".concat(c,".").concat(l,".").concat(a)},r}(),xt=function(r){H(e,r);function e(t){var n=r.call(this,t)||this;return n.tokens=new qt(t),n}return e.prototype.generateTenantToken=function(t,n,i){return typeof window>"u"?this.tokens.generateTenantToken(t,n,i):r.prototype.generateTenantToken.call(this,t,n,i)},e}(wt),O=function(){return O=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},O.apply(this,arguments)};function Rt(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function K(r,e,t,n){function i(s){return s instanceof t?s:new t(function(u){u(s)})}return new(t||(t=Promise))(function(s,u){function c(p){try{a(n.next(p))}catch(v){u(v)}}function l(p){try{a(n.throw(p))}catch(v){u(v)}}function a(p){p.done?s(p.value):i(p.value).then(c,l)}a((n=n.apply(r,e||[])).next())})}function G(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(a){return function(p){return l([a,p])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,a[0]&&(t=0)),t;)try{if(n=1,i&&(s=a[0]&2?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[a[0]&2,s.value]),a[0]){case 0:case 1:s=a;break;case 4:return t.label++,{value:a[1],done:!1};case 5:t.label++,i=a[1],a=[0];continue;case 7:a=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(a[0]===6||a[0]===2)){t=0;continue}if(a[0]===3&&(!s||a[1]>s[0]&&a[1]<s[3])){t.label=a[1];break}if(a[0]===6&&t.label<s[1]){t.label=s[1],s=a;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(a);break}s[2]&&t.ops.pop(),t.trys.pop();continue}a=e.call(r,t)}catch(p){a=[6,p],i=0}finally{n=s=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function W(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||Array.prototype.slice.call(e))}function Pt(r){var e={placeholderSearch:!0,keepZeroFacets:!1,clientAgents:[],finitePagination:!1};return O(O({},e),r)}function St(r){if(typeof r=="function"){var e=r();if(typeof e!="string")throw new TypeError("Provided apiKey function (2nd parameter) did not return a string, expected string");return e}return r}function Et(r,e){if(typeof r!="string")throw new TypeError("Provided hostUrl value (1st parameter) is not a string, expected string");if(typeof e!="string"&&typeof e!="function")throw new TypeError("Provided apiKey value (2nd parameter) is not a string or a function, expected string or function")}function Ot(r,e){return{multiSearch:function(t,n){return K(this,void 0,void 0,function(){var i,s,u,c;return G(this,function(l){switch(l.label){case 0:return i=e.formatKey([t]),s=e.getEntry(i),s?[2,s]:[4,r.multiSearch({queries:t})];case 1:return u=l.sent(),c=u.results.map(function(a,p){return O(O({},a),{pagination:n[p]||{}})}),e.setEntry(i,c),[2,c]}})})}}}function Ft(r){var e=r.insideBoundingBox,t=r.aroundLatLng,n=r.aroundRadius,i=r.minimumAroundRadius,s,u,c;if(t){var l=t.split(",").map(function(q){return Number.parseFloat(q).toFixed(5)}),a=l[0],p=l[1];s=[a,p]}if((n!=null||i!=null)&&(n==="all"?console.warn("instant-meilisearch is not compatible with the `all` value on the aroundRadius parameter"):n!=null?u=n:u=i),e&&typeof e=="string"){var v=e.split(",").map(function(q){return parseFloat(q)}),m=v[0],w=v[1],S=v[2],E=v[3];c="_geoBoundingBox([".concat(m,", ").concat(w,"], [").concat(S,", ").concat(E,"])")}else if(s!=null&&u!=null){var a=s[0],p=s[1];c="_geoRadius(".concat(a,", ").concat(p,", ").concat(u,")")}return c}function Dt(r){var e=[];return function(t){return e.includes(t[r])?!1:(e.push(t[r]),!0)}}function $(r){return r.replace(/:(.*)/i,'="$1"')}function Mt(r){return r.reduce(function(e,t){return e+=JSON.stringify(t)},"")}function Bt(r){return typeof r=="object"&&!Array.isArray(r)&&r!==null}function Y(r){return typeof r=="string"?$(r):Array.isArray(r)?r.map(function(e){return Array.isArray(e)?e.map(function(t){return $(t)}).filter(function(t){return t}):$(e)}).filter(function(e){return e}):[]}function tt(r){return r===""?[]:typeof r=="string"?[r]:r}function jt(r,e,t){var n=t.trim(),i=tt(r),s=tt(e),u=W(W(W([],i,!0),s,!0),[n],!1),c=u.filter(function(l){return Array.isArray(l)?l.length:l});return c}function Ut(r,e,t){var n=Y(t||[]),i=Y(e||[]);return jt(n,i,r||"")}function It(r,e,t){return!(!t&&!e&&(!r||r.length===0))}function Ct(r,e){var t=r.page,n=r.hitsPerPage;return e?{limit:n+1,offset:t*n}:{limit:0,offset:0}}function Ht(r,e){var t=r.page,n=r.hitsPerPage;return e?{hitsPerPage:n,page:t+1}:{hitsPerPage:0,page:t+1}}function st(r){var e={},t=r.facets,n=r.attributesToSnippet,i=r.snippetEllipsisText,s=r.attributesToRetrieve,u=r.attributesToHighlight,c=r.highlightPreTag,l=r.highlightPostTag,a=r.placeholderSearch,p=r.query,v=r.sort,m=r.pagination,w=r.matchingStrategy,S=r.filters,E=r.numericFilters,q=r.facetFilters,F=r.indexUid,x=Ut(S,E,q);return{getParams:function(){return e},addQuery:function(){e.q=p},addIndexUid:function(){e.indexUid=F},addFacets:function(){Array.isArray(t)?e.facets=t:typeof t=="string"&&(e.facets=[t])},addAttributesToCrop:function(){n&&(e.attributesToCrop=n)},addCropMarker:function(){i!=null&&(e.cropMarker=i)},addAttributesToRetrieve:function(){s&&(e.attributesToRetrieve=s)},addFilters:function(){x.length&&(e.filter=x)},addAttributesToHighlight:function(){e.attributesToHighlight=u||["*"]},addPreTag:function(){c?e.highlightPreTag=c:e.highlightPreTag="__ais-highlight__"},addPostTag:function(){l?e.highlightPostTag=l:e.highlightPostTag="__/ais-highlight__"},addPagination:function(){var A=It(x,p,a);if(m.finite){var M=Ht(m,A),B=M.hitsPerPage,k=M.page;e.hitsPerPage=B,e.page=k}else{var j=Ct(m,A),I=j.limit,o=j.offset;e.limit=I,e.offset=o}},addSort:function(){v!=null&&v.length&&(e.sort=Array.isArray(v)?v:[v])},addGeoSearchFilter:function(){var A=r.insideBoundingBox,M=r.aroundLatLng,B=r.aroundRadius,k=r.minimumAroundRadius,j=Ft({insideBoundingBox:A,aroundLatLng:M,aroundRadius:B,minimumAroundRadius:k});j&&(e.filter?e.filter.unshift(j):e.filter=[j])},addMatchingStrategy:function(){w&&(e.matchingStrategy=w)}}}function Lt(r){var e=st(r);return e.addQuery(),e.addIndexUid(),e.addFacets(),e.addAttributesToHighlight(),e.addPreTag(),e.addPostTag(),e.addAttributesToRetrieve(),e.addAttributesToCrop(),e.addCropMarker(),e.addPagination(),e.addFilters(),e.addSort(),e.addGeoSearchFilter(),e.addMatchingStrategy(),e.getParams()}function Nt(r){return typeof r=="string"?r:JSON.stringify(r===void 0?null:r)}function Z(r){return Array.isArray(r)?r.map(function(e){return Z(e)}):Bt(r)?Object.keys(r).reduce(function(e,t){return e[t]=Z(r[t]),e},{}):{value:Nt(r)}}function _t(r){if(!r)return{};var e=Z(r),t={_highlightResult:e,_snippetResult:e};return t}function Kt(r){for(var e,t=0;t<r.length;t++){var n="".concat(t+Math.random()*1e6);r[t]._geo&&(r[t]._geoloc=r[t]._geo,r[t].objectID=n),!((e=r[t]._formatted)===null||e===void 0)&&e._geo&&(r[t]._formatted._geoloc=r[t]._formatted._geo,r[t]._formatted.objectID=n)}return r}function Gt(r,e){var t=r.hits,n=r.pagination.hitsPerPage,i=e.finitePagination,s=e.primaryKey;!i&&t.length>n&&t.splice(t.length-1,1);var u=t.map(function(c){if(Object.keys(c).length>0){var l=c._formatted;c._matchesPosition;var a=Rt(c,["_formatted","_matchesPosition"]),p=Object.assign(a,_t(l));return s&&(p.objectID=c[s]),p}return c});return u=Kt(u),u}function Jt(r){var e=r.hitsPerPage,t=e===void 0?0:e,n=r.totalPages,i=n===void 0?0:n,s=r.estimatedTotalHits,u=r.totalHits;return s!=null?s:u!=null?u:t*i}function Vt(r,e){if(r.totalPages!=null)return r.totalPages;if(e===0)return 0;var t=r.limit,n=t===void 0?20:t,i=r.offset,s=i===void 0?0:i,u=r.hits,c=u.length>=n?1:0;return s/e+1+c}function Wt(r,e){var t=e.hitsPerPage,n=e.page,i=Vt(r,t);return{page:n,nbPages:i,hitsPerPage:t}}function $t(r){if(r){if(typeof r=="string")return[r]}else return[];return r}function Qt(r,e,t){for(var n=$t(r),i={},s=0,u=n;s<u.length;s++){var c=u[s];for(var l in e[c])i[c]||(i[c]=t[c]||{}),i[c][l]?i[c][l]=t[c][l]:i[c][l]=0}return i}function Xt(r,e,t,n){return r?(n=n||{},Qt(e,t,n)):n}function Zt(r){var e=Object.keys(r).reduce(function(t,n){return t[n]=O(O({},r[n]),{avg:0,sum:0}),t},{});return e}function zt(r,e,t){var n=r.map(function(i){return Yt(i,e[i.indexUid],t)});return{results:n}}function Yt(r,e,t){var n=r.processingTimeMs,i=r.query,s=r.indexUid,u=r.facetDistribution,c=u===void 0?{}:u,l=r.facetStats,a=l===void 0?{}:l,p=Object.keys(c),v=Wt(r,r.pagination),m=v.hitsPerPage,w=v.page,S=v.nbPages,E=Gt(r,t),q=Jt(r),F=Xt(t.keepZeroFacets,p,e,c),x={index:s,hitsPerPage:m,page:w,facets:F,nbPages:S,nbHits:q,processingTimeMS:n,query:i,hits:E,params:"",exhaustiveNbHits:!1,facets_stats:Zt(a)};return x}function te(r,e,t){return{hitsPerPage:e===void 0?20:e,page:t||0,finite:!!r}}function ee(r){return r.split(",").map(function(e){return e.trim()}).filter(function(e){return!!e})}function re(r,e){var t=r.indexName.split(":"),n=t[0],i=t.slice(1),s=r.params,u=te(e.finitePagination,s==null?void 0:s.hitsPerPage,s==null?void 0:s.page),c=ee(i.join(":")),l=O(O(O({},e),s),{sort:c,indexUid:n,pagination:u,placeholderSearch:e.placeholderSearch!==!1,keepZeroFacets:!!e.keepZeroFacets});return l}function ne(r){r===void 0&&(r={});var e=r;return{getEntry:function(t){if(e[t])try{return JSON.parse(e[t])}catch(n){return}},formatKey:function(t){return Mt(t)},setEntry:function(t,n){e[t]=JSON.stringify(n)},clearCache:function(){e={}}}}function ie(r){var e=O(O({},r),{placeholderSearch:!0,query:""}),t=st(e);return t.addFacets(),t.addIndexUid(),t.addPagination(),t.getParams()}function se(r,e,t){return K(this,void 0,void 0,function(){var n,i,s,u,c,l;return G(this,function(a){switch(a.label){case 0:return n=Dt("indexUid"),i=e.filter(n).filter(function(p){var v=p.indexUid;return!Object.keys(t).includes(v)}),i.length===0?[2,t]:[4,r.multiSearch(i,[])];case 1:for(s=a.sent(),u=0,c=s;u<c.length;u++)l=c[u],t[l.indexUid]=l.facetDistribution||{};return[2,t]}})})}var ue="0.12.0",oe=function(r){r===void 0&&(r=[]);var e="Meilisearch instant-meilisearch (v".concat(ue,")");return r.concat(e)};function ce(r,e,t){e===void 0&&(e=""),t===void 0&&(t={}),Et(r,e),e=St(e);var n=oe(t.clientAgents),i=new xt({host:r,apiKey:e,clientAgents:n}),s=ne(),u=Ot(i,s),c={},l=Pt(t);return{clearCache:function(){return s.clearCache()},search:function(a){return K(this,void 0,void 0,function(){var p,v,m,w,S,E,q,F,x,A,M,B;return G(this,function(k){switch(k.label){case 0:for(k.trys.push([0,3,,4]),p=[],v=[],m=[],w=0,S=a;w<S.length;w++)E=S[w],q=re(E,t),F=Lt(q),p.push(F),x=ie(q),m.push(x),v.push(q.pagination);return[4,se(u,m,c)];case 1:return c=k.sent(),[4,u.multiSearch(p,v)];case 2:return A=k.sent(),M=zt(A,c,l),[2,M];case 3:throw B=k.sent(),console.error(B),new Error(B);case 4:return[2]}})})},searchForFacetValues:function(a){return K(this,void 0,void 0,function(){return G(this,function(p){switch(p.label){case 0:return[4,new Promise(function(v,m){m(new Error("SearchForFacetValues is not compatible with Meilisearch")),v([])})];case 1:return[2,p.sent()]}})})}}}var et;(function(r){r.ALL="all",r.LAST="last"})(et||(et={}));export{et as MatchingStrategies,ce as instantMeiliSearch};
