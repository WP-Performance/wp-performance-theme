System.register(["./formatNumber-legacy-5ed6c25a.js","./_commonjsHelpers-legacy-16634a03.js"],(function(e,t){"use strict";var r,n,i,o,a,c,s,u,l,f,h,d,p,y,g,m,v,b,w;return{setters:[e=>{r=e.T,n=e.i,i=e.u,o=e.g,a=e.c,c=e.a,s=e.s,u=e.b,l=e.f,f=e.n,h=e.d,d=e.e,p=e.h,y=e.j,g=e.k,m=e.l,v=e.E,b=e.m},e=>{w=e.g}],execute:function(){function t(e){var t=r.highlightPreTag,n=r.highlightPostTag;return e.map((function(e){return e.isHighlighted?t+e.value+n:e.value})).join("")}function S(e,t){var r=e[t.getIndexId()]||{};t.getHelper().setState(t.getWidgetSearchParameters(t.getHelper().state,{uiState:r})),t.getWidgets().filter(n).forEach((function(t){return S(e,t)}))}var O=Promise.resolve();function j(e){var t=null,r=!1,n=function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];null===t&&(t=O.then((function(){t=null,r?r=!1:e.apply(void 0,i)})))};return n.wait=function(){if(null===t)throw new Error("The deferred function should be called before calling `wait()`");return t},n.cancel=function(){null!==t&&(r=!0)},n}var P=new RegExp(/\w/i);function T(e,t){var r,n,o=e[t],a=(null===(r=e[t+1])||void 0===r?void 0:r.isHighlighted)||!0,c=(null===(n=e[t-1])||void 0===n?void 0:n.isHighlighted)||!0;return P.test(i(o.value))||c!==a?o.isHighlighted:c}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===E(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e){return e.some((function(e){return e.isHighlighted}))?e.map((function(t,r){return x(x({},t),{},{isHighlighted:!T(e,r)})})):e.map((function(e){return x(x({},e),{},{isHighlighted:!1})}))}var R=a("Highlight");function N(e){var t=e.attribute,n=e.highlightedTagName,i=void 0===n?"mark":n,a=e.hit,c=e.cssClasses,s=void 0===c?{}:c,u=(o(a._highlightResult,t)||{}).value,l=void 0===u?"":u,f=R({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return l.replace(new RegExp(r.highlightPreTag,"g"),"<".concat(i,' class="').concat(f,'">')).replace(new RegExp(r.highlightPostTag,"g"),"</".concat(i,">"))}var D=a("ReverseHighlight");function I(e){var n=e.attribute,i=e.highlightedTagName,a=void 0===i?"mark":i,s=e.hit,u=e.cssClasses,l=void 0===u?{}:u,f=(o(s._highlightResult,n)||{}).value,h=void 0===f?"":f,d=D({descendantName:"highlighted"})+(l.highlighted?" ".concat(l.highlighted):"");return t(A(c(h))).replace(new RegExp(r.highlightPreTag,"g"),"<".concat(a,' class="').concat(d,'">')).replace(new RegExp(r.highlightPostTag,"g"),"</".concat(a,">"))}var C=a("Snippet");function L(e){var t=e.attribute,n=e.highlightedTagName,i=void 0===n?"mark":n,a=e.hit,c=e.cssClasses,s=void 0===c?{}:c,u=(o(a._snippetResult,t)||{}).value,l=void 0===u?"":u,f=C({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return l.replace(new RegExp(r.highlightPreTag,"g"),"<".concat(i,' class="').concat(f,'">')).replace(new RegExp(r.highlightPostTag,"g"),"</".concat(i,">"))}var U=a("ReverseSnippet");function $(e){var n=e.attribute,i=e.highlightedTagName,a=void 0===i?"mark":i,s=e.hit,u=e.cssClasses,l=void 0===u?{}:u,f=(o(s._snippetResult,n)||{}).value,h=void 0===f?"":f,d=U({descendantName:"highlighted"})+(l.highlighted?" ".concat(l.highlighted):"");return t(A(c(h))).replace(new RegExp(r.highlightPreTag,"g"),"<".concat(a,' class="').concat(d,'">')).replace(new RegExp(r.highlightPostTag,"g"),"</".concat(a,">"))}function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}var W="_ALGOLIA";function M(){return function(e){if("object"===("undefined"==typeof document?"undefined":H(document))&&"string"==typeof document.cookie)for(var t="".concat(e,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}}(W)}var F=["page"];function q(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function J(e){var t=e||{};return t.page,q(t,F)}var B="ais.infiniteHits";function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){K(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function K(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Q(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Q(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,c=[],s=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(l){u=!0,i=l}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return c}}(e,t)||Y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){if(e){if("string"==typeof e)return Z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Z(e,t):void 0}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ee="2.6.0",te="https://cdn.jsdelivr.net/npm/search-insights@".concat(ee,"/dist/search-insights.min.js");function re(e){var t=X((e.version||"").split(".").map(Number),2),r=t[0],n=t[1];return r>=3||2===r&&n>=6||1===r&&n>=10}function ne(e,t,r){var n=h(t,t.mainIndex,t._initialUiState);e.forEach((function(e){var i={};if(e.getWidgetRenderState){var o=e.getWidgetRenderState(n);o&&o.widgetParams&&(i=o.widgetParams)}var a=Object.keys(i).filter((function(e){return void 0!==i[e]}));r.widgets.push({type:e.$$type,widgetType:e.$$widgetType,params:a}),"ais.index"===e.$$type&&ne(e.getWidgets(),t,r)}))}function ie(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).$$internal,t=void 0!==e&&e;return function(e){var r=e.instantSearchInstance,n={widgets:[]},i=document.createElement("meta"),o=document.querySelector("head");return i.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:t,onStateChange:function(){},subscribe:function(){setTimeout((function(){var e=r.client;n.ua=e.transporter&&e.transporter.userAgent?e.transporter.userAgent.value:e._ua,ne(r.mainIndex.getWidgets(),r,n),r.middleware.forEach((function(e){return n.widgets.push({middleware:!0,type:e.instance.$$type,internal:e.instance.$$internal})})),i.content=JSON.stringify(n),o.appendChild(i)}),0)},started:function(){},unsubscribe:function(){i.remove()}}}}var oe=String.prototype.replace,ae=/%20/g,ce="RFC3986",se={default:ce,formatters:{RFC1738:function(e){return oe.call(e,ae,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:ce},ue=se,le=Object.prototype.hasOwnProperty,fe=Array.isArray,he=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),de=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r},pe={arrayToObject:de,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],o=i.obj[i.prop],a=Object.keys(o),c=0;c<a.length;++c){var s=a[c],u=o[s];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:o,prop:s}),r.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(fe(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(i){return n}},encode:function(e,t,r,n,i){if(0===e.length)return e;var o=e;if("symbol"==typeof e?o=Symbol.prototype.toString.call(e):"string"!=typeof e&&(o=String(e)),"iso-8859-1"===r)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var a="",c=0;c<o.length;++c){var s=o.charCodeAt(c);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||i===ue.RFC1738&&(40===s||41===s)?a+=o.charAt(c):s<128?a+=he[s]:s<2048?a+=he[192|s>>6]+he[128|63&s]:s<55296||s>=57344?a+=he[224|s>>12]+he[128|s>>6&63]+he[128|63&s]:(c+=1,s=65536+((1023&s)<<10|1023&o.charCodeAt(c)),a+=he[240|s>>18]+he[128|s>>12&63]+he[128|s>>6&63]+he[128|63&s])}return a},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(fe(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,n){if(!r)return t;if("object"!=typeof r){if(fe(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(n&&(n.plainObjects||n.allowPrototypes)||!le.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var i=t;return fe(t)&&!fe(r)&&(i=de(t,n)),fe(t)&&fe(r)?(r.forEach((function(r,i){if(le.call(t,i)){var o=t[i];o&&"object"==typeof o&&r&&"object"==typeof r?t[i]=e(o,r,n):t.push(r)}else t[i]=r})),t):Object.keys(r).reduce((function(t,i){var o=r[i];return le.call(t,i)?t[i]=e(t[i],o,n):t[i]=o,t}),i)}},ye=pe,ge=se,me=Object.prototype.hasOwnProperty,ve={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},be=Array.isArray,we=String.prototype.split,Se=Array.prototype.push,Oe=function(e,t){Se.apply(e,be(t)?t:[t])},je=Date.prototype.toISOString,Pe=ge.default,Te={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:ye.encode,encodeValuesOnly:!1,format:Pe,formatter:ge.formatters[Pe],indices:!1,serializeDate:function(e){return je.call(e)},skipNulls:!1,strictNullHandling:!1},Ee=function e(t,r,n,i,o,a,c,s,u,l,f,h,d,p){var y,g=t;if("function"==typeof c?g=c(r,g):g instanceof Date?g=l(g):"comma"===n&&be(g)&&(g=ye.maybeMap(g,(function(e){return e instanceof Date?l(e):e}))),null===g){if(i)return a&&!d?a(r,Te.encoder,p,"key",f):r;g=""}if("string"==typeof(y=g)||"number"==typeof y||"boolean"==typeof y||"symbol"==typeof y||"bigint"==typeof y||ye.isBuffer(g)){if(a){var m=d?r:a(r,Te.encoder,p,"key",f);if("comma"===n&&d){for(var v=we.call(String(g),","),b="",w=0;w<v.length;++w)b+=(0===w?"":",")+h(a(v[w],Te.encoder,p,"value",f));return[h(m)+"="+b]}return[h(m)+"="+h(a(g,Te.encoder,p,"value",f))]}return[h(r)+"="+h(String(g))]}var S,O=[];if(void 0===g)return O;if("comma"===n&&be(g))S=[{value:g.length>0?g.join(",")||null:void 0}];else if(be(c))S=c;else{var j=Object.keys(g);S=s?j.sort(s):j}for(var P=0;P<S.length;++P){var T=S[P],E="object"==typeof T&&void 0!==T.value?T.value:g[T];if(!o||null!==E){var k=be(g)?"function"==typeof n?n(r,T):r:r+(u?"."+T:"["+T+"]");Oe(O,e(E,k,n,i,o,a,c,s,u,l,f,h,d,p))}}return O},ke=pe,xe=Object.prototype.hasOwnProperty,_e=Array.isArray,Ae={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:ke.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Re=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},Ne=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},De=function(e,t,r,n){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,a=r.depth>0&&/(\[[^[\]]*])/.exec(i),c=a?i.slice(0,a.index):i,s=[];if(c){if(!r.plainObjects&&xe.call(Object.prototype,c)&&!r.allowPrototypes)return;s.push(c)}for(var u=0;r.depth>0&&null!==(a=o.exec(i))&&u<r.depth;){if(u+=1,!r.plainObjects&&xe.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;s.push(a[1])}return a&&s.push("["+i.slice(a.index)+"]"),function(e,t,r,n){for(var i=n?t:Ne(t,r),o=e.length-1;o>=0;--o){var a,c=e[o];if("[]"===c&&r.parseArrays)a=[].concat(i);else{a=r.plainObjects?Object.create(null):{};var s="["===c.charAt(0)&&"]"===c.charAt(c.length-1)?c.slice(1,-1):c,u=parseInt(s,10);r.parseArrays||""!==s?!isNaN(u)&&c!==s&&String(u)===s&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(a=[])[u]=i:"__proto__"!==s&&(a[s]=i):a={0:i}}i=a}return i}(s,t,r,n)}};const Ie=w({formats:se,parse:function(e,t){var r=function(e){if(!e)return Ae;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?Ae.charset:e.charset;return{allowDots:void 0===e.allowDots?Ae.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:Ae.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:Ae.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:Ae.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:Ae.comma,decoder:"function"==typeof e.decoder?e.decoder:Ae.decoder,delimiter:"string"==typeof e.delimiter||ke.isRegExp(e.delimiter)?e.delimiter:Ae.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:Ae.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:Ae.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:Ae.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:Ae.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:Ae.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof e?function(e,t){var r,n={},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,a=i.split(t.delimiter,o),c=-1,s=t.charset;if(t.charsetSentinel)for(r=0;r<a.length;++r)0===a[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===a[r]?s="utf-8":"utf8=%26%2310003%3B"===a[r]&&(s="iso-8859-1"),c=r,r=a.length);for(r=0;r<a.length;++r)if(r!==c){var u,l,f=a[r],h=f.indexOf("]="),d=-1===h?f.indexOf("="):h+1;-1===d?(u=t.decoder(f,Ae.decoder,s,"key"),l=t.strictNullHandling?null:""):(u=t.decoder(f.slice(0,d),Ae.decoder,s,"key"),l=ke.maybeMap(Ne(f.slice(d+1),t),(function(e){return t.decoder(e,Ae.decoder,s,"value")}))),l&&t.interpretNumericEntities&&"iso-8859-1"===s&&(l=Re(l)),f.indexOf("[]=")>-1&&(l=_e(l)?[l]:l),xe.call(n,u)?n[u]=ke.combine(n[u],l):n[u]=l}return n}(e,r):e,i=r.plainObjects?Object.create(null):{},o=Object.keys(n),a=0;a<o.length;++a){var c=o[a],s=De(c,n[c],r,"string"==typeof e);i=ke.merge(i,s,r)}return ke.compact(i)},stringify:function(e,t){var r,n=e,i=function(e){if(!e)return Te;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||Te.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=ge.default;if(void 0!==e.format){if(!me.call(ge.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=ge.formatters[r],i=Te.filter;return("function"==typeof e.filter||be(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:Te.addQueryPrefix,allowDots:void 0===e.allowDots?Te.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:Te.charsetSentinel,delimiter:void 0===e.delimiter?Te.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:Te.encode,encoder:"function"==typeof e.encoder?e.encoder:Te.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:Te.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:Te.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:Te.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:Te.strictNullHandling}}(t);"function"==typeof i.filter?n=(0,i.filter)("",n):be(i.filter)&&(r=i.filter);var o,a=[];if("object"!=typeof n||null===n)return"";o=t&&t.arrayFormat in ve?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var c=ve[o];r||(r=Object.keys(n)),i.sort&&r.sort(i.sort);for(var s=0;s<r.length;++s){var u=r[s];i.skipNulls&&null===n[u]||Oe(a,Ee(n[u],u,c,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset))}var l=a.join(i.delimiter),f=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&("iso-8859-1"===i.charset?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),l.length>0?f+l:""}});function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function Le(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$e(n.key),n)}}function Ue(e,t,r){return(t=$e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $e(e){var t=function(e,t){if("object"!==Ce(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ce(t)?t:String(t)}var He=function(e){e&&(window.document.title=e)},We=function(){function e(t){var r=this,n=t.windowTitle,i=t.writeDelay,o=void 0===i?400:i,a=t.createURL,c=t.parseURL,u=t.getLocation,l=t.start,f=t.dispose,h=t.push;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ue(this,"$$type","ais.browser"),Ue(this,"windowTitle",void 0),Ue(this,"writeDelay",void 0),Ue(this,"_createURL",void 0),Ue(this,"parseURL",void 0),Ue(this,"getLocation",void 0),Ue(this,"writeTimer",void 0),Ue(this,"_onPopState",void 0),Ue(this,"inPopState",!1),Ue(this,"isDisposed",!1),Ue(this,"latestAcknowledgedHistory",0),Ue(this,"_start",void 0),Ue(this,"_dispose",void 0),Ue(this,"_push",void 0),this.windowTitle=n,this.writeTimer=void 0,this.writeDelay=o,this._createURL=a,this.parseURL=c,this.getLocation=u,this._start=l,this._dispose=f,this._push=h,s((function(e){var t=e.window,n=r.windowTitle&&r.windowTitle(r.read());He(n),r.latestAcknowledgedHistory=t.history.length}))}var t,r,n;return t=e,(r=[{key:"read",value:function(){return this.parseURL({qsModule:Ie,location:this.getLocation()})}},{key:"write",value:function(e){var t=this;s((function(r){var n=r.window,i=t.createURL(e),o=t.windowTitle&&t.windowTitle(e);t.writeTimer&&clearTimeout(t.writeTimer),t.writeTimer=setTimeout((function(){He(o),t.shouldWrite(i)&&(t._push?t._push(i):n.history.pushState(e,o||"",i),t.latestAcknowledgedHistory=n.history.length),t.inPopState=!1,t.writeTimer=void 0}),t.writeDelay)}))}},{key:"onUpdate",value:function(e){var t=this;this._start&&this._start((function(){e(t.read())})),this._onPopState=function(){t.writeTimer&&(clearTimeout(t.writeTimer),t.writeTimer=void 0),t.inPopState=!0,e(t.read())},s((function(e){e.window.addEventListener("popstate",t._onPopState)}))}},{key:"createURL",value:function(e){return this._createURL({qsModule:Ie,routeState:e,location:this.getLocation()})}},{key:"dispose",value:function(){var e=this;this._dispose&&this._dispose(),this.isDisposed=!0,s((function(t){var r=t.window;e._onPopState&&r.removeEventListener("popstate",e._onPopState)})),this.writeTimer&&clearTimeout(this.writeTimer),this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(e){var t=this;return s((function(r){var n=r.window,i=!(t.isDisposed&&t.latestAcknowledgedHistory!==n.history.length);return!t.inPopState&&i&&e!==n.location.href}))}}])&&Le(t.prototype,r),n&&Le(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Me(e){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}var Fe=["configure"];function qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(r),!0).forEach((function(t){Be(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Be(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Me(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Me(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Me(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qe(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ze(e){return e.configure,Qe(e,Fe)}function Ve(e){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(e)}function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach((function(t){Ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ge(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ve(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ve(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ve(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.router,r=void 0===t?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createURL,r=void 0===t?function(e){var t=e.qsModule,r=e.routeState,n=e.location,i=n.protocol,o=n.hostname,a=n.port,c=void 0===a?"":a,s=n.pathname,u=n.hash,l=t.stringify(r),f=""===c?"":":".concat(c);return l?"".concat(i,"//").concat(o).concat(f).concat(s,"?").concat(l).concat(u):"".concat(i,"//").concat(o).concat(f).concat(s).concat(u)}:t,n=e.parseURL,i=void 0===n?function(e){var t=e.qsModule,r=e.location;return t.parse(r.search.slice(1),{arrayLimit:99})}:n,o=e.writeDelay,a=void 0===o?400:o,c=e.windowTitle,u=e.getLocation,l=void 0===u?function(){return s((function(e){return e.window.location}),{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:u,f=e.start,h=e.dispose,d=e.push;return new We({createURL:r,parseURL:i,writeDelay:a,windowTitle:c,getLocation:l,start:f,dispose:h,push:d})}():t,n=e.stateMapping,i=void 0===n?{$$type:"ais.simple",stateToRoute:function(e){return Object.keys(e).reduce((function(t,r){return Je(Je({},t),{},Be({},r,ze(e[r])))}),{})},routeToState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,r){return Je(Je({},t),{},Be({},r,ze(e[r])))}),{})}}:n,o=e.$$internal,a=void 0!==o&&o;return function(e){var t=e.instantSearchInstance;t._createURL=function(e){var n=0===t.mainIndex.getWidgets().length?t._initialUiState:t.mainIndex.getWidgetUiState({}),o=Object.keys(e).reduce((function(t,r){return Xe(Xe({},t),{},Ge({},r,e[r]))}),n),a=i.stateToRoute(o);return r.createURL(a)};var n=void 0,o=t._initialUiState;return{$$type:"ais.router({router:".concat(r.$$type||"__unknown__",", stateMapping:").concat(i.$$type||"__unknown__","})"),$$internal:a,onStateChange:function(e){var t=e.uiState,o=i.stateToRoute(t);void 0!==n&&u(n,o)||(r.write(o),n=o)},subscribe:function(){t._initialUiState=Xe(Xe({},o),i.routeToState(r.read())),r.onUpdate((function(e){t.mainIndex.getWidgets().length>0&&t.setUiState(i.routeToState(e))}))},started:function(){var e;null===(e=r.start)||void 0===e||e.call(r)},unsubscribe:function(){r.dispose()}}}};function Ze(e){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ze(e)}function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?et(Object(r),!0).forEach((function(t){rt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ze(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ze(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ze(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nt(e){var t=e.numberLocale;return{formatNumber:function(e,r){return d(Number(r(e)),t)},highlight:function(e,t){try{return t(N(tt(tt({},JSON.parse(e)),{},{hit:this})))}catch(r){throw new Error('\nThe highlight helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseHighlight:function(e,t){try{return t(I(tt(tt({},JSON.parse(e)),{},{hit:this})))}catch(r){throw new Error('\n  The reverseHighlight helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},snippet:function(e,t){try{return t(L(tt(tt({},JSON.parse(e)),{},{hit:this})))}catch(r){throw new Error('\nThe snippet helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseSnippet:function(e,t){try{return t($(tt(tt({},JSON.parse(e)),{},{hit:this})))}catch(r){throw new Error('\n  The reverseSnippet helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},insights:function(e,t){try{var r=JSON.parse(e),n=r.method,i=r.payload;return t(p(n,tt({objectIDs:[this.objectID]},i)))}catch(o){throw new Error('\nThe insights helper expects a JSON object of the format:\n{ "method": "method-name", "payload": { "eventName": "name of the event" } }')}}}}const it="4.56.11";function ot(e){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ot(e)}function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ct(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dt(n.key),n)}}function st(e,t){return st=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},st(e,t)}function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ft(e);if(t){var i=ft(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===ot(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return lt(e)}(this,r)}}function lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ft(e){return ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ft(e)}function ht(e,t,r){return(t=dt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dt(e){var t=function(e,t){if("object"!==ot(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ot(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ot(t)?t:String(t)}var pt=y({name:"instantsearch"});function yt(){return"#"}var gt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&st(e,t)}(o,e);var t,r,n,i=ut(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),ht(lt(t=i.call(this)),"client",void 0),ht(lt(t),"indexName",void 0),ht(lt(t),"insightsClient",void 0),ht(lt(t),"onStateChange",null),ht(lt(t),"helper",void 0),ht(lt(t),"mainHelper",void 0),ht(lt(t),"mainIndex",void 0),ht(lt(t),"started",void 0),ht(lt(t),"templatesConfig",void 0),ht(lt(t),"renderState",{}),ht(lt(t),"_stalledSearchDelay",void 0),ht(lt(t),"_searchStalledTimer",void 0),ht(lt(t),"_initialUiState",void 0),ht(lt(t),"_initialResults",void 0),ht(lt(t),"_createURL",void 0),ht(lt(t),"_searchFunction",void 0),ht(lt(t),"_mainHelperSearch",void 0),ht(lt(t),"middleware",[]),ht(lt(t),"sendEventToInsights",void 0),ht(lt(t),"status","idle"),ht(lt(t),"error",void 0),ht(lt(t),"scheduleSearch",j((function(){t.started&&t.mainHelper.search()}))),ht(lt(t),"scheduleRender",j((function(){var e,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];null!==(e=t.mainHelper)&&void 0!==e&&e.hasPendingRequests()||(clearTimeout(t._searchStalledTimer),t._searchStalledTimer=null,r&&(t.status="idle",t.error=void 0)),t.mainIndex.render({instantSearchInstance:lt(t)}),t.emit("render")}))),ht(lt(t),"onInternalStateChange",j((function(){var e=t.mainIndex.getWidgetUiState({});t.middleware.forEach((function(t){t.instance.onStateChange({uiState:e})}))}))),t.setMaxListeners(100);var r=e.indexName,n=void 0===r?"":r,a=e.numberLocale,c=e.initialUiState,u=void 0===c?{}:c,h=e.routing,d=void 0===h?null:h,p=e.insights,y=void 0!==p&&p,m=e.searchFunction,v=e.stalledSearchDelay,b=void 0===v?200:v,w=e.searchClient,S=void 0===w?null:w,O=e.insightsClient,P=void 0===O?null:O,T=e.onStateChange,E=void 0===T?null:T;if(null===S)throw new Error(pt("The `searchClient` option is required."));if("function"!=typeof S.search)throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if("function"==typeof S.addAlgoliaAgent&&S.addAlgoliaAgent("instantsearch.js (".concat(it,")")),P&&"function"!=typeof P)throw new Error(pt("The `insightsClient` option should be a function."));if(t.client=S,t.insightsClient=P,t.indexName=n,t.helper=null,t.mainHelper=null,t.mainIndex=g({indexName:n}),t.onStateChange=E,t.started=!1,t.templatesConfig={helpers:nt({numberLocale:a}),compileOptions:{}},t._stalledSearchDelay=b,t._searchStalledTimer=null,t._createURL=yt,t._initialUiState=u,t._initialResults=null,m&&(t._searchFunction=m),t.sendEventToInsights=f,d){var k="boolean"==typeof d?{}:d;k.$$internal=!0,t.use(Ye(k))}if(y){var x="boolean"==typeof y?{}:y;x.$$internal=!0,t.use(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.insightsClient,r=e.insightsInitParams,n=e.onEvent,i=e.$$internal,o=void 0!==i&&i,a=t;t||null===t||s((function(e){var t=e.window,r=t.AlgoliaAnalyticsObject||"aa";"string"==typeof r&&(a=t[r]),a||(t.AlgoliaAnalyticsObject=r,t[r]||(t[r]=function(){t[r].queue||(t[r].queue=[]);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t[r].queue.push(n)},t[r].version=ee,t[r].shouldAddScript=!0),a=t[r])}));var c=a||f;return function(e){var t=e.instantSearchInstance,i=t.middleware.filter((function(e){return"ais.insights"===e.instance.$$type&&e.instance.$$internal})).map((function(e){return e.creator}));t.unuse.apply(t,G(i));var a,s,u=X(function(e){if(e.transporter){var t=e.transporter,r=t.headers,n=t.queryParameters,i="x-algolia-application-id",o="x-algolia-api-key";return[r[i]||n[i],r[o]||n[o]]}return[e.applicationID,e.apiKey]}(t.client),2),h=u[0],d=u[1],p=void 0,y=void 0;if(Array.isArray(c.queue)){var g=l(c.queue.slice().reverse(),(function(e){return"setUserToken"===X(e,1)[0]}))||[],m=X(g,2);p=m[1]}return c("getUserToken",null,(function(e,t){y=t})),!r&&re(c)||c("init",V({appId:h,apiKey:d,partial:!0},r)),{$$type:"ais.insights",$$internal:o,onStateChange:function(){},subscribe:function(){if(c.shouldAddScript){var e="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var r=document.createElement("script");r.async=!0,r.src=te,r.onerror=function(){t.emit("error",new Error(e))},document.body.appendChild(r),c.shouldAddScript=!1}catch(n){c.shouldAddScript=!1,t.emit("error",new Error(e))}}},started:function(){c("addAlgoliaAgent","insights-middleware"),s=t.helper,a={userToken:s.state.userToken,clickAnalytics:s.state.clickAnalytics},s.overrideStateWithoutTriggeringChangeEvent(V(V({},s.state),{},{clickAnalytics:!0})),o||t.scheduleSearch();var e=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var n=s.state.userToken;r?i():setTimeout(i,0)}function i(){s.overrideStateWithoutTriggeringChangeEvent(V(V({},s.state),{},{userToken:e})),n&&n!==e&&t.scheduleSearch()}},r=M();r&&e(r,!0),y?(e(y,!0),c("setUserToken",y)):p&&(e(p,!0),c("setUserToken",p)),c("onUserTokenChange",e,{immediate:!0});var i=c;re(c)&&(i=function(e,t){return c(e,t,{headers:{"X-Algolia-Application-Id":h,"X-Algolia-API-Key":d}})}),t.sendEventToInsights=function(e){n?n(e,i):e.insightsMethod&&(e.payload.algoliaSource=["instantsearch"],"internal"===e.eventModifier&&e.payload.algoliaSource.push("instantsearch-internal"),i(e.insightsMethod,e.payload))}},unsubscribe:function(){c("onUserTokenChange",void 0),t.sendEventToInsights=f,s&&a&&(s.overrideStateWithoutTriggeringChangeEvent(V(V({},s.state),a)),t.scheduleSearch())}}}}(x))}return s((function(e){var t,r;return(null===(t=e.window.navigator)||void 0===t||null===(r=t.userAgent)||void 0===r?void 0:r.indexOf("Algolia Crawler"))>-1}),{fallback:function(){return!1}})&&t.use(ie({$$internal:!0})),t}return t=o,r=[{key:"_isSearchStalled",get:function(){return"stalled"===this.status}},{key:"use",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.map((function(t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(Object(r),!0).forEach((function(t){ht(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({$$type:"__unknown__",$$internal:!1,subscribe:f,started:f,unsubscribe:f,onStateChange:f},t({instantSearchInstance:e}));return e.middleware.push({creator:t,instance:r}),r}));return this.started&&i.forEach((function(e){e.subscribe(),e.started()})),this}},{key:"unuse",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.middleware.filter((function(e){return t.includes(e.creator)})).forEach((function(e){return e.instance.unsubscribe()})),this.middleware=this.middleware.filter((function(e){return!t.includes(e.creator)})),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(e){return this.addWidgets([e])}},{key:"addWidgets",value:function(e){if(!Array.isArray(e))throw new Error(pt("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(e.some((function(e){return"function"!=typeof e.init&&"function"!=typeof e.render})))throw new Error(pt("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(e),this}},{key:"removeWidget",value:function(e){return this.removeWidgets([e])}},{key:"removeWidgets",value:function(e){if(!Array.isArray(e))throw new Error(pt("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(e.some((function(e){return"function"!=typeof e.dispose})))throw new Error(pt("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(e),this}},{key:"start",value:function(){var e=this;if(this.started)throw new Error(pt("The `start` method has already been called once."));var t=this.mainHelper||m(this.client,this.indexName);if(t.search=function(){return e.status="loading",e.scheduleRender(!1),t.searchOnlyWithDerivedHelpers()},this._searchFunction){var r={search:function(){return new Promise(f)}};this._mainHelperSearch=t.search.bind(t),t.search=function(){var n=e.mainIndex.getHelper(),i=m(r,n.state.index,n.state);return i.once("search",(function(t){var r=t.state;n.overrideStateWithoutTriggeringChangeEvent(r),e._mainHelperSearch()})),i.on("change",(function(e){var t=e.state;n.setState(t)})),e._searchFunction(i),t}}if(t.on("error",(function(t){var r=t.error;if(!(r instanceof Error)){var n=r;r=Object.keys(n).reduce((function(e,t){return e[t]=n[t],e}),new Error(n.message))}r.error=r,e.error=r,e.status="error",e.scheduleRender(!1),e.emit("error",r)})),this.mainHelper=t,this.middleware.forEach((function(e){e.instance.subscribe()})),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){var n=this.scheduleSearch;this.scheduleSearch=j(f),j((function(){e.scheduleSearch=n}))()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach((function(e){e.instance.started()}))}},{key:"dispose",value:function(){var e;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),null===(e=this.mainHelper)||void 0===e||e.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach((function(e){e.instance.unsubscribe()}))}},{key:"scheduleStalledRender",value:function(){var e=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout((function(){e.status="stalled",e.scheduleRender()}),this._stalledSearchDelay))}},{key:"setUiState",value:function(e){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.mainHelper)throw new Error(pt("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var n="function"==typeof e?e(this.mainIndex.getWidgetUiState({})):e;this.onStateChange&&r?this.onStateChange({uiState:n,setUiState:function(e){S("function"==typeof e?e(n):e,t.mainIndex),t.scheduleSearch(),t.onInternalStateChange()}}):(S(n,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.started)throw new Error(pt("The `start` method needs to be called before `createURL`."));return this._createURL(e)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(pt("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}],r&&ct(t.prototype,r),n&&ct(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(v);const mt=gt;var vt=e("default",(function(e){return new mt(e)}));vt.version=it,vt.createInfiniteHitsSessionStorageCache=b((function(){return{read:function(e){var t=e.state,r=s((function(e){return e.window.sessionStorage}));if(!r)return null;try{var n=JSON.parse(r.getItem(B));return n&&u(n.state,J(t))?n.hits:null}catch(i){if(i instanceof SyntaxError)try{r.removeItem(B)}catch(o){}return null}},write:function(e){var t=e.state,r=e.hits,n=s((function(e){return e.window.sessionStorage}));if(n)try{n.setItem(B,JSON.stringify({state:J(t),hits:r}))}catch(i){}}}})),vt.highlight=b(N),vt.reverseHighlight=b(I),vt.snippet=b(L),vt.reverseSnippet=b($),vt.insights=p,vt.getInsightsAnonymousUserToken=function(){return M()},Object.defineProperty(vt,"widgets",{get:function(){throw new ReferenceError("\"instantsearch.widgets\" are not available from the ES build.\n\nTo import the widgets:\n\nimport { searchBox } from 'instantsearch.js/es/widgets'")}}),Object.defineProperty(vt,"connectors",{get:function(){throw new ReferenceError("\"instantsearch.connectors\" are not available from the ES build.\n\nTo import the connectors:\n\nimport { connectSearchBox } from 'instantsearch.js/es/connectors'")}})}}}));
