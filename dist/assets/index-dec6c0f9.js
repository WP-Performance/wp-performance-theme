import{T as L,i as nt,u as it,g as oe,c as se,a as Ue,s as C,b as He,f as at,n as W,d as ot,e as st,h as De,j as ut,k as lt,l as we,E as ct,m as Z}from"./formatNumber-2ac692fe.js";import{g as ft}from"./_commonjsHelpers-725317a4.js";function We(t){var e=L.highlightPreTag,n=L.highlightPostTag;return t.map(function(r){return r.isHighlighted?e+r.value+n:r.value}).join("")}function fe(t,e){var n=t[e.getIndexId()]||{};e.getHelper().setState(e.getWidgetSearchParameters(e.getHelper().state,{uiState:n})),e.getWidgets().filter(nt).forEach(function(r){return fe(t,r)})}var ht=Promise.resolve();function q(t){var e=null,n=!1,r=function(){for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];e===null&&(e=ht.then(function(){if(e=null,n){n=!1;return}t.apply(void 0,s)}))};return r.wait=function(){if(e===null)throw new Error("The deferred function should be called before calling `wait()`");return e},r.cancel=function(){e!==null&&(n=!0)},r}function dt(t){if(t.transporter){var e=t.transporter,n=e.headers,r=e.queryParameters,i="x-algolia-application-id",a="x-algolia-api-key",s=n[i]||r[i],u=n[a]||r[a];return[s,u]}else return[t.applicationID,t.apiKey]}var pt=new RegExp(/\w/i);function gt(t,e){var n,r,i=t[e],a=((n=t[e+1])===null||n===void 0?void 0:n.isHighlighted)||!0,s=((r=t[e-1])===null||r===void 0?void 0:r.isHighlighted)||!0;return!pt.test(it(i.value))&&s===a?s:i.isHighlighted}function V(t){"@babel/helpers - typeof";return V=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(t)}function Se(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function te(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Se(Object(n),!0).forEach(function(r){vt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vt(t,e,n){return e=mt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mt(t){var e=yt(t,"string");return V(e)==="symbol"?e:String(e)}function yt(t,e){if(V(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(V(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ke(t){return t.some(function(e){return e.isHighlighted})?t.map(function(e,n){return te(te({},e),{},{isHighlighted:!gt(t,n)})}):t.map(function(e){return te(te({},e),{},{isHighlighted:!1})})}var bt=se("Highlight");function Fe(t){var e=t.attribute,n=t.highlightedTagName,r=n===void 0?"mark":n,i=t.hit,a=t.cssClasses,s=a===void 0?{}:a,u=oe(i._highlightResult,e),l=u||{},o=l.value,c=o===void 0?"":o,f=bt({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return c.replace(new RegExp(L.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(L.highlightPostTag,"g"),"</".concat(r,">"))}var wt=se("ReverseHighlight");function Me(t){var e=t.attribute,n=t.highlightedTagName,r=n===void 0?"mark":n,i=t.hit,a=t.cssClasses,s=a===void 0?{}:a,u=oe(i._highlightResult,e),l=u||{},o=l.value,c=o===void 0?"":o,f=wt({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):""),g=We(ke(Ue(c)));return g.replace(new RegExp(L.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(L.highlightPostTag,"g"),"</".concat(r,">"))}var St=se("Snippet");function Ke(t){var e=t.attribute,n=t.highlightedTagName,r=n===void 0?"mark":n,i=t.hit,a=t.cssClasses,s=a===void 0?{}:a,u=oe(i._snippetResult,e),l=u||{},o=l.value,c=o===void 0?"":o,f=St({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return c.replace(new RegExp(L.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(L.highlightPostTag,"g"),"</".concat(r,">"))}var Ot=se("ReverseSnippet");function Be(t){var e=t.attribute,n=t.highlightedTagName,r=n===void 0?"mark":n,i=t.hit,a=t.cssClasses,s=a===void 0?{}:a,u=oe(i._snippetResult,e),l=u||{},o=l.value,c=o===void 0?"":o,f=Ot({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):""),g=We(ke(Ue(c)));return g.replace(new RegExp(L.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(L.highlightPostTag,"g"),"</".concat(r,">"))}function he(t){"@babel/helpers - typeof";return he=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(t)}var Pt="_ALGOLIA";function _t(t){if(!((typeof document>"u"?"undefined":he(document))!=="object"||typeof document.cookie!="string"))for(var e="".concat(t,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)===" ";)i=i.substring(1);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}}function qe(){return _t(Pt)}function $t(){return qe()}var Tt=["page"];function jt(t,e){if(t==null)return{};var n=Et(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Et(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Oe(t){var e=t||{};e.page;var n=jt(e,Tt);return n}var ue="ais.infiniteHits";function xt(){return{read:function(e){var n=e.state,r=C(function(a){var s=a.window;return s.sessionStorage});if(!r)return null;try{var i=JSON.parse(r.getItem(ue));return i&&He(i.state,Oe(n))?i.hits:null}catch(a){if(a instanceof SyntaxError)try{r.removeItem(ue)}catch(s){}return null}},write:function(e){var n=e.state,r=e.hits,i=C(function(a){var s=a.window;return s.sessionStorage});if(i)try{i.setItem(ue,JSON.stringify({state:Oe(n),hits:r}))}catch(a){}}}}function J(t){"@babel/helpers - typeof";return J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(t)}function Pe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pe(Object(n),!0).forEach(function(r){At(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function At(t,e,n){return e=Rt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rt(t){var e=Nt(t,"string");return J(e)==="symbol"?e:String(e)}function Nt(t,e){if(J(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(J(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ie(t,e){return Lt(t)||Ct(t,e)||Qe(t,e)||It()}function It(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ct(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,u=[],l=!0,o=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);l=!0);}catch(c){o=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(o)throw i}}return u}}function Lt(t){if(Array.isArray(t))return t}function Ut(t){return Wt(t)||Dt(t)||Qe(t)||Ht()}function Ht(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Qe(t,e){if(t){if(typeof t=="string")return de(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(t,e)}}function Dt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wt(t){if(Array.isArray(t))return de(t)}function de(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ve="2.6.0",kt="https://cdn.jsdelivr.net/npm/search-insights@".concat(Ve,"/dist/search-insights.min.js");function Ft(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.insightsClient,n=t.insightsInitParams,r=t.onEvent,i=t.$$internal,a=i===void 0?!1:i,s=e;!e&&e!==null&&C(function(l){var o=l.window,c=o.AlgoliaAnalyticsObject||"aa";typeof c=="string"&&(s=o[c]),s||(o.AlgoliaAnalyticsObject=c,o[c]||(o[c]=function(){o[c].queue||(o[c].queue=[]);for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];o[c].queue.push(g)},o[c].version=Ve,o[c].shouldAddScript=!0),s=o[c])});var u=s||W;return function(l){var o=l.instantSearchInstance,c=o.middleware.filter(function(y){return y.instance.$$type==="ais.insights"&&y.instance.$$internal}).map(function(y){return y.creator});o.unuse.apply(o,Ut(c));var f=dt(o.client),g=ie(f,2),h=g[0],d=g[1],p=void 0,w=void 0;if(Array.isArray(u.queue)){var A=at(u.queue.slice().reverse(),function(y){var S=ie(y,1),O=S[0];return O==="setUserToken"})||[],j=ie(A,2);p=j[1]}u("getUserToken",null,function(y,S){w=S}),(n||!_e(u))&&u("init",k({appId:h,apiKey:d,partial:!0},n));var E,b;return{$$type:"ais.insights",$$internal:a,onStateChange:function(){},subscribe:function(){if(u.shouldAddScript){var S="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var O=document.createElement("script");O.async=!0,O.src=kt,O.onerror=function(){o.emit("error",new Error(S))},document.body.appendChild(O),u.shouldAddScript=!1}catch(P){u.shouldAddScript=!1,o.emit("error",new Error(S))}}},started:function(){u("addAlgoliaAgent","insights-middleware"),b=o.helper,E={userToken:b.state.userToken,clickAnalytics:b.state.clickAnalytics},b.overrideStateWithoutTriggeringChangeEvent(k(k({},b.state),{},{clickAnalytics:!0})),a||o.scheduleSearch();var S=function(R){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!R)return;var ee=b.state.userToken;function be(){b.overrideStateWithoutTriggeringChangeEvent(k(k({},b.state),{},{userToken:R})),ee&&ee!==R&&o.scheduleSearch()}H?be():setTimeout(be,0)},O=qe();O&&S(O,!0),w?(S(w,!0),u("setUserToken",w)):p&&(S(p,!0),u("setUserToken",p)),u("onUserTokenChange",S,{immediate:!0});var P=u;_e(u)&&(P=function(R,H){var ee={headers:{"X-Algolia-Application-Id":h,"X-Algolia-API-Key":d}};return u(R,H,ee)}),o.sendEventToInsights=function(_){r?r(_,P):_.insightsMethod&&(_.payload.algoliaSource=["instantsearch"],_.eventModifier==="internal"&&_.payload.algoliaSource.push("instantsearch-internal"),P(_.insightsMethod,_.payload))}},unsubscribe:function(){u("onUserTokenChange",void 0),o.sendEventToInsights=W,b&&E&&(b.overrideStateWithoutTriggeringChangeEvent(k(k({},b.state),E)),o.scheduleSearch())}}}}function _e(t){var e=(t.version||"").split(".").map(Number),n=ie(e,2),r=n[0],i=n[1],a=r>=3,s=r===2&&i>=6,u=r===1&&i>=10;return a||s||u}function Je(t,e,n){var r=ot(e,e.mainIndex,e._initialUiState);t.forEach(function(i){var a={};if(i.getWidgetRenderState){var s=i.getWidgetRenderState(r);s&&s.widgetParams&&(a=s.widgetParams)}var u=Object.keys(a).filter(function(l){return a[l]!==void 0});n.widgets.push({type:i.$$type,widgetType:i.$$widgetType,params:u}),i.$$type==="ais.index"&&Je(i.getWidgets(),e,n)})}function Mt(){return C(function(t){var e,n,r=t.window;return((e=r.navigator)===null||e===void 0||(n=e.userAgent)===null||n===void 0?void 0:n.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})}function Kt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.$$internal,n=e===void 0?!1:e;return function(r){var i=r.instantSearchInstance,a={widgets:[]},s=document.createElement("meta"),u=document.querySelector("head");return s.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:n,onStateChange:function(){},subscribe:function(){setTimeout(function(){var o=i.client;a.ua=o.transporter&&o.transporter.userAgent?o.transporter.userAgent.value:o._ua,Je(i.mainIndex.getWidgets(),i,a),i.middleware.forEach(function(c){return a.widgets.push({middleware:!0,type:c.instance.$$type,internal:c.instance.$$internal})}),s.content=JSON.stringify(a),u.appendChild(s)},0)},started:function(){},unsubscribe:function(){s.remove()}}}}var Bt=String.prototype.replace,qt=/%20/g,le={RFC1738:"RFC1738",RFC3986:"RFC3986"},ye={default:le.RFC3986,formatters:{RFC1738:function(t){return Bt.call(t,qt,"+")},RFC3986:function(t){return String(t)}},RFC1738:le.RFC1738,RFC3986:le.RFC3986},Qt=ye,ce=Object.prototype.hasOwnProperty,F=Array.isArray,N=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Vt=function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(F(r)){for(var i=[],a=0;a<r.length;++a)typeof r[a]<"u"&&i.push(r[a]);n.obj[n.prop]=i}}},ze=function(e,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(r[i]=e[i]);return r},Jt=function t(e,n,r){if(!n)return e;if(typeof n!="object"){if(F(e))e.push(n);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!ce.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var i=e;return F(e)&&!F(n)&&(i=ze(e,r)),F(e)&&F(n)?(n.forEach(function(a,s){if(ce.call(e,s)){var u=e[s];u&&typeof u=="object"&&a&&typeof a=="object"?e[s]=t(u,a,r):e.push(a)}else e[s]=a}),e):Object.keys(n).reduce(function(a,s){var u=n[s];return ce.call(a,s)?a[s]=t(a[s],u,r):a[s]=u,a},i)},zt=function(e,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},e)},Gt=function(t,e,n){var r=t.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(i){return r}},Xt=function(e,n,r,i,a){if(e.length===0)return e;var s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),r==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});for(var u="",l=0;l<s.length;++l){var o=s.charCodeAt(l);if(o===45||o===46||o===95||o===126||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122||a===Qt.RFC1738&&(o===40||o===41)){u+=s.charAt(l);continue}if(o<128){u=u+N[o];continue}if(o<2048){u=u+(N[192|o>>6]+N[128|o&63]);continue}if(o<55296||o>=57344){u=u+(N[224|o>>12]+N[128|o>>6&63]+N[128|o&63]);continue}l+=1,o=65536+((o&1023)<<10|s.charCodeAt(l)&1023),u+=N[240|o>>18]+N[128|o>>12&63]+N[128|o>>6&63]+N[128|o&63]}return u},Yt=function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],i=0;i<n.length;++i)for(var a=n[i],s=a.obj[a.prop],u=Object.keys(s),l=0;l<u.length;++l){var o=u[l],c=s[o];typeof c=="object"&&c!==null&&r.indexOf(c)===-1&&(n.push({obj:s,prop:o}),r.push(c))}return Vt(n),e},Zt=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},er=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},tr=function(e,n){return[].concat(e,n)},rr=function(e,n){if(F(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(n(e[i]));return r}return n(e)},Ge={arrayToObject:ze,assign:zt,combine:tr,compact:Yt,decode:Gt,encode:Xt,isBuffer:er,isRegExp:Zt,maybeMap:rr,merge:Jt},pe=Ge,Q=ye,nr=Object.prototype.hasOwnProperty,$e={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},M=Array.isArray,ir=String.prototype.split,ar=Array.prototype.push,Xe=function(t,e){ar.apply(t,M(e)?e:[e])},or=Date.prototype.toISOString,Te=Q.default,T={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:pe.encode,encodeValuesOnly:!1,format:Te,formatter:Q.formatters[Te],indices:!1,serializeDate:function(e){return or.call(e)},skipNulls:!1,strictNullHandling:!1},sr=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},ur=function t(e,n,r,i,a,s,u,l,o,c,f,g,h,d){var p=e;if(typeof u=="function"?p=u(n,p):p instanceof Date?p=c(p):r==="comma"&&M(p)&&(p=pe.maybeMap(p,function(H){return H instanceof Date?c(H):H})),p===null){if(i)return s&&!h?s(n,T.encoder,d,"key",f):n;p=""}if(sr(p)||pe.isBuffer(p)){if(s){var w=h?n:s(n,T.encoder,d,"key",f);if(r==="comma"&&h){for(var A=ir.call(String(p),","),j="",E=0;E<A.length;++E)j+=(E===0?"":",")+g(s(A[E],T.encoder,d,"value",f));return[g(w)+"="+j]}return[g(w)+"="+g(s(p,T.encoder,d,"value",f))]}return[g(n)+"="+g(String(p))]}var b=[];if(typeof p>"u")return b;var y;if(r==="comma"&&M(p))y=[{value:p.length>0?p.join(",")||null:void 0}];else if(M(u))y=u;else{var S=Object.keys(p);y=l?S.sort(l):S}for(var O=0;O<y.length;++O){var P=y[O],_=typeof P=="object"&&typeof P.value<"u"?P.value:p[P];if(!(a&&_===null)){var R=M(p)?typeof r=="function"?r(n,P):n:n+(o?"."+P:"["+P+"]");Xe(b,t(_,R,r,i,a,s,u,l,o,c,f,g,h,d))}}return b},lr=function(e){if(!e)return T;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||T.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Q.default;if(typeof e.format<"u"){if(!nr.call(Q.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=Q.formatters[r],a=T.filter;return(typeof e.filter=="function"||M(e.filter))&&(a=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:T.addQueryPrefix,allowDots:typeof e.allowDots>"u"?T.allowDots:!!e.allowDots,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:T.charsetSentinel,delimiter:typeof e.delimiter>"u"?T.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:T.encode,encoder:typeof e.encoder=="function"?e.encoder:T.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:T.encodeValuesOnly,filter:a,format:r,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:T.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:T.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:T.strictNullHandling}},cr=function(t,e){var n=t,r=lr(e),i,a;typeof r.filter=="function"?(a=r.filter,n=a("",n)):M(r.filter)&&(a=r.filter,i=a);var s=[];if(typeof n!="object"||n===null)return"";var u;e&&e.arrayFormat in $e?u=e.arrayFormat:e&&"indices"in e?u=e.indices?"indices":"repeat":u="indices";var l=$e[u];i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var o=0;o<i.length;++o){var c=i[o];r.skipNulls&&n[c]===null||Xe(s,ur(n[c],c,l,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset))}var f=s.join(r.delimiter),g=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),f.length>0?g+f:""},K=Ge,ge=Object.prototype.hasOwnProperty,fr=Array.isArray,$={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:K.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},hr=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},Ye=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},dr="utf8=%26%2310003%3B",pr="utf8=%E2%9C%93",gr=function(e,n){var r={},i=n.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=n.parameterLimit===1/0?void 0:n.parameterLimit,s=i.split(n.delimiter,a),u=-1,l,o=n.charset;if(n.charsetSentinel)for(l=0;l<s.length;++l)s[l].indexOf("utf8=")===0&&(s[l]===pr?o="utf-8":s[l]===dr&&(o="iso-8859-1"),u=l,l=s.length);for(l=0;l<s.length;++l)if(l!==u){var c=s[l],f=c.indexOf("]="),g=f===-1?c.indexOf("="):f+1,h,d;g===-1?(h=n.decoder(c,$.decoder,o,"key"),d=n.strictNullHandling?null:""):(h=n.decoder(c.slice(0,g),$.decoder,o,"key"),d=K.maybeMap(Ye(c.slice(g+1),n),function(p){return n.decoder(p,$.decoder,o,"value")})),d&&n.interpretNumericEntities&&o==="iso-8859-1"&&(d=hr(d)),c.indexOf("[]=")>-1&&(d=fr(d)?[d]:d),ge.call(r,h)?r[h]=K.combine(r[h],d):r[h]=d}return r},vr=function(t,e,n,r){for(var i=r?e:Ye(e,n),a=t.length-1;a>=0;--a){var s,u=t[a];if(u==="[]"&&n.parseArrays)s=[].concat(i);else{s=n.plainObjects?Object.create(null):{};var l=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,o=parseInt(l,10);!n.parseArrays&&l===""?s={0:i}:!isNaN(o)&&u!==l&&String(o)===l&&o>=0&&n.parseArrays&&o<=n.arrayLimit?(s=[],s[o]=i):l!=="__proto__"&&(s[l]=i)}i=s}return i},mr=function(e,n,r,i){if(e){var a=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,u=/(\[[^[\]]*])/g,l=r.depth>0&&s.exec(a),o=l?a.slice(0,l.index):a,c=[];if(o){if(!r.plainObjects&&ge.call(Object.prototype,o)&&!r.allowPrototypes)return;c.push(o)}for(var f=0;r.depth>0&&(l=u.exec(a))!==null&&f<r.depth;){if(f+=1,!r.plainObjects&&ge.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(l[1])}return l&&c.push("["+a.slice(l.index)+"]"),vr(c,n,r,i)}},yr=function(e){if(!e)return $;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?$.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?$.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:$.allowPrototypes,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:$.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:$.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:$.comma,decoder:typeof e.decoder=="function"?e.decoder:$.decoder,delimiter:typeof e.delimiter=="string"||K.isRegExp(e.delimiter)?e.delimiter:$.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:$.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:$.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:$.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:$.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:$.strictNullHandling}},br=function(t,e){var n=yr(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof t=="string"?gr(t,n):t,i=n.plainObjects?Object.create(null):{},a=Object.keys(r),s=0;s<a.length;++s){var u=a[s],l=mr(u,r[u],n,typeof t=="string");i=K.merge(i,l,n)}return K.compact(i)},wr=cr,Sr=br,Or=ye,Pr={formats:Or,parse:Sr,stringify:wr};const je=ft(Pr);function z(t){"@babel/helpers - typeof";return z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(t)}function _r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ze(r.key),r)}}function $r(t,e,n){return e&&Ee(t.prototype,e),n&&Ee(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function x(t,e,n){return e=Ze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ze(t){var e=Tr(t,"string");return z(e)==="symbol"?e:String(e)}function Tr(t,e){if(z(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(z(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xe=function(e){e&&(window.document.title=e)},jr=function(){function t(e){var n=this,r=e.windowTitle,i=e.writeDelay,a=i===void 0?400:i,s=e.createURL,u=e.parseURL,l=e.getLocation,o=e.start,c=e.dispose,f=e.push;_r(this,t),x(this,"$$type","ais.browser"),x(this,"windowTitle",void 0),x(this,"writeDelay",void 0),x(this,"_createURL",void 0),x(this,"parseURL",void 0),x(this,"getLocation",void 0),x(this,"writeTimer",void 0),x(this,"_onPopState",void 0),x(this,"inPopState",!1),x(this,"isDisposed",!1),x(this,"latestAcknowledgedHistory",0),x(this,"_start",void 0),x(this,"_dispose",void 0),x(this,"_push",void 0),this.windowTitle=r,this.writeTimer=void 0,this.writeDelay=a,this._createURL=s,this.parseURL=u,this.getLocation=l,this._start=o,this._dispose=c,this._push=f,C(function(g){var h=g.window,d=n.windowTitle&&n.windowTitle(n.read());xe(d),n.latestAcknowledgedHistory=h.history.length})}return $r(t,[{key:"read",value:function(){return this.parseURL({qsModule:je,location:this.getLocation()})}},{key:"write",value:function(n){var r=this;C(function(i){var a=i.window,s=r.createURL(n),u=r.windowTitle&&r.windowTitle(n);r.writeTimer&&clearTimeout(r.writeTimer),r.writeTimer=setTimeout(function(){xe(u),r.shouldWrite(s)&&(r._push?r._push(s):a.history.pushState(n,u||"",s),r.latestAcknowledgedHistory=a.history.length),r.inPopState=!1,r.writeTimer=void 0},r.writeDelay)})}},{key:"onUpdate",value:function(n){var r=this;this._start&&this._start(function(){n(r.read())}),this._onPopState=function(){r.writeTimer&&(clearTimeout(r.writeTimer),r.writeTimer=void 0),r.inPopState=!0,n(r.read())},C(function(i){var a=i.window;a.addEventListener("popstate",r._onPopState)})}},{key:"createURL",value:function(n){var r=this._createURL({qsModule:je,routeState:n,location:this.getLocation()});return r}},{key:"dispose",value:function(){var n=this;this._dispose&&this._dispose(),this.isDisposed=!0,C(function(r){var i=r.window;n._onPopState&&i.removeEventListener("popstate",n._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(n){var r=this;return C(function(i){var a=i.window,s=!(r.isDisposed&&r.latestAcknowledgedHistory!==a.history.length);return!r.inPopState&&s&&n!==a.location.href})}}]),t}();function Er(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.createURL,n=e===void 0?function(h){var d=h.qsModule,p=h.routeState,w=h.location,A=w.protocol,j=w.hostname,E=w.port,b=E===void 0?"":E,y=w.pathname,S=w.hash,O=d.stringify(p),P=b===""?"":":".concat(b);return O?"".concat(A,"//").concat(j).concat(P).concat(y,"?").concat(O).concat(S):"".concat(A,"//").concat(j).concat(P).concat(y).concat(S)}:e,r=t.parseURL,i=r===void 0?function(h){var d=h.qsModule,p=h.location;return d.parse(p.search.slice(1),{arrayLimit:99})}:r,a=t.writeDelay,s=a===void 0?400:a,u=t.windowTitle,l=t.getLocation,o=l===void 0?function(){return C(function(h){var d=h.window;return d.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:l,c=t.start,f=t.dispose,g=t.push;return new jr({createURL:n,parseURL:i,writeDelay:s,windowTitle:u,getLocation:o,start:c,dispose:f,push:g})}function G(t){"@babel/helpers - typeof";return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(t)}var xr=["configure"];function Ae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ae(Object(n),!0).forEach(function(r){ve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ve(t,e,n){return e=Ar(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ar(t){var e=Rr(t,"string");return G(e)==="symbol"?e:String(e)}function Rr(t,e){if(G(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(G(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nr(t,e){if(t==null)return{};var n=Ir(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ir(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Re(t){t.configure;var e=Nr(t,xr);return e}function Cr(){return{$$type:"ais.simple",stateToRoute:function(e){return Object.keys(e).reduce(function(n,r){return re(re({},n),{},ve({},r,Re(e[r])))},{})},routeToState:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).reduce(function(n,r){return re(re({},n),{},ve({},r,Re(e[r])))},{})}}}function X(t){"@babel/helpers - typeof";return X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(t)}function Ne(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ne(Object(n),!0).forEach(function(r){et(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function et(t,e,n){return e=Lr(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lr(t){var e=Ur(t,"string");return X(e)==="symbol"?e:String(e)}function Ur(t,e){if(X(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(X(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hr=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.router,r=n===void 0?Er():n,i=e.stateMapping,a=i===void 0?Cr():i,s=e.$$internal,u=s===void 0?!1:s;return function(l){var o=l.instantSearchInstance;function c(h){var d=o.mainIndex.getWidgets().length===0?o._initialUiState:o.mainIndex.getWidgetUiState({}),p=Object.keys(h).reduce(function(A,j){return ne(ne({},A),{},et({},j,h[j]))},d),w=a.stateToRoute(p);return r.createURL(w)}o._createURL=c;var f=void 0,g=o._initialUiState;return{$$type:"ais.router({router:".concat(r.$$type||"__unknown__",", stateMapping:").concat(a.$$type||"__unknown__","})"),$$internal:u,onStateChange:function(d){var p=d.uiState,w=a.stateToRoute(p);(f===void 0||!He(f,w))&&(r.write(w),f=w)},subscribe:function(){o._initialUiState=ne(ne({},g),a.routeToState(r.read())),r.onUpdate(function(d){o.mainIndex.getWidgets().length>0&&o.setUiState(a.routeToState(d))})},started:function(){var d;(d=r.start)===null||d===void 0||d.call(r)},unsubscribe:function(){r.dispose()}}}};function Y(t){"@babel/helpers - typeof";return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(t)}function Ie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ie(Object(n),!0).forEach(function(r){Dr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dr(t,e,n){return e=Wr(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wr(t){var e=kr(t,"string");return Y(e)==="symbol"?e:String(e)}function kr(t,e){if(Y(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Y(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fr(t){var e=t.numberLocale;return{formatNumber:function(r,i){return st(Number(i(r)),e)},highlight:function(r,i){try{var a=JSON.parse(r);return i(Fe(D(D({},a),{},{hit:this})))}catch(s){throw new Error('\nThe highlight helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseHighlight:function(r,i){try{var a=JSON.parse(r);return i(Me(D(D({},a),{},{hit:this})))}catch(s){throw new Error('\n  The reverseHighlight helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},snippet:function(r,i){try{var a=JSON.parse(r);return i(Ke(D(D({},a),{},{hit:this})))}catch(s){throw new Error('\nThe snippet helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseSnippet:function(r,i){try{var a=JSON.parse(r);return i(Be(D(D({},a),{},{hit:this})))}catch(s){throw new Error('\n  The reverseSnippet helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},insights:function(r,i){try{var a=JSON.parse(r),s=a.method,u=a.payload;return i(De(s,D({objectIDs:[this.objectID]},u)))}catch(l){throw new Error('\nThe insights helper expects a JSON object of the format:\n{ "method": "method-name", "payload": { "eventName": "name of the event" } }')}}}}const tt="4.56.11";function B(t){"@babel/helpers - typeof";return B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(t)}function Ce(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ce(Object(n),!0).forEach(function(r){m(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Le(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rt(r.key),r)}}function Br(t,e,n){return e&&Le(t.prototype,e),n&&Le(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&me(t,e)}function me(t,e){return me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},me(t,e)}function Qr(t){var e=Jr();return function(){var r=ae(t),i;if(e){var a=ae(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Vr(this,i)}}function Vr(t,e){if(e&&(B(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(t)}function v(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function ae(t){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ae(t)}function m(t,e,n){return e=rt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rt(t){var e=zr(t,"string");return B(e)==="symbol"?e:String(e)}function zr(t,e){if(B(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(B(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I=ut({name:"instantsearch"});function Gr(){return"#"}var Xr=function(t){qr(n,t);var e=Qr(n);function n(r){var i;Kr(this,n),i=e.call(this),m(v(i),"client",void 0),m(v(i),"indexName",void 0),m(v(i),"insightsClient",void 0),m(v(i),"onStateChange",null),m(v(i),"helper",void 0),m(v(i),"mainHelper",void 0),m(v(i),"mainIndex",void 0),m(v(i),"started",void 0),m(v(i),"templatesConfig",void 0),m(v(i),"renderState",{}),m(v(i),"_stalledSearchDelay",void 0),m(v(i),"_searchStalledTimer",void 0),m(v(i),"_initialUiState",void 0),m(v(i),"_initialResults",void 0),m(v(i),"_createURL",void 0),m(v(i),"_searchFunction",void 0),m(v(i),"_mainHelperSearch",void 0),m(v(i),"middleware",[]),m(v(i),"sendEventToInsights",void 0),m(v(i),"status","idle"),m(v(i),"error",void 0),m(v(i),"scheduleSearch",q(function(){i.started&&i.mainHelper.search()})),m(v(i),"scheduleRender",q(function(){var _,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(_=i.mainHelper)!==null&&_!==void 0&&_.hasPendingRequests()||(clearTimeout(i._searchStalledTimer),i._searchStalledTimer=null,R&&(i.status="idle",i.error=void 0)),i.mainIndex.render({instantSearchInstance:v(i)}),i.emit("render")})),m(v(i),"onInternalStateChange",q(function(){var _=i.mainIndex.getWidgetUiState({});i.middleware.forEach(function(R){var H=R.instance;H.onStateChange({uiState:_})})})),i.setMaxListeners(100);var a=r.indexName,s=a===void 0?"":a,u=r.numberLocale,l=r.initialUiState,o=l===void 0?{}:l,c=r.routing,f=c===void 0?null:c,g=r.insights,h=g===void 0?!1:g,d=r.searchFunction,p=r.stalledSearchDelay,w=p===void 0?200:p,A=r.searchClient,j=A===void 0?null:A,E=r.insightsClient,b=E===void 0?null:E,y=r.onStateChange,S=y===void 0?null:y;if(j===null)throw new Error(I("The `searchClient` option is required."));if(typeof j.search!="function")throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if(typeof j.addAlgoliaAgent=="function"&&j.addAlgoliaAgent("instantsearch.js (".concat(tt,")")),b&&typeof b!="function")throw new Error(I("The `insightsClient` option should be a function."));if(i.client=j,i.insightsClient=b,i.indexName=s,i.helper=null,i.mainHelper=null,i.mainIndex=lt({indexName:s}),i.onStateChange=S,i.started=!1,i.templatesConfig={helpers:Fr({numberLocale:u}),compileOptions:{}},i._stalledSearchDelay=w,i._searchStalledTimer=null,i._createURL=Gr,i._initialUiState=o,i._initialResults=null,d&&(i._searchFunction=d),i.sendEventToInsights=W,f){var O=typeof f=="boolean"?{}:f;O.$$internal=!0,i.use(Hr(O))}if(h){var P=typeof h=="boolean"?{}:h;P.$$internal=!0,i.use(Ft(P))}return Mt()&&i.use(Kt({$$internal:!0})),i}return Br(n,[{key:"_isSearchStalled",get:function(){return this.status==="stalled"}},{key:"use",value:function(){for(var i=this,a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];var l=s.map(function(o){var c=Mr({$$type:"__unknown__",$$internal:!1,subscribe:W,started:W,unsubscribe:W,onStateChange:W},o({instantSearchInstance:i}));return i.middleware.push({creator:o,instance:c}),c});return this.started&&l.forEach(function(o){o.subscribe(),o.started()}),this}},{key:"unuse",value:function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return this.middleware.filter(function(u){return a.includes(u.creator)}).forEach(function(u){return u.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(u){return!a.includes(u.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(i){return this.addWidgets([i])}},{key:"addWidgets",value:function(i){if(!Array.isArray(i))throw new Error(I("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(i.some(function(a){return typeof a.init!="function"&&typeof a.render!="function"}))throw new Error(I("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(i),this}},{key:"removeWidget",value:function(i){return this.removeWidgets([i])}},{key:"removeWidgets",value:function(i){if(!Array.isArray(i))throw new Error(I("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(i.some(function(a){return typeof a.dispose!="function"}))throw new Error(I("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(i),this}},{key:"start",value:function(){var i=this;if(this.started)throw new Error(I("The `start` method has already been called once."));var a=this.mainHelper||we(this.client,this.indexName);if(a.search=function(){return i.status="loading",i.scheduleRender(!1),a.searchOnlyWithDerivedHelpers()},this._searchFunction){var s={search:function(){return new Promise(W)}};this._mainHelperSearch=a.search.bind(a),a.search=function(){var l=i.mainIndex.getHelper(),o=we(s,l.state.index,l.state);return o.once("search",function(c){var f=c.state;l.overrideStateWithoutTriggeringChangeEvent(f),i._mainHelperSearch()}),o.on("change",function(c){var f=c.state;l.setState(f)}),i._searchFunction(o),a}}if(a.on("error",function(l){var o=l.error;if(!(o instanceof Error)){var c=o;o=Object.keys(c).reduce(function(f,g){return f[g]=c[g],f},new Error(c.message))}o.error=o,i.error=o,i.status="error",i.scheduleRender(!1),i.emit("error",o)}),this.mainHelper=a,this.middleware.forEach(function(l){var o=l.instance;o.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){var u=this.scheduleSearch;this.scheduleSearch=q(W),q(function(){i.scheduleSearch=u})()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach(function(l){var o=l.instance;o.started()})}},{key:"dispose",value:function(){var i;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),(i=this.mainHelper)===null||i===void 0||i.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(a){var s=a.instance;s.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var i=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){i.status="stalled",i.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(i){var a=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this.mainHelper)throw new Error(I("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var u=typeof i=="function"?i(this.mainIndex.getWidgetUiState({})):i;this.onStateChange&&s?this.onStateChange({uiState:u,setUiState:function(o){fe(typeof o=="function"?o(u):o,a.mainIndex),a.scheduleSearch(),a.onInternalStateChange()}}):(fe(u,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.started)throw new Error(I("The `start` method needs to be called before `createURL`."));return this._createURL(i)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(I("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),n}(ct);const Yr=Xr;var U=function(e){return new Yr(e)};U.version=tt;U.createInfiniteHitsSessionStorageCache=Z(xt);U.highlight=Z(Fe);U.reverseHighlight=Z(Me);U.snippet=Z(Ke);U.reverseSnippet=Z(Be);U.insights=De;U.getInsightsAnonymousUserToken=$t;Object.defineProperty(U,"widgets",{get:function(){throw new ReferenceError("\"instantsearch.widgets\" are not available from the ES build.\n\nTo import the widgets:\n\nimport { searchBox } from 'instantsearch.js/es/widgets'")}});Object.defineProperty(U,"connectors",{get:function(){throw new ReferenceError("\"instantsearch.connectors\" are not available from the ES build.\n\nTo import the connectors:\n\nimport { connectSearchBox } from 'instantsearch.js/es/connectors'")}});export{U as default};
